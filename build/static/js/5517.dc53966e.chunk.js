"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[5517],{49591:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var n=r(9950),o=r(79537),a=r(12257),l=r(75165),i=r(6368),s=r(82053),c=r(48089),d=r(74745),h=r(1320),u=r(15769),p=r(34075),g=r(91434),m=r(29031),x=r(13564),f=r(26689),A=r(90260),j=r(46765),w=r(86608),b=r(38861),y=r(58738),S=r(66075),v=r(44185),C=r(63358),_=r(72870),B=r(12480),N=r(6768),D=r(32741),k=r(95074),P=r(30818),R=r(44414);const T=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transection Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}];function F(){const{themeStretch:e}=(0,w.A)(),t=(0,x.Zp)(),{enqueueSnackbar:r}=(0,m.dh)(),{dense:F,page:E,order:L,orderBy:O,rowsPerPage:M,setPage:z,selected:I,setSelected:V,onSort:W,onChangeDense:Z,onChangePage:q,onChangeRowsPerPage:K}=(0,b.Ay)({defaultOrderBy:"createDate"}),[U,H]=(0,n.useState)([]),[J,Y]=(0,n.useState)(""),[G,Q]=(0,n.useState)("new"),[X,$]=(0,n.useState)(null),[ee,te]=(0,n.useState)(null),{currentTab:re,onChangeTab:ne}=(0,j.A)("all"),[oe,ae]=(0,n.useState)("Title Insurance"),[le,ie]=(0,n.useState)(!1),[se,ce]=(0,n.useState)(""),[de,he]=(0,n.useState)(null),{file:ue}=(Boolean(de),(0,y.d4)((e=>e.File)));console.log(ue,"file details"),(0,n.useEffect)((()=>{(0,y.JD)((0,P.oc)())}),[]),(0,n.useEffect)((()=>{null!==ue&&void 0!==ue&&ue.length&&H(ue)}),[ue]);const pe=function(e){var t;let{tableData:r,comparator:n,filterName:o,filterStatus:a,filterService:l,filterStartDate:i,filterEndDate:s}=e;const c=null===(t=r)||void 0===t?void 0:t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),r=c.map((e=>e[0])),o&&(r=r.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(o.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(o.toLowerCase()))));"all"!==a&&(r=r.filter((e=>e.status===a)));"new"!==l&&(r=r.filter((e=>e.status===l)));i&&s&&(r=r.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return r}({tableData:U,comparator:(0,b.hz)(L,O),filterName:J,filterService:G,filterStatus:re,filterStartDate:X,filterEndDate:ee}),ge=F?56:76,me=!pe.length&&!!J||!pe.length&&!!re||!pe.length&&!!G||!pe.length&&!!ee||!pe.length&&!!X;return(0,R.jsxs)(o.A,{maxWidth:!e&&"lg",children:[le&&(0,R.jsx)(k.A,{}),(0,R.jsx)(C.A,{heading:"Your Files",links:[{name:"Dashboard",href:A.nB.root},{name:"Orders"}],action:(0,R.jsxs)(a.A,{gap:1,direction:"row",children:[(0,R.jsx)(l.A,{variant:"contained",component:f.N_,to:"/dashboard/addfile",startIcon:(0,R.jsx)(S.A,{icon:"clarity:form-line"}),children:"New File"}),(0,R.jsx)(l.A,{variant:"contained",component:f.N_,to:A.nB.legalForm,startIcon:(0,R.jsx)(S.A,{icon:"clarity:form-line"}),children:"Documents"})]})}),(0,R.jsx)(i.A,{sx:{p:2},children:(0,R.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:oe.label})}),(0,R.jsxs)(c.A,{children:[(0,R.jsx)(d.A,{}),(0,R.jsx)(B.F5,{filterName:J,filterService:G,filterStartDate:X,filterEndDate:ee,onFilterName:e=>{Y(e),z(0)},onFilterService:e=>{Q(e.target.value)},onFilterStartDate:e=>{$(e)},onFilterEndDate:e=>{te(e)}}),(0,R.jsx)(v.A,{children:(0,R.jsx)(h.A,{sx:{minWidth:800,position:"relative"},children:(0,R.jsxs)(u.A,{size:F?"small":"medium",children:[(0,R.jsx)(_.er,{order:L,orderBy:O,headLabel:T,rowCount:U.length,numSelected:I.length,onSort:W}),(0,R.jsxs)(p.A,{children:[pe.slice(E*M,E*M+M).map((e=>(0,R.jsx)(N.A,{row:e,onEditRow:()=>(e=>{t("/dashboard/editfile/".concat(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{t("/dashboard/filepreview/".concat(e.id),{state:e})})(e),onOrderContin:()=>{return r=e.id,void t("/dashboard/order/".concat(r));var r},onDeleteRow:()=>{return t=e.id,ie(!0),void D.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),ie(!1),200===e.status||201===e.status){const e=U.filter((e=>e.id!==t));V([]),H(e),r("Delete Successfully")}})).catch((e=>{ie(!1),e.errors&&Object.keys(e.errors).map((t=>r(e.errors[t][0],{variant:"error"})))}));var t}},e.id))),(0,R.jsx)(_.dO,{height:ge,emptyRows:(0,b.xl)(E,M,U.length)}),(0,R.jsx)(_.Sm,{isNotFound:me})]})]})})}),(0,R.jsx)(i.A,{sx:{position:"relative"},children:(0,R.jsx)(g.A,{rowsPerPageOptions:[5,10,25],component:"div",count:pe.length,rowsPerPage:M,page:E,onPageChange:q,onRowsPerPageChange:K})})]})]})}},6768:(e,t,r)=>{r.d(t,{A:()=>A});var n=r(9950),o=r(13564),a=r(26689),l=r(14857),i=r(9213),s=r(21671),c=r(93038),d=r(75165),h=r(97591),u=r(23266),p=r(90260),g=r(34437),m=(r(22704),r(33949),r(66075)),x=r(72870),f=r(44414);function A(e){let{row:t,selected:r,onSelectRow:A,onAssign:j,onViewRow:w,onDocumentUpload:b,onDownloadDocument:y,onDeleteRow:S,onEditRow:v,onOrderContin:C,onStatusChange:_}=e;(0,l.A)();const{pathname:B}=(0,o.zy)(),{updated_at:N,property_type:D,transaction_type:k,purchase_price:P,file_no:R,file_name:T,id:F}=(B.includes("admin"),(0,o.Zp)(),t),[E,L]=(0,n.useState)(null),O=Boolean(E),[M,z]=(0,n.useState)(null),I=()=>{z(null)};return(0,f.jsxs)(i.A,{hover:!0,selected:r,children:[(A||r)&&(0,f.jsx)(s.A,{padding:"checkbox",children:(0,f.jsx)(c.A,{checked:r,onClick:A})}),(0,f.jsx)(s.A,{align:"left",children:R}),(0,f.jsx)(s.A,{align:"left",children:T}),(0,f.jsx)(s.A,{align:"left",children:N&&(0,g.ts)(N)}),(0,f.jsx)(s.A,{align:"left",children:D}),(0,f.jsx)(s.A,{align:"left",children:k}),(0,f.jsx)(s.A,{align:"left",children:P}),(0,f.jsx)(s.A,{align:"left",children:(0,f.jsx)(m.A,{icon:"tabler:eye-filled",onClick:()=>w()})}),(0,f.jsx)(s.A,{align:"left",children:C&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.A,{variant:"contained","aria-controls":O?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":O?"true":void 0,onClick:e=>{L(e.currentTarget)},children:"Order"}),(0,f.jsxs)(h.A,{id:"basic-menu",anchorEl:E,open:O,onClose:()=>{L(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.titleInsurance,"/").concat(F),children:"Title Insurance"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.coopLienSearch,"/").concat(F),children:"Coop Lien Search"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.eagle9Policy,"/").concat(F),children:"Eagle 9 Policy"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.coopCondoOfferinPlans,"/").concat(F),children:"Coop/Condo Offering Plans"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.uccCreateFile,"/").concat(F),children:"UCC - Create/File"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.exchange1031,"/").concat(F),children:"1031 Exchange"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.acrisETax,"/").concat(F),children:"Acris E-Tax Forms"}),(0,f.jsx)(u.A,{component:a.N_,to:"".concat(p.nB.orders.otherSearches,"/").concat(F),children:"Other Searches"})]})]})}),(0,f.jsx)(s.A,{align:"right",children:(0,f.jsx)(x.ZE,{open:M,onOpen:e=>{z(e.currentTarget)},onClose:I,actions:(0,f.jsxs)(f.Fragment,{children:[S&&(0,f.jsxs)(u.A,{onClick:()=>{S(),I()},sx:{color:"error.main"},children:[(0,f.jsx)(m.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,f.jsxs)(u.A,{onClick:()=>{v(),I()},children:[(0,f.jsx)(m.A,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}},52432:(e,t,r)=>{r.d(t,{A:()=>B});var n=r(58168),o=r(98587),a=r(9950),l=(r(26429),r(2803)),i=r(5747),s=r(7951),c=r(79859),d=r(82053),h=r(19657),u=r(65471),p=r(44414);const g=(0,u.A)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var m=r(24184);const x=(0,s.Ay)(m.A)((e=>{let{theme:t}=e;return(0,n.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,n.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,n.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,h.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,h.tL)(t.palette.grey[600],.12)})})})),f=(0,s.Ay)(g)({width:24,height:16});const A=function(e){const t=e;return(0,p.jsx)("li",{children:(0,p.jsx)(x,(0,n.A)({focusRipple:!0},e,{ownerState:t,children:(0,p.jsx)(f,{ownerState:t})}))})};var j=r(37665);function w(e){return(0,j.A)("MuiBreadcrumbs",e)}const b=(0,r(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),y=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,s.Ay)(d.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(b.li)]:t.li},t.root]})({}),v=(0,s.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),C=(0,s.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function _(e,t,r,n){return e.reduce(((o,a,l)=>(l<e.length-1?o=o.concat(a,(0,p.jsx)(C,{"aria-hidden":!0,className:t,ownerState:n,children:r},"separator-".concat(l))):o.push(a),o)),[])}const B=a.forwardRef((function(e,t){const r=(0,c.A)({props:e,name:"MuiBreadcrumbs"}),{children:s,className:d,component:h="nav",expandText:u="Show path",itemsAfterCollapse:g=1,itemsBeforeCollapse:m=1,maxItems:x=8,separator:f="/"}=r,j=(0,o.A)(r,y),[b,C]=a.useState(!1),B=(0,n.A)({},r,{component:h,expanded:b,expandText:u,itemsAfterCollapse:g,itemsBeforeCollapse:m,maxItems:x,separator:f}),N=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,t)})(B),D=a.useRef(null),k=a.Children.toArray(s).filter((e=>a.isValidElement(e))).map(((e,t)=>(0,p.jsx)("li",{className:N.li,children:e},"child-".concat(t))));return(0,p.jsx)(S,(0,n.A)({ref:t,component:h,color:"text.secondary",className:(0,l.A)(N.root,d),ownerState:B},j,{children:(0,p.jsx)(v,{className:N.ol,ref:D,ownerState:B,children:_(b||x&&k.length<=x?k:(e=>m+g>=e.length?e:[...e.slice(0,m),(0,p.jsx)(A,{"aria-label":u,onClick:()=>{C(!0);const e=D.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-g,e.length)])(k),N.separator,f,B)})}))}))},30099:(e,t,r)=>{r.d(t,{A:()=>a});r(9950);var n=r(65471),o=r(44414);const a=(0,n.A)((0,o.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},88090:(e,t,r)=>{r.d(t,{A:()=>a});r(9950);var n=r(65471),o=r(44414);const a=(0,n.A)((0,o.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);