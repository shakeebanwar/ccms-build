"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7636],{51624:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(15861),a=t(29439),o=t(87757),i=t.n(o),l=t(81485),c=t(18405),s=t(18397),u=t(95004),d=t(62822),f=t(68105),h=t(47313),p=t(43265),v=t(69099),g=t(73428),x=t(33604),m=t(5239),Z=t(88705),b=t(48175),j=t(11338),w=t(66281),C=t(12025),S=t(57597),y=t(67871),D=t(25234),P=t(46417),O=function(e){var n=e.calendar,t=n.events,r=n.selectedEventId;return r?t.find((function(e){return Number(e.id)===Number(r)})):null};function B(){var e=(0,j.Z)().themeStretch,n=(0,m.I0)(),t=(0,w.Z)("up","sm"),o=(0,h.useRef)(null),B=(0,h.useState)(new Date),k=(0,a.Z)(B,2),E=k[0],T=k[1],R=(0,h.useState)(t?"dayGridMonth":"listWeek"),I=(0,a.Z)(R,2),L=I[0],F=I[1],N=(0,m.v9)(O),U=(0,m.v9)((function(e){return e.calendar})),V=U.events,_=U.isOpenModal,A=U.selectedRange;(0,h.useEffect)((function(){n((0,Z.vw)())}),[n]),(0,h.useEffect)((function(){var e=o.current;if(e){var n=e.getApi(),r=t?"dayGridMonth":"listWeek";n.changeView(r),F(r)}}),[t]);var M=function(){var e=(0,r.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.event;try{n((0,Z.eJ)(r.id,{allDay:r.allDay,start:r.start,end:r.end}))}catch(a){console.error(a)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.event;try{n((0,Z.eJ)(r.id,{allDay:r.allDay,start:r.start,end:r.end}))}catch(a){console.error(a)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){n((0,Z.Mr)())};return(0,P.jsxs)(p.Z,{maxWidth:!e&&"xl",children:[(0,P.jsx)(y.Z,{heading:"Order Continuation",links:[{name:"Dashboard",href:b.vB.root},{name:"Order Continuation"}],action:(0,P.jsx)(v.Z,{variant:"contained",startIcon:(0,P.jsx)(C.Z,{icon:"eva:plus-fill",width:20,height:20}),onClick:function(){n((0,Z.h7)())},children:"New Order Contin"})}),(0,P.jsx)(g.Z,{children:(0,P.jsxs)(D.TH,{children:[(0,P.jsx)(D.g,{date:E,view:L,onNextDate:function(){var e=o.current;if(e){var n=e.getApi();n.next(),T(n.getDate())}},onPrevDate:function(){var e=o.current;if(e){var n=e.getApi();n.prev(),T(n.getDate())}},onToday:function(){var e=o.current;if(e){var n=e.getApi();n.today(),T(n.getDate())}},onChangeView:function(e){var n=o.current;n&&(n.getApi().changeView(e),F(e))}}),(0,P.jsx)(l.ZPm,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:V,ref:o,rerenderDelay:10,initialDate:E,initialView:L,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:function(e){var t=o.current;t&&t.getApi().unselect();n((0,Z.jh)(e.start,e.end))},eventDrop:W,eventClick:function(e){n((0,Z.lz)(e.event.id))},eventResize:M,height:t?720:"auto",plugins:[c.Z,s.ZP,d.ZP,u.ZP,f.ZP]})]})}),(0,P.jsxs)(S.Kl,{open:_,onClose:z,children:[(0,P.jsx)(x.Z,{children:N?"Edit Order Contin":"Add Order Contin"}),(0,P.jsx)(D.$K,{event:N||{},range:A,onCancel:z})]})]})}},87636:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(43265),a=t(9019),o=t(11338),i=t(71361),l=t(33118),c=t(51624),s=t(46417);function u(){var e=(0,o.Z)().themeStretch;return(0,s.jsx)(i.Z,{title:"Dashboard",children:(0,s.jsx)(r.Z,{maxWidth:!e&&"xl",children:(0,s.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,s.jsx)(l.default,{})}),(0,s.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,s.jsx)(c.default,{})})]})})})}},33118:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(29439),a=t(47313),o=t(43265),i=t(35898),l=t(69099),c=t(82047),s=t(51405),u=t(73428),d=t(5297),f=t(65280),h=t(57829),p=t(61113),v=t(19536),g=t(51629),x=t(66835),m=t(57861),Z=t(91034),b=t(83929),j=t(70024),w=t(58908),C=t(1084),S=t(97890),y=t(29466),D=t(48175),P=t(80648),O=t(11338),B=t(66429),k=t(86853),E=t(12025),T=t(62677),R=t(67871),I=t(55844),L=t(27657),F=t(85077),N=t(72563),U=t(88705),V=t(46417),_=["new","old"],A=[{id:"status",label:"Order Status",align:"left",width:500},{id:"updated_at",label:"Date",align:"left",width:600},{id:"file_no",label:"File No",align:"left",width:800},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transection Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""}],M=[{api:"titleInsurance",label:"Title Insurance"},{api:"corpLienSearch",label:"Coop Lien Searches"},{api:"eaglepolicy",label:"Eagle 9 Policy"},{api:"offeringPlan",label:"Coop/Condo offering plans"},{api:"uccform",label:"UCC"},{api:"exchanger",label:"1031 Exchanges"},{api:"acricetax",label:"Acris E-Tax forms"},{api:"othersearch",label:"Other Search / Request"},{api:"",label:"Sightline\xae"}];function W(){var e=(0,O.Z)().themeStretch,n=(0,C.I0)(),t=(0,S.s0)(),W=(0,w.Ds)().enqueueSnackbar,z=(0,B.ZP)({defaultOrderBy:"createDate"}),q=z.dense,K=z.page,G=z.order,H=z.orderBy,J=z.rowsPerPage,Q=z.setPage,$=z.selected,Y=z.setSelected,X=z.onSort,ee=z.onChangeDense,ne=z.onChangePage,te=z.onChangeRowsPerPage,re=(0,a.useState)([]),ae=(0,r.Z)(re,2),oe=ae[0],ie=ae[1],le=(0,a.useState)(""),ce=(0,r.Z)(le,2),se=ce[0],ue=ce[1],de=(0,a.useState)("new"),fe=(0,r.Z)(de,2),he=fe[0],pe=fe[1],ve=(0,a.useState)(null),ge=(0,r.Z)(ve,2),xe=ge[0],me=ge[1],Ze=(0,a.useState)(null),be=(0,r.Z)(Ze,2),je=be[0],we=be[1],Ce=(0,P.Z)("all"),Se=Ce.currentTab,ye=Ce.onChangeTab,De=(0,a.useState)("Title Insurance"),Pe=(0,r.Z)(De,2),Oe=Pe[0],Be=Pe[1],ke=(0,a.useState)(!1),Ee=(0,r.Z)(ke,2),Te=Ee[0],Re=Ee[1],Ie=(0,a.useState)(""),Le=(0,r.Z)(Ie,2),Fe=Le[0],Ne=Le[1],Ue=(0,a.useState)(null),Ve=(0,r.Z)(Ue,2),_e=Ve[0],Ae=Ve[1],Me=Boolean(_e);(0,a.useEffect)((function(){"Sightline\xae"!==Oe&&We(M.find((function(e){return e.label===Oe})).api)}),[Oe]);var We=function(e){Re(!0);try{F.Z.get("user/".concat(e)).then((function(e){Re(!1);var n=e.data;200===e.status?(Ne(n.filePath),ie(n.orders)):W(n.message)}))}catch(n){if(Re(!1),n.errors)Object.keys(n.errors).map((function(e){return W(n.errors[e][0],{variant:"error"})}))}},ze=function(e){var n=e.tableData,t=e.comparator,r=e.filterName,a=e.filterStatus,o=e.filterService,i=e.filterStartDate,l=e.filterEndDate,c=n.map((function(e,n){return[e,n]}));c.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=c.map((function(e){return e[0]})),r&&(n=n.filter((function(e){return-1!==e.order_title.transaction_type.toLowerCase().indexOf(r.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(r.toLowerCase())})));"all"!==a&&(n=n.filter((function(e){return e.status===a})));"new"!==o&&(n=n.filter((function(e){return e.status===o})));i&&l&&(n=n.filter((function(e){return e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=l.getTime()})));return n}({tableData:oe,comparator:(0,B.sQ)(G,H),filterName:se,filterService:he,filterStatus:Se,filterStartDate:xe,filterEndDate:je}),qe=q?56:76,Ke=!ze.length&&!!se||!ze.length&&!!Se||!ze.length&&!!he||!ze.length&&!!je||!ze.length&&!!xe,Ge=function(e){return oe.filter((function(n){return n.status===e})).length},He=[{value:"all",label:"All",color:"info",count:oe.length},{value:"active",label:"Active",color:"info",count:Ge("active")},{value:"new",label:"New",color:"info",count:Ge("new")},{value:"placed",label:"Placed",color:"info",count:Ge("placed")},{value:"completed",label:"Completed",color:"success",count:Ge("completed")},{value:"on hold",label:"On Hold",color:"warning",count:Ge("on hold")},{value:"draft",label:"Draft",color:"default",count:Ge("draft")},{value:"cancelled",label:"Cancelled",color:"error",count:Ge("cancelled")}];return(0,V.jsxs)(o.Z,{maxWidth:!e&&"lg",children:[Te&&(0,V.jsx)(N.Z,{}),(0,V.jsx)(R.Z,{heading:"Your Orders",links:[{name:"Dashboard",href:D.vB.root},{name:"Orders"}],action:(0,V.jsxs)(i.Z,{gap:1,direction:"row",children:[(0,V.jsx)(l.Z,{variant:"contained","aria-controls":Me?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":Me?"true":void 0,onClick:function(e){Ae(e.currentTarget)},startIcon:(0,V.jsx)(E.Z,{icon:"lets-icons:order"}),children:"New Order"}),(0,V.jsxs)(c.Z,{id:"basic-menu",anchorEl:_e,open:Me,onClose:function(){Ae(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.titleInsurance,children:"Title Insurance"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.coopLienSearch,children:"Coop Lien Search"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.eagle9Policy,children:"Eagle 9 Policy"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.coopCondoOfferinPlans,children:"Coop/Condo Offering Plans"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.uccCreateFile,children:"UCC - Create/File"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.exchange1031,children:"1031 Exchange"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.acrisETax,children:"Acris E-Tax Forms"}),(0,V.jsx)(s.Z,{component:y.rU,to:D.vB.orders.otherSearches,children:"Other Searches"})]}),(0,V.jsx)(l.Z,{variant:"contained",component:y.rU,to:D.vB.legalForm,startIcon:(0,V.jsx)(E.Z,{icon:"clarity:form-line"}),children:"Legal Forms"})]})}),(0,V.jsx)(u.Z,{sx:{mb:5},children:(0,V.jsx)(d.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Oe,onChange:function(e,n){return Be(n)},sx:{px:2,bgcolor:"background.neutral"},children:M.map((function(e){return(0,V.jsx)(f.Z,{disableRipple:!0,value:e.label,label:(0,V.jsx)(i.Z,{spacing:1,direction:"row",alignItems:"center",children:(0,V.jsx)("div",{children:e.label})})},e.label)}))})}),(0,V.jsx)(h.Z,{sx:{p:2},children:(0,V.jsx)(p.Z,{variant:"h4",gutterBottom:!0,children:Oe.label})}),(0,V.jsxs)(u.Z,{children:[(0,V.jsx)(d.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Se,onChange:ye,sx:{px:2,bgcolor:"background.neutral"},children:He.map((function(e){return(0,V.jsx)(f.Z,{disableRipple:!0,value:e.value,label:(0,V.jsxs)(i.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,V.jsx)("div",{children:e.label})," ",(0,V.jsxs)(k.Z,{color:e.color,children:[" ",e.count," "]})]})},e.value)}))}),(0,V.jsx)(v.Z,{}),(0,V.jsx)(L.o,{filterName:se,filterService:he,filterStartDate:xe,filterEndDate:je,onFilterName:function(e){ue(e),Q(0)},onFilterService:function(e){pe(e.target.value)},onFilterStartDate:function(e){me(e)},onFilterEndDate:function(e){we(e)},optionsService:_}),(0,V.jsx)(T.Z,{children:(0,V.jsx)(g.Z,{sx:{minWidth:800,position:"relative"},children:(0,V.jsxs)(x.Z,{size:q?"small":"medium",children:[(0,V.jsx)(I.K,{order:G,orderBy:H,headLabel:A,rowCount:oe.length,numSelected:$.length,onSort:X}),(0,V.jsxs)(m.Z,{children:[ze.slice(K*J,K*J+J).map((function(e){return(0,V.jsx)(L.B,{row:e,onViewRow:function(){return function(e){"Title Insurance"===Oe&&t(D.vB.viewOrders.titleInsuranceOrderView,{state:e}),"Coop Lien Searches"===Oe&&t(D.vB.viewOrders.CoopLienSearchOrderView,{state:e}),"Eagle 9 Policy"===Oe&&t(D.vB.viewOrders.eagle9PolicyOrderView,{state:e}),"Coop/Condo offering plans"===Oe&&t(D.vB.viewOrders.coopCondoOfferinPlansOrderView,{state:e}),"1031 Exchanges"===Oe&&t(D.vB.viewOrders.exchange1031OrderView,{state:e}),"Other Search / Request"===Oe&&t(D.vB.viewOrders.otherSearchesOrderView,{state:e})}(e)},onDownloadDocument:function(){return function(e){if(e){var n=Fe+e.name;F.Z.get(n,{responseType:"blob"}).then((function(n){var t=URL.createObjectURL(n.data),r=document.createElement("a");r.download=e.name,r.href=t,r.click()})).catch((function(e){return W(e,{variant:"error"})}))}else W("Document Not Found!",{variant:"error"})}(null===e||void 0===e?void 0:e.document)},onOrderContin:function(){return t=e.file_no,void n((0,U.V7)(t));var t},onDeleteRow:function(){return function(e){Re(!0);var n=M.find((function(e){return e.label===Oe})).api;F.Z.delete("user/".concat(n,"/").concat(e)).then((function(n){if(console.log("response",n),Re(!1),200===n.status||201===n.status){var t=oe.filter((function(n){return n.id!==e}));Y([]),ie(t),W("Delete Successfully")}})).catch((function(e){Re(!1),e.errors&&Object.keys(e.errors).map((function(n){return W(e.errors[n][0],{variant:"error"})}))}))}(e.id)}},e.id)})),(0,V.jsx)(I.$W,{height:qe,emptyRows:(0,B.fQ)(K,J,oe.length)}),(0,V.jsx)(I.et,{isNotFound:Ke})]})]})})}),(0,V.jsxs)(h.Z,{sx:{position:"relative"},children:[(0,V.jsx)(Z.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:ze.length,rowsPerPage:J,page:K,onPageChange:ne,onRowsPerPageChange:te}),(0,V.jsx)(b.Z,{control:(0,V.jsx)(j.Z,{checked:q,onChange:ee}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})}}}]);