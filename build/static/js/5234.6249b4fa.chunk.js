"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[5234],{50574:function(e,t,r){r.d(t,{dS:function(){return v},ZQ:function(){return d},tR:function(){return w}});var n=r(88564),o=r(17551),i=r(57829),a=r(61113),c=r(46417),l=(0,n.ZP)(i.Z)((function(){return{display:"flex",alignItems:"center",justifyContent:"flex-end"}})),s=(0,n.ZP)("div")((function(e){var t=e.theme;return{marginLeft:-4,borderRadius:"50%",width:t.spacing(2),height:t.spacing(2),border:"solid 2px ".concat(t.palette.background.paper),boxShadow:"inset -1px 1px 2px ".concat((0,o.Fq)(t.palette.common.black,.24))}}));function d(e){var t=e.colors,r=e.limit,n=void 0===r?3:r,o=e.sx,i=t.slice(0,n),d=t.length-n;return(0,c.jsxs)(l,{component:"span",sx:o,children:[i.map((function(e,t){return(0,c.jsx)(s,{sx:{bgcolor:e}},e+t)})),t.length>n&&(0,c.jsx)(a.Z,{variant:"subtitle2",children:"+".concat(d)})]})}var u=r(1413),f=r(45987),p=r(44758),h=r(12025),x=["colors","onChangeColor","sx"],g=["sx"];function v(e){var t=e.colors,r=e.onChangeColor,n=e.sx,o=(0,f.Z)(e,x);return(0,c.jsx)(i.Z,{sx:n,children:t.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,c.jsx)(p.Z,(0,u.Z)({size:"small",value:e,color:"default",onChange:function(){return r(e)},icon:(0,c.jsx)(b,{sx:(0,u.Z)({},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)}})}),checkedIcon:(0,c.jsx)(b,{sx:(0,u.Z)({transform:"scale(1.4)","&:before":{opacity:.48,width:"100%",content:"''",height:"100%",borderRadius:"50%",position:"absolute",boxShadow:"4px 4px 8px 0 currentColor"},"& svg":{width:12,height:12,color:"common.white"}},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)},boxShadow:function(e){return"4px 4px 8px 0 ".concat(e.palette.grey[50024])},"& svg":{width:12,height:12,color:"common.black"}})}),sx:{color:e,"&:hover":{opacity:.72}}},o),e)}))})}function b(e){var t=e.sx,r=(0,f.Z)(e,g);return(0,c.jsx)(i.Z,(0,u.Z)((0,u.Z)({sx:(0,u.Z)({width:20,height:20,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",bgcolor:"currentColor",transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}},t)},r),{},{children:(0,c.jsx)(h.Z,{icon:"eva:checkmark-fill"})}))}var m=r(54299),y=r(33827),Z=["colors"];function w(e){var t=e.colors,r=(0,f.Z)(e,Z);return(0,c.jsx)(m.Z,(0,u.Z)((0,u.Z)({row:!0},r),{},{children:t.map((function(e){var t="#FFFFFF"===e||"white"===e;return(0,c.jsx)(y.Z,{value:e,color:"default",icon:(0,c.jsx)(j,{sx:(0,u.Z)({},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)}})}),checkedIcon:(0,c.jsx)(j,{sx:(0,u.Z)({transform:"scale(1.4)","&:before":{opacity:.48,width:"100%",content:"''",height:"100%",borderRadius:"50%",position:"absolute",boxShadow:"4px 4px 8px 0 currentColor"},"& svg":{width:12,height:12,color:"common.white"}},t&&{border:function(e){return"solid 1px ".concat(e.palette.divider)},boxShadow:function(e){return"4px 4px 8px 0 ".concat(e.palette.grey[50024])},"& svg":{width:12,height:12,color:"common.black"}})}),sx:{color:e,"&:hover":{opacity:.72}}},e)}))}))}function j(e){var t=e.sx;return(0,c.jsx)(i.Z,{sx:(0,u.Z)({width:20,height:20,display:"flex",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center",bgcolor:"currentColor",transition:function(e){return e.transitions.create("all",{duration:e.transitions.duration.shortest})}},t),children:(0,c.jsx)(h.Z,{icon:"eva:checkmark-fill"})})}},25234:function(e,t,r){r.d(t,{$K:function(){return q},TH:function(){return _},g:function(){return J}});var n=r(1413),o=r(15861),i=r(29439),a=r(87757),c=r.n(a),l=r(47313),s=r(97890),d=r(28089),u=r(19118),f=r.n(u),p=r(89600),h=r(58908),x=r(75627),g=r(1432),v=r(35898),b=r(93542),m=r(30467),y=r(51405),Z=r(4117),w=r(61689),j=r(47131),C=r(57829),k=r(69099),F=r(17798),S=r(32703),D=r(5239),R=r(88705),I=r(12025),M=r(50574),T=r(21664),z=r(85077),P=r(78789),W=r(46417),H=["#00AB55","#1890FF","#54D62C","#FFC107","#FF4842","#04297A","#7A0C2E"],Q=function(e,t){var r={title:e.title||"",description:"",textColor:"#1890FF",start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date};return e||t?f()({},r,e):r};function q(e){var t=e.event,r=e.range,a=e.onCancel,u=(0,h.Ds)().enqueueSnackbar,f=(0,D.I0)(),q=(0,s.TH)().pathname,A=(0,D.v9)((function(e){return e.calendar})).selectedFileNumber,B=(0,l.useState)([]),_=(0,i.Z)(B,2),G=_[0],O=_[1],V=0===Object.keys(t).length,E=q.includes("employee"),L=d.Ry().shape({title:d.Z_().max(255).required("Title is required"),description:d.Z_().max(5e3)}),N=(0,x.cI)({resolver:(0,g.X)(L),defaultValues:Q(t,r)}),U=N.reset,J=N.control,K=N.setValue,X=N.handleSubmit,$=N.formState.isSubmitting;(0,l.useEffect)((function(){A&&K("title",A),E||Y()}),[]);var Y=function(){try{z.Z.get("user/orders").then((function(e){var t=e.data;200===e.status?O(t.orders):u(t.message)}))}catch(e){if(e.errors)Object.keys(e.errors).map((function(t){return u(e.errors[t][0],{variant:"error"})}))}},ee=function(){var e=(0,o.Z)(c().mark((function e(r){var n,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=!E&&{order_id:G.find((function(e){return e.file_no===r.title})).id,title:r.title,description:r.description,textColor:r.textColor,end:(0,p.Z)(r.end,"yyyy-MM-dd HH:mm:ss")},o=E&&{status:r.status},t.id?(f(E?(0,R.Ou)(t.id,o):(0,R.eJ)(t.id,n)),setTimeout((function(){u("Update success!")}),2e3)):(f((0,R.yM)(n)),setTimeout((function(){u("Create success!")}),2e3)),a(),U()}catch(i){console.error(i)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:try{a(),f((0,R.Bt)(t.id)),u("Delete success!")}catch(r){console.error(r)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,W.jsxs)(T.RV,{methods:N,onSubmit:X(ee),children:[(0,W.jsxs)(v.Z,{spacing:3,sx:{p:3},children:[(0,W.jsx)(x.Qr,{name:"title",control:J,render:function(e){var t=e.field;return(0,W.jsx)(b.Z,{value:t.value,freeSolo:!0,disabled:E,onChange:function(e,r){return t.onChange(r)},options:G.map((function(e){return e.file_no})),renderInput:function(e){return(0,W.jsx)(m.Z,(0,n.Z)({label:"File Number"},e))}})}}),(0,W.jsx)(T.au,{name:"description",label:"Description",multiline:!0,rows:4,disabled:E}),E&&(0,W.jsx)(x.Qr,{name:"status",control:J,render:function(e){var t=e.field;return(0,W.jsx)(m.Z,(0,n.Z)((0,n.Z)({},t),{},{fullWidth:!0,select:!0,label:"Status",SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{textTransform:"capitalize"},children:P.Q.map((function(e){return(0,W.jsx)(y.Z,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)}))}))}}),(0,W.jsx)(x.Qr,{name:"end",control:J,render:function(e){var t=e.field;return(0,W.jsx)(F.Z,(0,n.Z)((0,n.Z)({},t),{},{label:"Date",inputFormat:"dd/MM/yyyy hh:mm a",renderInput:function(e){return(0,W.jsx)(m.Z,(0,n.Z)((0,n.Z)({},e),{},{fullWidth:!0,disabled:E}))}}))}}),!E&&(0,W.jsx)(x.Qr,{name:"textColor",control:J,render:function(e){var t=e.field;return(0,W.jsx)(M.tR,{value:t.value,onChange:t.onChange,colors:H})}})]}),(0,W.jsxs)(Z.Z,{children:[!V&&(0,W.jsx)(w.Z,{title:"Delete Event",children:(0,W.jsx)(j.Z,{onClick:te,children:(0,W.jsx)(I.Z,{icon:"eva:trash-2-outline",width:20,height:20})})}),(0,W.jsx)(C.Z,{sx:{flexGrow:1}}),(0,W.jsx)(k.Z,{variant:"outlined",color:"inherit",onClick:a,children:"Cancel"}),(0,W.jsx)(S.Z,{type:"submit",variant:"contained",loading:$,children:V?"Add":"Update"})]})]})}var A=r(88564),B=r(17551),_=(0,A.ZP)("div")((function(e){var t=e.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-list-event-dot-width":"8px","--fc-border-color":t.palette.divider,"--fc-event-border-color":t.palette.info.light,"--fc-now-indicator-color":t.palette.error.main,"--fc-today-bg-color":t.palette.action.selected,"--fc-page-bg-color":t.palette.background.default,"--fc-neutral-bg-color":t.palette.background.neutral,"--fc-list-event-hover-bg-color":t.palette.action.hover,"--fc-highlight-color":(0,B.Fq)(t.palette.primary.main,.08)},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(t.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":(0,n.Z)((0,n.Z)({},t.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-event":{borderColor:"transparent",backgroundColor:"transparent"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:4,backgroundColor:t.palette.common.white,transition:t.transitions.create("filter"),"&:hover":{filter:"brightness(0.92)"},"&:before,&:after":{top:0,left:0,width:"100%",height:"100%",content:"''",borderRadius:4,position:"absolute",boxSizing:"border-box"},"&:before":{zIndex:8,opacity:.32,border:"solid 1px currentColor"},"&:after":{zIndex:7,opacity:.24,backgroundColor:"currentColor"}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.24)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{padding:0,overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper},"& .fc .fc-popover-header":(0,n.Z)((0,n.Z)({},t.typography.subtitle2),{},{padding:t.spacing(1),backgroundColor:t.palette.grey[50012],borderBottom:"solid 1px ".concat(t.palette.divider)}),"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create("opacity"),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1.5)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.palette.text.disabled}},"& .fc .fc-daygrid-day-number":(0,n.Z)((0,n.Z)({},t.typography.body2),{},{padding:t.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":(0,n.Z)((0,n.Z)({},t.typography.caption),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-axis-cushion":(0,n.Z)((0,n.Z)({},t.typography.body2),{},{color:t.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":(0,n.Z)({},t.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":(0,n.Z)({},t.typography.subtitle2),"& .fc .fc-list-event":(0,n.Z)((0,n.Z)({},t.typography.body2),{},{"& .fc-list-event-time":{color:t.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),G=r(4942),O=r(3789),V=r(61113),E=r(75868),L=r(66281),N=[{value:"dayGridMonth",label:"Month",icon:"ic:round-view-module"},{value:"timeGridWeek",label:"Week",icon:"ic:round-view-week"},{value:"timeGridDay",label:"Day",icon:"ic:round-view-day"},{value:"listWeek",label:"Agenda",icon:"ic:round-view-agenda"}],U=(0,A.ZP)("div")((function(e){var t=e.theme;return(0,G.Z)({display:"flex",alignItems:"center",flexDirection:"column",padding:t.spacing(2.5)},t.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"})}));function J(e){var t=e.date,r=e.view,n=e.onToday,o=e.onNextDate,i=e.onPrevDate,a=e.onChangeView,c=(0,L.Z)("up","sm");return(0,W.jsxs)(U,{children:[c&&(0,W.jsx)(v.Z,{direction:"row",spacing:.5,children:N.map((function(e){return(0,W.jsx)(w.Z,{title:e.label,children:(0,W.jsx)(O.Z,{value:r,selected:e.value===r,onChange:function(){return a(e.value)},sx:{width:32,height:32,padding:0,border:0},children:(0,W.jsx)(I.Z,{icon:e.icon,width:20,height:20})})},e.value)}))}),(0,W.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,W.jsx)(j.Z,{onClick:i,children:(0,W.jsx)(I.Z,{icon:"eva:arrow-ios-back-fill",width:20,height:20})}),(0,W.jsx)(V.Z,{variant:"h5",children:(0,E.Mu)(t)}),(0,W.jsx)(j.Z,{onClick:o,children:(0,W.jsx)(I.Z,{icon:"eva:arrow-ios-forward-fill",width:20,height:20})})]}),c&&(0,W.jsx)(k.Z,{size:"small",color:"error",variant:"contained",onClick:n,children:"Today"})]})}}}]);