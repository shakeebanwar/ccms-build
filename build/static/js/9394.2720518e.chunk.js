"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[9394],{67871:function(e,a,r){r.d(a,{Z:function(){return v}});var n=r(1413),i=r(45987),s=r(65406),t=r.n(s),o=r(57829),d=r(61113),l=r(47723),u=r(29466),m=r(3404),c=r(46417),p=["links","activeLast"];function x(e){var a=e.links,r=e.activeLast,s=void 0!==r&&r,t=(0,i.Z)(e,p),l=a[a.length-1].name,u=a.map((function(e){return(0,c.jsx)(f,{link:e},e.name)})),x=a.map((function(e){return(0,c.jsx)("div",{children:e.name!==l?(0,c.jsx)(f,{link:e}):(0,c.jsx)(d.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return(0,c.jsx)(m.Z,(0,n.Z)((0,n.Z)({separator:(0,c.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},t),{},{children:s?u:x}))}function f(e){var a=e.link,r=a.href,n=a.name,i=a.icon;return(0,c.jsxs)(l.Z,{variant:"body2",component:u.rU,to:r||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[i&&(0,c.jsx)(o.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:i}),n]},n)}var h=["links","action","heading","moreLink","sx"];function v(e){var a=e.links,r=e.action,s=e.heading,u=e.moreLink,m=void 0===u?[]:u,p=e.sx,f=(0,i.Z)(e,h);return(0,c.jsxs)(o.Z,{sx:(0,n.Z)({mb:5},p),children:[(0,c.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,c.jsx)(d.Z,{variant:"h4",gutterBottom:!0,children:s}),(0,c.jsx)(x,(0,n.Z)({links:a},f))]}),r&&(0,c.jsx)(o.Z,{sx:{flexShrink:0},children:r})]}),(0,c.jsx)(o.Z,{sx:{mt:2},children:t()(m)?(0,c.jsx)(l.Z,{href:m,target:"_blank",rel:"noopener",variant:"body2",children:m}):m.map((function(e){return(0,c.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},80648:function(e,a,r){r.d(a,{Z:function(){return s}});var n=r(29439),i=r(47313);function s(e){var a=(0,i.useState)(e||""),r=(0,n.Z)(a,2),s=r[0],t=r[1];return{currentTab:s,onChangeTab:function(e,a){t(a)},setCurrentTab:t}}},90862:function(e,a,r){r.d(a,{rv:function(){return j},uX:function(){return A},$:function(){return L},k_:function(){return R}});var n=r(47313),i=r(12025),s=r(46417);r(3484);var t=r(76221);var o=r(15861),d=r(87757),l=r.n(d),u=r(28089),m=r(58908),c=r(1432),p=r(75627),x=r(73428),f=r(35898),h=r(32703),v=r(97890),g=r(85077),b=r(21664),_=r(72563);function j(){var e=(0,m.Ds)().enqueueSnackbar,a=(0,v.TH)().pathname.includes("admin"),r=u.Ry().shape({oldPassword:u.Z_().required("Old Password is required"),newPassword:u.Z_().min(8,"Password must be at least 8 characters").required("New Password is required"),confirm_password:u.Z_().oneOf([u.iH("newPassword"),null],"Passwords must match")}),n=(0,p.cI)({resolver:(0,c.X)(r),defaultValues:{oldPassword:"",newPassword:"",confirm_password:"",loading:!1}}),i=n.reset,t=n.handleSubmit,d=n.setValue,j=n.watch,Z=n.formState.isSubmitting,y=j(),w=function(){var r=(0,o.Z)(l().mark((function r(n){var s,t,o;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d("loading",!0),(s=new FormData).append("old_password",n.oldPassword),s.append("new_password",n.newPassword),s.append("confirm_password",n.confirm_password),r.prev=5,r.next=8,g.Z.post("".concat(a?"admin":"user","/changePassword"),s);case 8:t=r.sent,d("loading",!1),o=t.data,e(o.message),i(),r.next=20;break;case 15:r.prev=15,r.t0=r.catch(5),d("loading",!1),console.log("Error during API request:",r.t0),e(null===r.t0||void 0===r.t0?void 0:r.t0.message,{variant:"error"});case 20:case"end":return r.stop()}}),r,null,[[5,15]])})));return function(e){return r.apply(this,arguments)}}();return(0,s.jsxs)(x.Z,{sx:{p:3},children:[y.loading&&(0,s.jsx)(_.Z,{}),(0,s.jsx)(b.RV,{methods:n,onSubmit:t(w),children:(0,s.jsxs)(f.Z,{spacing:3,alignItems:"flex-end",children:[(0,s.jsx)(b.au,{name:"oldPassword",type:"password",label:"Old Password"}),(0,s.jsx)(b.au,{name:"newPassword",type:"password",label:"New Password"}),(0,s.jsx)(b.au,{name:"confirm_password",type:"password",label:"Confirm New Password"}),(0,s.jsx)(h.Z,{type:"submit",variant:"contained",loading:Z,children:"Save Changes"})]})})]})}var Z=r(1413),y=r(9019),w=r(61113),q=r(57829),k=r(30467),P=r(64872),C=r(89600),S=r(54285),N=r(87204),O=r(36287);function A(){var e=(0,m.Ds)().enqueueSnackbar,a=(0,S.Z)().user,r=u.Ry().shape({email:u.Z_().required("Email is required"),dateOfBirth:u.Z_().required("Date Of Birth is required"),phoneNumber:u.Z_().required("Number is required"),address1:u.Z_().required("Adress is required"),country:u.Z_().required("Country is required"),state:u.Z_().required("State is required"),city:u.Z_().required("City is required"),zipCode:u.Z_().required("Zip Code is required"),fax_number:u.Z_().required("Fax Number is required"),work_phone_number:u.Z_().required("Work Phone Number is required"),address2:u.Z_().required("adress2 is required"),country_code:u.Z_().required("Country Code is required"),middle_name:u.Z_().required("Middle Name is required"),first_name:u.Z_().required("First Name is required"),last_name:u.Z_().required("Last Name is required"),company_name:u.Z_().required("Company Name is required")}),i=(0,p.cI)({resolver:(0,c.X)(r),defaultValues:{first_name:"",middle_name:"",last_name:"",email:"",dateOfBirth:null,company_name:"",image:"",fax_number:"",work_phone_number:"",address2:"",country_code:"",phoneNumber:"",country:"",address1:"",state:"",city:"",zipCode:"",isPublic:!1,loading:!1}}),d=i.setValue,v=i.handleSubmit,j=i.reset,A=i.watch,L=i.formState.isSubmitting,R=A();(0,n.useEffect)((function(){d("loading",!0),(0,g.Z)("user/profile").then((function(e){d("loading",!1);var a=e.data.user,r=e.data.user.user_detail[0],n=O.yA+a.image,i={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",company_name:(null===a||void 0===a?void 0:a.company_name)||"",middle_name:null===a||void 0===a?void 0:a.middle_name,dateOfBirth:(null===a||void 0===a?void 0:a.birthday)||null,image:n||"",fax_number:(null===r||void 0===r?void 0:r.fax_number)||"",work_phone_number:(null===r||void 0===r?void 0:r.work_phone_number)||"",address2:null===r||void 0===r?void 0:r.address2,country_code:null===r||void 0===r?void 0:r.country_code,phoneNumber:(null===r||void 0===r?void 0:r.phone_number)||"",country:(null===r||void 0===r?void 0:r.country)||"",address1:(null===r||void 0===r?void 0:r.address1)||"",state:(null===r||void 0===r?void 0:r.state)||"",city:(null===r||void 0===r?void 0:r.city)||"",zipCode:(null===r||void 0===r?void 0:r.zipcode)||"",isPublic:(null===a||void 0===a?void 0:a.isPublic)||!1};j(i)})).catch((function(a){d("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((function(r){return e(a.errors[r][0],{variant:"error"})}))}))}),[]);var I=function(){var r=(0,o.Z)(l().mark((function r(n){var i,s,t;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d("loading",!0),(i=new FormData).append("fax_number",n.fax_number),i.append("work_phone_number",n.work_phone_number),i.append("address2",n.address2),i.append("address1",n.address1),i.append("_method","PUT"),i.append("country_code",n.country_code),i.append("last_name",n.last_name),i.append("middle_name",n.middle_name),i.append("email",n.email),i.append("phone_number",n.phoneNumber),i.append("first_name",n.first_name),"object"===typeof n.image&&i.append("image",n.image),i.append("country",n.country),i.append("state",n.state),i.append("city",n.city),i.append("company_name",n.company_name),i.append("zipcode",n.zipCode),i.append("birthday",n.dateOfBirth),r.prev=20,r.next=23,g.Z.post("user/profile/".concat(a.id),i);case 23:s=r.sent,d("loading",!1),t=s.data,e(t.message),r.next=34;break;case 29:r.prev=29,r.t0=r.catch(20),d("loading",!1),console.error("Error during API request:",r.t0),r.t0.errors&&Object.keys(r.t0.errors).map((function(a){return e(r.t0.errors[a][0],{variant:"error"})}));case 34:case"end":return r.stop()}}),r,null,[[20,29]])})));return function(e){return r.apply(this,arguments)}}(),D=(0,n.useCallback)((function(e){var a=e[0];a&&d("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[d]);return(0,s.jsxs)(b.RV,{methods:i,onSubmit:v(I),children:[R.loading&&(0,s.jsx)(_.Z,{}),(0,s.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{sx:{py:10,px:3,textAlign:"center"},children:(0,s.jsx)(b.sX,{name:"image",accept:"image/*",maxSize:3145728,onDrop:D,helperText:(0,s.jsxs)(w.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,s.jsx)("br",{})," max size of ",(0,t.oe)(3145728)]})})})}),(0,s.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,s.jsxs)(x.Z,{sx:{p:3},children:[(0,s.jsxs)(q.Z,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,s.jsx)(b.au,{name:"first_name",label:"First Name"}),(0,s.jsx)(b.au,{name:"last_name",label:"Last Name"}),(0,s.jsx)(b.au,{name:"email",label:"Email Address"}),(0,s.jsx)(b.au,{name:"phoneNumber",label:"Phone Number"}),(0,s.jsx)(b.au,{name:"address1",label:"Address"}),(0,s.jsx)(P.Z,{label:"Date of Birth",name:"dateOfBirth",value:R.dateOfBirth,onChange:function(e){var a=new Date(e);d("dateOfBirth",(0,C.Z)(a,"yyyy/MM/dd"))},renderInput:function(e){return(0,s.jsx)(k.Z,(0,Z.Z)((0,Z.Z)({},e),{},{fullWidth:!0}))}}),(0,s.jsxs)(b.Cc,{name:"country",label:"Country",placeholder:"Country",children:[(0,s.jsx)("option",{value:""}),N.hW.map((function(e){return(0,s.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,s.jsx)(b.au,{name:"state",label:"State/Region"}),(0,s.jsx)(b.au,{name:"fax_number",label:"Fax Number"}),(0,s.jsx)(b.au,{name:"work_phone_number",label:"Work Phone Number"}),(0,s.jsx)(b.au,{name:"country_code",label:"Country Code"}),(0,s.jsx)(b.au,{name:"address2",label:"Address2"}),(0,s.jsx)(b.au,{name:"middle_name",label:"Middle Name"}),(0,s.jsx)(b.au,{name:"city",label:"City"}),(0,s.jsx)(b.au,{name:"zipCode",label:"Zip/Code"})]}),(0,s.jsx)(b.au,{rows:4,sx:{mt:3},name:"company_name",label:"Company Name"}),(0,s.jsx)(f.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,s.jsx)(h.Z,{type:"submit",variant:"contained",loading:L,children:"Save Changes"})})]})})]})]})}function L(){var e=(0,m.Ds)().enqueueSnackbar,a=(0,S.Z)().user,r=u.Ry().shape({first_name:u.Z_().required("First Name is required"),last_name:u.Z_().required("Last Name is required"),email:u.Z_().required("Email is required")}),i=(0,p.cI)({resolver:(0,c.X)(r),defaultValues:{first_name:"",last_name:"",email:"",image:""}}),d=i.setValue,v=i.handleSubmit,j=i.reset,Z=i.watch,k=i.formState.isSubmitting,P=Z();(0,n.useEffect)((function(){d("loading",!0),(0,g.Z)("admin/profile").then((function(e){d("loading",!1);var a=e.data.admin,r=O.yA+a.image,n={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",image:r||""};j(n)})).catch((function(a){d("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((function(r){return e(a.errors[r][0],{variant:"error"})}))}))}),[]);var C=function(){var r=(0,o.Z)(l().mark((function r(n){var i,s,t;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d("loading",!0),i=new FormData,"object"===typeof n.image&&i.append("image",n.image),i.append("first_name",n.first_name),i.append("last_name",n.last_name),i.append("email",n.email),i.append("_method","PUT"),r.prev=7,r.next=10,g.Z.post("admin/profile/".concat(a.id),i);case 10:s=r.sent,d("loading",!1),t=s.data,e(t.message),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(7),d("loading",!1),console.error("Error during API request:",r.t0),r.t0.errors&&Object.keys(r.t0.errors).map((function(a){return e(r.t0.errors[a][0],{variant:"error"})}));case 21:case"end":return r.stop()}}),r,null,[[7,16]])})));return function(e){return r.apply(this,arguments)}}(),N=(0,n.useCallback)((function(e){var a=e[0];a&&d("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[d]);return(0,s.jsxs)(b.RV,{methods:i,onSubmit:v(C),children:[P.loading&&(0,s.jsx)(_.Z,{}),(0,s.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{sx:{py:10,px:3,textAlign:"center"},children:(0,s.jsx)(b.sX,{name:"image",accept:"image/*",maxSize:3145728,onDrop:N,helperText:(0,s.jsxs)(w.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,s.jsx)("br",{})," max size of ",(0,t.oe)(3145728)]})})})}),(0,s.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,s.jsxs)(x.Z,{sx:{p:3},children:[(0,s.jsxs)(q.Z,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,s.jsx)(b.au,{name:"first_name",label:"First Name"}),(0,s.jsx)(b.au,{name:"last_name",label:"Last Name"}),(0,s.jsx)(b.au,{name:"email",label:"Email Address"})]}),(0,s.jsx)(f.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,s.jsx)(h.Z,{type:"submit",variant:"contained",loading:k,children:"Save Changes"})})]})})]})]})}function R(){var e=(0,m.Ds)().enqueueSnackbar,a=(0,S.Z)().user,r=u.Ry().shape({first_name:u.Z_().required("First Name is required"),last_name:u.Z_().required("Last Name is required"),email:u.Z_().required("Email is required")}),i=(0,p.cI)({resolver:(0,c.X)(r),defaultValues:{first_name:"",last_name:"",email:"",image:""}}),d=i.setValue,v=i.handleSubmit,j=i.reset,Z=i.watch,k=i.formState.isSubmitting,P=Z();(0,n.useEffect)((function(){d("loading",!0),(0,g.Z)("employee/profile").then((function(e){d("loading",!1);var a=e.data.employee,r=O.yA+a.image,n={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",image:r||""};j(n)})).catch((function(a){d("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((function(r){return e(a.errors[r][0],{variant:"error"})}))}))}),[]);var C=function(){var r=(0,o.Z)(l().mark((function r(n){var i,s,t;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return d("loading",!0),i=new FormData,"object"===typeof n.image&&i.append("image",n.image),i.append("first_name",n.first_name),i.append("last_name",n.last_name),i.append("email",n.email),i.append("_method","PUT"),r.prev=7,r.next=10,g.Z.post("employee/profile/".concat(a.id),i);case 10:s=r.sent,d("loading",!1),t=s.data,e(t.message),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(7),d("loading",!1),console.error("Error during API request:",r.t0),r.t0.errors&&Object.keys(r.t0.errors).map((function(a){return e(r.t0.errors[a][0],{variant:"error"})}));case 21:case"end":return r.stop()}}),r,null,[[7,16]])})));return function(e){return r.apply(this,arguments)}}(),N=(0,n.useCallback)((function(e){var a=e[0];a&&d("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[d]);return(0,s.jsxs)(b.RV,{methods:i,onSubmit:v(C),children:[P.loading&&(0,s.jsx)(_.Z,{}),(0,s.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,s.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,s.jsx)(x.Z,{sx:{py:10,px:3,textAlign:"center"},children:(0,s.jsx)(b.sX,{name:"image",accept:"image/*",maxSize:3145728,onDrop:N,helperText:(0,s.jsxs)(w.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,s.jsx)("br",{})," max size of ",(0,t.oe)(3145728)]})})})}),(0,s.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,s.jsxs)(x.Z,{sx:{p:3},children:[(0,s.jsxs)(q.Z,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,s.jsx)(b.au,{name:"first_name",label:"First Name"}),(0,s.jsx)(b.au,{name:"last_name",label:"Last Name"}),(0,s.jsx)(b.au,{name:"email",label:"Email Address"})]}),(0,s.jsx)(f.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,s.jsx)(h.Z,{type:"submit",variant:"contained",loading:k,children:"Save Changes"})})]})})]})]})}i.Z,i.Z,i.Z,i.Z}}]);