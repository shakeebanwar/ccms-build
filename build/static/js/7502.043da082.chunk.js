"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7502],{27502:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});var l=i(99288),n=i.n(l),r=i(9950),o=i(13564),a=i(26689),s=i(14857),c=i(79537),d=i(75165),u=i(48089),h=i(12257),x=i(74745),p=i(68367),v=i(84142),g=i(1320),m=i(83274),f=i(25333),j=i(15769),A=i(34075),w=i(6368),b=i(91434),S=i(16497),D=i(37324),y=i(90260),C=i(46765),P=i(86608),k=i(38861),R=i(56105),B=i(8279),I=i(22704),N=i(66075),L=i(44185),T=i(63358),O=i(72870),F=i(46639),E=i(82053),z=i(63477),U=i(44414);function W(e){let{title:t,total:i,icon:l,color:n,percent:r,price:o}=e;return(0,U.jsxs)(h.A,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,U.jsxs)(h.A,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,U.jsx)(N.A,{icon:l,sx:{color:n,width:24,height:24,position:"absolute"}}),(0,U.jsx)(F.A,{variant:"determinate",value:r,size:56,thickness:4,sx:{color:n,opacity:.48}}),(0,U.jsx)(F.A,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,U.jsxs)(h.A,{spacing:.5,sx:{ml:2},children:[(0,U.jsx)(E.A,{variant:"h6",children:t}),(0,U.jsxs)(E.A,{variant:"subtitle2",children:[(0,z.Rn)(i)," ",(0,U.jsx)(w.A,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,U.jsx)(E.A,{variant:"subtitle2",sx:{color:n},children:(0,z.KZ)(o)})]})]})}var Z=i(93455);const K=["all","full stack development","backend development","ui design","ui/ux design","front end development"],M=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function V(){const e=(0,s.A)(),{themeStretch:t}=(0,P.A)(),i=(0,o.Zp)(),{dense:l,page:F,order:E,orderBy:z,rowsPerPage:V,setPage:_,selected:q,setSelected:G,onSelectRow:H,onSelectAllRows:J,onSort:Q,onChangeDense:X,onChangePage:Y,onChangeRowsPerPage:$}=(0,k.Ay)({defaultOrderBy:"createDate"}),[ee,te]=(0,r.useState)(R.U8),[ie,le]=(0,r.useState)(""),[ne,re]=(0,r.useState)("all"),[oe,ae]=(0,r.useState)(null),[se,ce]=(0,r.useState)(null),{currentTab:de,onChangeTab:ue}=(0,C.A)("all"),he=function(e){let{tableData:t,comparator:i,filterName:l,filterStatus:n,filterService:r,filterStartDate:o,filterEndDate:a}=e;const s=t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const l=i(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=s.map((e=>e[0])),l&&(t=t.filter((e=>-1!==e.invoiceNumber.toLowerCase().indexOf(l.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(l.toLowerCase()))));"all"!==n&&(t=t.filter((e=>e.status===n)));"all"!==r&&(t=t.filter((e=>e.items.some((e=>e.service===r)))));o&&a&&(t=t.filter((e=>e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime())));return t}({tableData:ee,comparator:(0,k.hz)(E,z),filterName:ie,filterService:ne,filterStatus:de,filterStartDate:oe,filterEndDate:se}),xe=l?56:76,pe=!he.length&&!!ie||!he.length&&!!de||!he.length&&!!ne||!he.length&&!!se||!he.length&&!!oe,ve=e=>ee.filter((t=>t.status===e)).length,ge=e=>n()(ee.filter((t=>t.status===e)),"totalPrice"),me=e=>ve(e)/ee.length*100,fe=[{value:"all",label:"All",color:"info",count:ee.length},{value:"paid",label:"Paid",color:"success",count:ve("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:ve("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:ve("overdue")},{value:"draft",label:"Draft",color:"default",count:ve("draft")}];return(0,U.jsx)(B.A,{title:"Invoice: List",children:(0,U.jsxs)(c.A,{maxWidth:!t&&"lg",children:[(0,U.jsx)(T.A,{heading:"Invoice List",links:[{name:"Dashboard",href:y.nB.root},{name:"Invoices",href:y.nB.invoice.root},{name:"List"}],action:(0,U.jsx)(d.A,{variant:"contained",component:a.N_,to:y.nB.invoice.new,startIcon:(0,U.jsx)(N.A,{icon:"eva:plus-fill"}),children:"New Invoice"})}),(0,U.jsx)(u.A,{sx:{mb:5},children:(0,U.jsx)(L.A,{children:(0,U.jsxs)(h.A,{direction:"row",divider:(0,U.jsx)(x.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,U.jsx)(W,{title:"Total",total:ee.length,percent:100,price:n()(ee,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,U.jsx)(W,{title:"Paid",total:ve("paid"),percent:me("paid"),price:ge("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,U.jsx)(W,{title:"Unpaid",total:ve("unpaid"),percent:me("unpaid"),price:ge("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,U.jsx)(W,{title:"Overdue",total:ve("overdue"),percent:me("overdue"),price:ge("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,U.jsx)(W,{title:"Draft",total:ve("draft"),percent:me("draft"),price:ge("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,U.jsxs)(u.A,{children:[(0,U.jsx)(p.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:de,onChange:ue,sx:{px:2,bgcolor:"background.neutral"},children:fe.map((e=>(0,U.jsx)(v.A,{disableRipple:!0,value:e.value,label:(0,U.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,U.jsx)("div",{children:e.label})," ",(0,U.jsxs)(I.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,U.jsx)(x.A,{}),(0,U.jsx)(Z.F,{filterName:ie,filterService:ne,filterStartDate:oe,filterEndDate:se,onFilterName:e=>{le(e),_(0)},onFilterService:e=>{re(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{ce(e)},optionsService:K}),(0,U.jsx)(L.A,{children:(0,U.jsxs)(g.A,{sx:{minWidth:800,position:"relative"},children:[q.length>0&&(0,U.jsx)(O.r1,{dense:l,numSelected:q.length,rowCount:ee.length,onSelectAllRows:e=>J(e,ee.map((e=>e.id))),actions:(0,U.jsxs)(h.A,{spacing:1,direction:"row",children:[(0,U.jsx)(m.A,{title:"Sent",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(N.A,{icon:"ic:round-send"})})}),(0,U.jsx)(m.A,{title:"Download",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(N.A,{icon:"eva:download-outline"})})}),(0,U.jsx)(m.A,{title:"Print",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(N.A,{icon:"eva:printer-fill"})})}),(0,U.jsx)(m.A,{title:"Delete",children:(0,U.jsx)(f.A,{color:"primary",onClick:()=>(e=>{const t=ee.filter((t=>!e.includes(t.id)));G([]),te(t)})(q),children:(0,U.jsx)(N.A,{icon:"eva:trash-2-outline"})})})]})}),(0,U.jsxs)(j.A,{size:l?"small":"medium",children:[(0,U.jsx)(O.er,{order:E,orderBy:z,headLabel:M,rowCount:ee.length,numSelected:q.length,onSort:Q,onSelectAllRows:e=>J(e,ee.map((e=>e.id)))}),(0,U.jsxs)(A.A,{children:[he.slice(F*V,F*V+V).map((e=>(0,U.jsx)(Z.o,{row:e,selected:q.includes(e.id),onSelectRow:()=>H(e.id),onViewRow:()=>{return t=e.id,void i(y.nB.invoice.view(t));var t},onEditRow:()=>{return t=e.id,void i(y.nB.invoice.edit(t));var t},onDeleteRow:()=>(e=>{const t=ee.filter((t=>t.id!==e));G([]),te(t)})(e.id)},e.id))),(0,U.jsx)(O.dO,{height:xe,emptyRows:(0,k.xl)(F,V,ee.length)}),(0,U.jsx)(O.Sm,{isNotFound:pe})]})]})]})}),(0,U.jsxs)(w.A,{sx:{position:"relative"},children:[(0,U.jsx)(b.A,{rowsPerPageOptions:[5,10,25],component:"div",count:he.length,rowsPerPage:V,page:F,onPageChange:Y,onRowsPerPageChange:$}),(0,U.jsx)(S.A,{control:(0,U.jsx)(D.A,{checked:l,onChange:X}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}}}]);