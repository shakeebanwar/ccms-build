"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[1447],{31447:function(e,n,s){s.r(n),s.d(n,{default:function(){return _}});var r=s(29466),a=s(43265),t=s(57829),i=s(69099),o=s(61113),c=s(88564),d=s(33896),l=s(48175),u=s(12025),p=s(71361),h=s(15861),f=s(29439),x=s(87757),m=s.n(x),w=s(47313),Z=s(28089),j=s(97890),g=s(58908),v=s(1432),y=s(75627),b=s(35898),P=s(41727),k=s(47131),C=s(32703),E=s(21664),S=s(54285),q=s(46417);function I(){var e=(0,S.Z)().resetPassword,n=(0,j.s0)(),s=(0,j.TH)().state.varificationCode,r=(0,g.Ds)().enqueueSnackbar,a=(0,w.useState)(!1),t=(0,f.Z)(a,2),i=t[0],o=t[1],c=(0,w.useState)(!1),d=(0,f.Z)(c,2),p=d[0],x=d[1],I=Z.Ry().shape({password:Z.Z_().required("New Password is required"),confirm_password:Z.Z_().oneOf([Z.iH("password"),null],"Passwords don't match!").required("Confirm New Password is required")}),N=(0,y.cI)({resolver:(0,v.X)(I),defaultValues:{token:s}}),_=N.handleSubmit,V=N.formState.isSubmitting,z=function(){var s=(0,h.Z)(m().mark((function s(a){var t,i;return m().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e(a);case 3:t=s.sent,i=t.data,r("Password Change Successfully!"),"admin"===i.role?n(l.EE.adminLogin,{replace:!0}):"employee"===i.role?n(l.EE.employeeLogin,{replace:!0}):n(l.EE.login,{replace:!0}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),console.error(s.t0);case 12:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(e){return s.apply(this,arguments)}}();return(0,q.jsx)(E.RV,{methods:N,onSubmit:_(z),children:(0,q.jsxs)(b.Z,{spacing:3,children:[(0,q.jsx)(E.au,{name:"password",label:"New Password",type:i?"text":"password",InputProps:{endAdornment:(0,q.jsx)(P.Z,{position:"end",children:(0,q.jsx)(k.Z,{onClick:function(){return o(!i)},edge:"end",children:(0,q.jsx)(u.Z,{icon:i?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,q.jsx)(E.au,{name:"confirm_password",label:"Confirm New Password",type:i?"text":"password",InputProps:{endAdornment:(0,q.jsx)(P.Z,{position:"end",children:(0,q.jsx)(k.Z,{onClick:function(){return x(!p)},edge:"end",children:(0,q.jsx)(u.Z,{icon:p?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,q.jsx)(C.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:V,children:"Change Password"})]})})}var N=(0,c.ZP)("div")((function(e){return{display:"flex",height:"100%",alignItems:"center",padding:e.theme.spacing(12,0)}}));function _(){return(0,q.jsx)(p.Z,{title:"Verify",sx:{height:1},children:(0,q.jsxs)(N,{children:[(0,q.jsx)(d.Z,{}),(0,q.jsx)(a.Z,{children:(0,q.jsxs)(t.Z,{sx:{maxWidth:480,mx:"auto"},children:[(0,q.jsx)(i.Z,{size:"small",component:r.rU,to:l.EE.resetPassword,startIcon:(0,q.jsx)(u.Z,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Back"}),(0,q.jsx)(o.Z,{variant:"h3",paragraph:!0,children:"Please enter new password!"}),(0,q.jsx)(t.Z,{sx:{mt:5,mb:3},children:(0,q.jsx)(I,{})})]})})]})})}}}]);