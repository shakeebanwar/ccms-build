"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[3442],{33442:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var i=n(29439),r=n(88718),l=n.n(r),o=n(47313),a=n(29466),c=n(97890),s=n(19860),u=n(43265),d=n(69099),f=n(73428),h=n(35898),x=n(19536),p=n(5297),v=n(65280),g=n(51629),m=n(61689),j=n(47131),Z=n(66835),w=n(57861),b=n(57829),S=n(91034),D=n(83929),y=n(70024),C=n(48175),P=n(80648),k=n(11338),R=n(66429),B=n(87204),I=n(71361),N=n(86853),L=n(12025),T=n(62677),O=n(67871),A=n(55844),E=n(85281),F=n(61113),W=n(76221),z=n(46417);function U(e){var t=e.title,n=e.total,i=e.icon,r=e.color,l=e.percent,o=e.price;return(0,z.jsxs)(h.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,z.jsxs)(h.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,z.jsx)(L.Z,{icon:i,sx:{color:r,width:24,height:24,position:"absolute"}}),(0,z.jsx)(E.Z,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:r,opacity:.48}}),(0,z.jsx)(E.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,z.jsxs)(h.Z,{spacing:.5,sx:{ml:2},children:[(0,z.jsx)(F.Z,{variant:"h6",children:t}),(0,z.jsxs)(F.Z,{variant:"subtitle2",children:[(0,W.v1)(n)," ",(0,z.jsx)(b.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,z.jsx)(F.Z,{variant:"subtitle2",sx:{color:r},children:(0,W.e_)(o)})]})]})}var Q=n(27657),K=["all","full stack development","backend development","ui design","ui/ux design","front end development"],M=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function V(){var e=(0,s.Z)(),t=(0,k.Z)().themeStretch,n=(0,c.s0)(),r=(0,R.ZP)({defaultOrderBy:"createDate"}),E=r.dense,F=r.page,W=r.order,V=r.orderBy,$=r.rowsPerPage,_=r.setPage,q=r.selected,G=r.setSelected,H=r.onSelectRow,J=r.onSelectAllRows,X=r.onSort,Y=r.onChangeDense,ee=r.onChangePage,te=r.onChangeRowsPerPage,ne=(0,o.useState)(B.Ot),ie=(0,i.Z)(ne,2),re=ie[0],le=ie[1],oe=(0,o.useState)(""),ae=(0,i.Z)(oe,2),ce=ae[0],se=ae[1],ue=(0,o.useState)("all"),de=(0,i.Z)(ue,2),fe=de[0],he=de[1],xe=(0,o.useState)(null),pe=(0,i.Z)(xe,2),ve=pe[0],ge=pe[1],me=(0,o.useState)(null),je=(0,i.Z)(me,2),Ze=je[0],we=je[1],be=(0,P.Z)("all"),Se=be.currentTab,De=be.onChangeTab,ye=function(e){var t=e.tableData,n=e.comparator,i=e.filterName,r=e.filterStatus,l=e.filterService,o=e.filterStartDate,a=e.filterEndDate,c=t.map((function(e,t){return[e,t]}));c.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=c.map((function(e){return e[0]})),i&&(t=t.filter((function(e){return-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase())})));"all"!==r&&(t=t.filter((function(e){return e.status===r})));"all"!==l&&(t=t.filter((function(e){return e.items.some((function(e){return e.service===l}))})));o&&a&&(t=t.filter((function(e){return e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime()})));return t}({tableData:re,comparator:(0,R.sQ)(W,V),filterName:ce,filterService:fe,filterStatus:Se,filterStartDate:ve,filterEndDate:Ze}),Ce=E?56:76,Pe=!ye.length&&!!ce||!ye.length&&!!Se||!ye.length&&!!fe||!ye.length&&!!Ze||!ye.length&&!!ve,ke=function(e){return re.filter((function(t){return t.status===e})).length},Re=function(e){return l()(re.filter((function(t){return t.status===e})),"totalPrice")},Be=function(e){return ke(e)/re.length*100},Ie=[{value:"all",label:"All",color:"info",count:re.length},{value:"paid",label:"Paid",color:"success",count:ke("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:ke("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:ke("overdue")},{value:"draft",label:"Draft",color:"default",count:ke("draft")}];return(0,z.jsx)(I.Z,{title:"Invoice: List",children:(0,z.jsxs)(u.Z,{maxWidth:!t&&"lg",children:[(0,z.jsx)(O.Z,{heading:"Invoice List",links:[{name:"Dashboard",href:C.vB.root},{name:"Invoices",href:C.vB.invoice.root},{name:"List"}],action:(0,z.jsx)(d.Z,{variant:"contained",component:a.rU,to:C.vB.invoice.new,startIcon:(0,z.jsx)(L.Z,{icon:"eva:plus-fill"}),children:"New Invoice"})}),(0,z.jsx)(f.Z,{sx:{mb:5},children:(0,z.jsx)(T.Z,{children:(0,z.jsxs)(h.Z,{direction:"row",divider:(0,z.jsx)(x.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,z.jsx)(U,{title:"Total",total:re.length,percent:100,price:l()(re,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,z.jsx)(U,{title:"Paid",total:ke("paid"),percent:Be("paid"),price:Re("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,z.jsx)(U,{title:"Unpaid",total:ke("unpaid"),percent:Be("unpaid"),price:Re("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,z.jsx)(U,{title:"Overdue",total:ke("overdue"),percent:Be("overdue"),price:Re("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,z.jsx)(U,{title:"Draft",total:ke("draft"),percent:Be("draft"),price:Re("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,z.jsxs)(f.Z,{children:[(0,z.jsx)(p.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Se,onChange:De,sx:{px:2,bgcolor:"background.neutral"},children:Ie.map((function(e){return(0,z.jsx)(v.Z,{disableRipple:!0,value:e.value,label:(0,z.jsxs)(h.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,z.jsx)("div",{children:e.label})," ",(0,z.jsxs)(N.Z,{color:e.color,children:[" ",e.count," "]})]})},e.value)}))}),(0,z.jsx)(x.Z,{}),(0,z.jsx)(Q.o,{filterName:ce,filterService:fe,filterStartDate:ve,filterEndDate:Ze,onFilterName:function(e){se(e),_(0)},onFilterService:function(e){he(e.target.value)},onFilterStartDate:function(e){ge(e)},onFilterEndDate:function(e){we(e)},optionsService:K}),(0,z.jsx)(T.Z,{children:(0,z.jsxs)(g.Z,{sx:{minWidth:800,position:"relative"},children:[q.length>0&&(0,z.jsx)(A.Nl,{dense:E,numSelected:q.length,rowCount:re.length,onSelectAllRows:function(e){return J(e,re.map((function(e){return e.id})))},actions:(0,z.jsxs)(h.Z,{spacing:1,direction:"row",children:[(0,z.jsx)(m.Z,{title:"Sent",children:(0,z.jsx)(j.Z,{color:"primary",children:(0,z.jsx)(L.Z,{icon:"ic:round-send"})})}),(0,z.jsx)(m.Z,{title:"Download",children:(0,z.jsx)(j.Z,{color:"primary",children:(0,z.jsx)(L.Z,{icon:"eva:download-outline"})})}),(0,z.jsx)(m.Z,{title:"Print",children:(0,z.jsx)(j.Z,{color:"primary",children:(0,z.jsx)(L.Z,{icon:"eva:printer-fill"})})}),(0,z.jsx)(m.Z,{title:"Delete",children:(0,z.jsx)(j.Z,{color:"primary",onClick:function(){return function(e){var t=re.filter((function(t){return!e.includes(t.id)}));G([]),le(t)}(q)},children:(0,z.jsx)(L.Z,{icon:"eva:trash-2-outline"})})})]})}),(0,z.jsxs)(Z.Z,{size:E?"small":"medium",children:[(0,z.jsx)(A.K,{order:W,orderBy:V,headLabel:M,rowCount:re.length,numSelected:q.length,onSort:X,onSelectAllRows:function(e){return J(e,re.map((function(e){return e.id})))}}),(0,z.jsxs)(w.Z,{children:[ye.slice(F*$,F*$+$).map((function(e){return(0,z.jsx)(Q.B,{row:e,selected:q.includes(e.id),onSelectRow:function(){return H(e.id)},onViewRow:function(){return t=e.id,void n(C.vB.invoice.view(t));var t},onEditRow:function(){return t=e.id,void n(C.vB.invoice.edit(t));var t},onDeleteRow:function(){return function(e){var t=re.filter((function(t){return t.id!==e}));G([]),le(t)}(e.id)}},e.id)})),(0,z.jsx)(A.$W,{height:Ce,emptyRows:(0,R.fQ)(F,$,re.length)}),(0,z.jsx)(A.et,{isNotFound:Pe})]})]})]})}),(0,z.jsxs)(b.Z,{sx:{position:"relative"},children:[(0,z.jsx)(S.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:ye.length,rowsPerPage:$,page:F,onPageChange:ee,onRowsPerPageChange:te}),(0,z.jsx)(D.Z,{control:(0,z.jsx)(y.Z,{checked:E,onChange:Y}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}}}]);