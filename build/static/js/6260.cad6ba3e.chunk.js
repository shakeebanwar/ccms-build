"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[6260],{76260:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(29439),a=t(12488),o=t(47313),s=t(97890),i=t(29466),l=t(43265),c=t(69099),u=t(73428),d=t(5297),f=t(65280),h=t(19536),m=t(51629),g=t(61689),x=t(47131),p=t(66835),Z=t(57861),j=t(57829),v=t(91034),w=t(83929),b=t(70024),S=t(58908),C=t(48175),P=t(80648),D=t(11338),R=t(66429),k=t(71361),N=t(12025),y=t(62677),L=t(67871),U=t(55844),B=t(28328),A=t(85077),E=t(46417),W=["all","active","de-active"],_=[{id:"name",label:"Name",align:"left"},{id:"email",label:"Email",align:"left"},{id:"status",label:"Status",align:"left"},{id:""}];function F(){var e=(0,R.ZP)(),n=e.dense,t=e.page,F=e.order,O=e.orderBy,Q=e.rowsPerPage,T=e.setPage,q=e.selected,z=e.setSelected,I=e.onSelectRow,K=e.onSelectAllRows,M=e.onSort,$=e.onChangeDense,G=e.onChangePage,H=e.onChangeRowsPerPage,J=(0,S.Ds)().enqueueSnackbar,V=(0,D.Z)().themeStretch,X=(0,s.s0)(),Y=(0,o.useState)([]),ee=(0,r.Z)(Y,2),ne=ee[0],te=ee[1],re=(0,o.useState)(""),ae=(0,r.Z)(re,2),oe=ae[0],se=ae[1],ie=(0,P.Z)("all"),le=ie.currentTab,ce=ie.onChangeTab;(0,o.useEffect)((function(){ue()}),[]);var ue=function(){A.Z.get("/admin/users").then((function(e){var n=e.data;te(n.user)}))},de=function(e){var n=e.tableData,t=e.comparator,r=e.filterName,a=e.filterStatus,o=n.map((function(e,n){return[e,n]}));o.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n=o.map((function(e){return e[0]})),r&&(n=n.filter((function(e){return-1!==e.first_name.toLowerCase().indexOf(r.toLowerCase())})));"all"!==a&&(n=n.filter((function(e){return e.is_active===("active"===a?1:0)})));return n}({tableData:ne,comparator:(0,R.sQ)(F,O),filterName:oe,filterStatus:le}),fe=n?52:72,he=!de.length&&!!oe||!de.length&&!!le;return(0,E.jsx)(k.Z,{title:"Users: List",children:(0,E.jsxs)(l.Z,{maxWidth:!V&&"lg",children:[(0,E.jsx)(L.Z,{heading:"Users List",links:[{name:"Dashboard",href:C.mD.dashboard},{name:"Users",href:C.mD.users},{name:"List"}],action:(0,E.jsx)(c.Z,{variant:"contained",component:i.rU,to:C.mD.users.new,startIcon:(0,E.jsx)(N.Z,{icon:"eva:plus-fill"}),children:"New User"})}),(0,E.jsxs)(u.Z,{children:[(0,E.jsx)(d.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:le,onChange:ce,sx:{px:2,bgcolor:"background.neutral"},children:W.map((function(e){return(0,E.jsx)(f.Z,{disableRipple:!0,label:e,value:e},e)}))}),(0,E.jsx)(h.Z,{}),(0,E.jsx)(B.N,{filterName:oe,onFilterName:function(e){se(e),T(0)}}),(0,E.jsx)(y.Z,{children:(0,E.jsxs)(m.Z,{sx:{minWidth:800,position:"relative"},children:[q.length>0&&(0,E.jsx)(U.Nl,{dense:n,numSelected:q.length,rowCount:ne.length,onSelectAllRows:function(e){return K(e,ne.map((function(e){return e.id})))},actions:(0,E.jsx)(g.Z,{title:"Delete",children:(0,E.jsx)(x.Z,{color:"primary",onClick:function(){return function(e){var n=ne.filter((function(n){return!e.includes(n.id)}));z([]),te(n)}(q)},children:(0,E.jsx)(N.Z,{icon:"eva:trash-2-outline"})})})}),(0,E.jsxs)(p.Z,{size:n?"small":"medium",children:[(0,E.jsx)(U.K,{order:F,orderBy:O,headLabel:_,rowCount:ne.length,numSelected:q.length,onSort:M,onSelectAllRows:function(e){return K(e,ne.map((function(e){return e.id})))}}),(0,E.jsxs)(Z.Z,{children:[de.slice(t*Q,t*Q+Q).map((function(e){return(0,E.jsx)(B.Z,{row:e,selected:q.includes(e.id),onSelectRow:function(){return I(e.id)},onDeleteRow:function(){return n=e.id,void A.Z.delete("/admin/users/".concat(n)).then((function(){var e=ne.filter((function(e){return e.id!==n}));z([]),te(e),J("Successfully Deleted")}));var n},onEditRow:function(){return n=e,void X(C.mD.users.edit((0,a.o)(n.first_name)),{state:{data:n}});var n}},e.id)})),(0,E.jsx)(U.$W,{height:fe,emptyRows:(0,R.fQ)(t,Q,ne.length)}),(0,E.jsx)(U.et,{isNotFound:he})]})]})]})}),(0,E.jsxs)(j.Z,{sx:{position:"relative"},children:[(0,E.jsx)(v.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:de.length,rowsPerPage:Q,page:t,onPageChange:G,onRowsPerPageChange:H}),(0,E.jsx)(w.Z,{control:(0,E.jsx)(b.Z,{checked:n,onChange:$}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}}}]);