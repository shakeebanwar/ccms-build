"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[9022],{79022:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var o=t(29439),r=t(12488),l=t(47313),a=t(97890),i=t(29466),s=t(43265),c=t(69099),u=t(73428),d=t(5297),f=t(65280),m=t(19536),h=t(51629),p=t(61689),g=t(47131),x=t(66835),Z=t(57861),j=t(57829),v=t(91034),w=t(83929),b=t(70024),S=t(58908),y=t(48175),C=t(80648),P=t(11338),D=t(66429),R=t(71361),k=t(12025),N=t(62677),E=t(67871),L=t(55844),B=t(28328),A=t(85077),W=t(46417),_=["all","active","de-active"],F=[{id:"name",label:"Name",align:"left"},{id:"email",label:"Email",align:"left"},{id:"status",label:"Status",align:"left"},{id:""}];function O(){var e=(0,D.ZP)(),n=e.dense,t=e.page,O=e.order,Q=e.orderBy,T=e.rowsPerPage,q=e.setPage,z=e.selected,I=e.setSelected,K=e.onSelectRow,M=e.onSelectAllRows,U=e.onSort,$=e.onChangeDense,G=e.onChangePage,H=e.onChangeRowsPerPage,J=(0,S.Ds)().enqueueSnackbar,V=(0,P.Z)().themeStretch,X=(0,a.s0)(),Y=(0,l.useState)([]),ee=(0,o.Z)(Y,2),ne=ee[0],te=ee[1],oe=(0,l.useState)(""),re=(0,o.Z)(oe,2),le=re[0],ae=re[1],ie=(0,C.Z)("all"),se=ie.currentTab,ce=ie.onChangeTab;(0,l.useEffect)((function(){ue()}),[]);var ue=function(){A.Z.get("/admin/employees").then((function(e){var n=e.data;te(n.user)}))},de=function(e){var n=e.tableData,t=e.comparator,o=e.filterName,r=e.filterStatus,l=n.map((function(e,n){return[e,n]}));l.sort((function(e,n){var o=t(e[0],n[0]);return 0!==o?o:e[1]-n[1]})),n=l.map((function(e){return e[0]})),o&&(n=n.filter((function(e){return-1!==e.first_name.toLowerCase().indexOf(o.toLowerCase())})));"all"!==r&&(n=n.filter((function(e){return e.is_active===("active"===r?1:0)})));return n}({tableData:ne,comparator:(0,D.sQ)(O,Q),filterName:le,filterStatus:se}),fe=n?52:72,me=!de.length&&!!le||!de.length&&!!se;return(0,W.jsx)(R.Z,{title:"Employees: List",children:(0,W.jsxs)(s.Z,{maxWidth:!V&&"lg",children:[(0,W.jsx)(E.Z,{heading:"Employees List",links:[{name:"Dashboard",href:y.mD.dashboard},{name:"Employees",href:y.mD.employees},{name:"List"}],action:(0,W.jsx)(c.Z,{variant:"contained",component:i.rU,to:y.mD.employees.new,startIcon:(0,W.jsx)(k.Z,{icon:"eva:plus-fill"}),children:"New Employees"})}),(0,W.jsxs)(u.Z,{children:[(0,W.jsx)(d.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:se,onChange:ce,sx:{px:2,bgcolor:"background.neutral"},children:_.map((function(e){return(0,W.jsx)(f.Z,{disableRipple:!0,label:e,value:e},e)}))}),(0,W.jsx)(m.Z,{}),(0,W.jsx)(B.N,{filterName:le,onFilterName:function(e){ae(e),q(0)}}),(0,W.jsx)(N.Z,{children:(0,W.jsxs)(h.Z,{sx:{minWidth:800,position:"relative"},children:[z.length>0&&(0,W.jsx)(L.Nl,{dense:n,numSelected:z.length,rowCount:ne.length,onSelectAllRows:function(e){return M(e,ne.map((function(e){return e.id})))},actions:(0,W.jsx)(p.Z,{title:"Delete",children:(0,W.jsx)(g.Z,{color:"primary",onClick:function(){return function(e){var n=ne.filter((function(n){return!e.includes(n.id)}));I([]),te(n)}(z)},children:(0,W.jsx)(k.Z,{icon:"eva:trash-2-outline"})})})}),(0,W.jsxs)(x.Z,{size:n?"small":"medium",children:[(0,W.jsx)(L.K,{order:O,orderBy:Q,headLabel:F,rowCount:ne.length,numSelected:z.length,onSort:U,onSelectAllRows:function(e){return M(e,ne.map((function(e){return e.id})))}}),(0,W.jsxs)(Z.Z,{children:[de.slice(t*T,t*T+T).map((function(e){return(0,W.jsx)(B.Z,{row:e,selected:z.includes(e.id),onSelectRow:function(){return K(e.id)},onDeleteRow:function(){return n=e.id,void A.Z.delete("/admin/employees/".concat(n)).then((function(){var e=ne.filter((function(e){return e.id!==n}));I([]),te(e),J("Successfully Deleted")}));var n},onEditRow:function(){return n=e,void X(y.mD.employees.edit((0,r.o)(n.first_name)),{state:{data:n}});var n}},e.id)})),(0,W.jsx)(L.$W,{height:fe,emptyRows:(0,D.fQ)(t,T,ne.length)}),(0,W.jsx)(L.et,{isNotFound:me})]})]})]})}),(0,W.jsxs)(j.Z,{sx:{position:"relative"},children:[(0,W.jsx)(v.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:de.length,rowsPerPage:T,page:t,onPageChange:G,onRowsPerPageChange:H}),(0,W.jsx)(w.Z,{control:(0,W.jsx)(b.Z,{checked:n,onChange:$}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}}}]);