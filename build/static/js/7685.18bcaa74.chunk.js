"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7685],{57685:function(e,r,n){n.r(r),n.d(r,{default:function(){return _}});var t=n(29466),i=n(88564),c=n(43265),o=n(57829),a=n(69099),s=n(61113),d=n(33896),u=n(48175),l=n(71361),h=n(12025),f=n(1413),m=n(15861),x=n(87757),p=n.n(x),v=n(58908),g=n(47313),Z=n(97890),j=n(28089),b=n(1432),y=n(75627),q=n(32703),k=n(35898),w=n(49914),C=n(54285),E=n(46417);function S(){var e=(0,C.Z)().verify,r=(0,Z.s0)(),n=(0,v.Ds)().enqueueSnackbar,t=j.Ry().shape({code1:j.Z_().required("Code is required"),code2:j.Z_().required("Code is required"),code3:j.Z_().required("Code is required"),code4:j.Z_().required("Code is required"),code5:j.Z_().required("Code is required")}),i=(0,y.cI)({mode:"onBlur",resolver:(0,b.X)(t),defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:""}}),c=i.watch,o=i.control,a=i.setValue,s=i.handleSubmit,d=i.formState,l=d.isSubmitting,h=d.isValid,x=c();(0,g.useEffect)((function(){document.addEventListener("paste",V)}),[]);var S=function(){var t=(0,m.Z)(p().mark((function t(i){var c;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object.values(i).join(""),t.next=4,e(c);case 4:n("Verify success!"),r(u.EE.login,{replace:!0}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),t.t0.errors&&t.t0.errors.map((function(e){return n(e,{variant:"error"})}));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),V=function(e){var r,n=(null===e||void 0===e||null===(r=e.clipboardData)||void 0===r?void 0:r.getData("Text"))||"";n=n.split(""),[].forEach.call(document.querySelectorAll("#field-code"),(function(e,r){e.value=n[r];var t="code".concat(r+1);a(t,n[r])}))};return(0,E.jsxs)("form",{onSubmit:s(S),children:[(0,E.jsx)(k.Z,{direction:"row",spacing:2,justifyContent:"center",children:Object.keys(x).map((function(e,r){return(0,E.jsx)(y.Qr,{name:"code".concat(r+1),control:o,render:function(e){var n=e.field;return(0,E.jsx)(w.Z,(0,f.Z)((0,f.Z)({},n),{},{id:"field-code",autoFocus:0===r,placeholder:"-",onChange:function(e){return function(e,r){var n=e.target,t=n.maxLength,i=n.value,c=n.name.replace("code",""),o=Number(c);if(i.length>=t&&o<5){var a=document.querySelector("input[name=code".concat(o+1,"]"));null!==a&&a.focus()}r(e)}(e,n.onChange)},inputProps:{maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}}))}},e)}))}),(0,E.jsx)(q.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:l,disabled:!h,sx:{mt:3},children:"Verify"})]})}var V=(0,i.ZP)("div")((function(e){return{display:"flex",height:"100%",alignItems:"center",padding:e.theme.spacing(12,0)}}));function _(){return(0,E.jsx)(l.Z,{title:"Verify",sx:{height:1},children:(0,E.jsxs)(V,{children:[(0,E.jsx)(d.Z,{}),(0,E.jsx)(c.Z,{children:(0,E.jsxs)(o.Z,{sx:{maxWidth:480,mx:"auto"},children:[(0,E.jsx)(a.Z,{size:"small",component:t.rU,to:u.EE.register,startIcon:(0,E.jsx)(h.Z,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Back"}),(0,E.jsx)(s.Z,{variant:"h3",paragraph:!0,children:"Please check your email!"}),(0,E.jsx)(s.Z,{sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code, please enter the code in below box to verify your email."}),(0,E.jsx)(o.Z,{sx:{mt:5,mb:3},children:(0,E.jsx)(S,{})})]})})]})})}}}]);