"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7258],{67258:(e,n,o)=>{o.r(n),o.d(n,{default:()=>E});var l=o(9950),t=o(79537),i=o(48089),a=o(12257),r=o(75165),s=o(6368),c=o(82053),d=o(1320),u=o(15769),h=o(34075),p=o(91434),x=o(29031),g=o(13564),f=o(26689),m=o(48711),v=o(90260),j=o(46765),A=o(86608),w=o(38861),C=o(30744),S=o(66075),b=o(44185),y=o(63358),_=o(72870),k=o(12480),D=o(6768),P=o(32741),F=o(95074),N=o(98594),T=o(44414);const B=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}];function E(){const{themeStretch:e}=(0,A.A)(),n=(0,g.Zp)(),{enqueueSnackbar:o}=(0,x.dh)(),{dense:E,page:O,order:R,orderBy:L,rowsPerPage:I,setPage:M,selected:W,setSelected:U,onSort:z,onChangeDense:V,onChangePage:Z,onChangeRowsPerPage:q}=(0,w.Ay)({defaultOrderBy:"createDate"}),[J,G]=(0,l.useState)([]),[H,K]=(0,l.useState)(""),[Q,X]=(0,l.useState)("new"),[Y,$]=(0,l.useState)(null),[ee,ne]=(0,l.useState)(null),{currentTab:oe,onChangeTab:le}=(0,j.A)("all"),[te,ie]=(0,l.useState)("Title Insurance"),[ae,re]=(0,l.useState)(!1),[se,ce]=(0,l.useState)(""),[de,ue]=(0,l.useState)(),[he,pe]=(0,l.useState)(),[xe,ge]=(0,l.useState)([]),[fe,me]=(0,l.useState)(null);Boolean(fe);(0,l.useEffect)((()=>{(async()=>{re(!0);try{var e;const n=await P.A.get("employee/users/list");console.log(n,"all user"),ge(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.files),console.log(n,"autofill")}catch(n){console.log(n,"autofill")}finally{re(!1)}})()}),[]);const{Employeefile:ve}=(0,C.d4)((e=>e.EmployeeFile));console.log(ve,"file details"),(0,l.useEffect)((()=>{null!==ve&&void 0!==ve&&ve.length&&de&&G(ve)}),[ve]);const je=function(e){var n;let{tableData:o,comparator:l,filterName:t,filterStatus:i,filterService:a,filterStartDate:r,filterEndDate:s}=e;const c=null===(n=o)||void 0===n?void 0:n.map(((e,n)=>[e,n]));c.sort(((e,n)=>{const o=l(e[0],n[0]);return 0!==o?o:e[1]-n[1]})),o=c.map((e=>e[0])),t&&(o=o.filter((e=>-1!==e.file_name.toLowerCase().indexOf(t.toLowerCase())||-1!==e.file_no.toLowerCase().indexOf(t.toLowerCase()))));"all"!==i&&(o=o.filter((e=>e.status===i)));"new"!==a&&(o=o.filter((e=>e.status===a)));r&&s&&(o=o.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return o}({tableData:J,comparator:(0,w.hz)(R,L),filterName:H,filterService:Q,filterStatus:oe,filterStartDate:Y,filterEndDate:ee}),Ae=E?56:76,we=!je.length&&!!H||!je.length&&!!oe||!je.length&&!!Q||!je.length&&!!ee||!je.length&&!!Y;return(0,T.jsxs)(t.A,{maxWidth:!e&&"lg",children:[ae&&(0,T.jsx)(F.A,{}),(0,T.jsxs)(i.A,{sx:{p:3},children:[(0,T.jsx)(y.A,{heading:"Files",sx:{mb:0},links:[{name:"Dashboard",href:v.nB.root},{name:"Files"}],action:(0,T.jsx)(a.A,{gap:1,direction:"row",children:(0,T.jsx)(r.A,{variant:"contained",component:f.N_,to:v.i8.file.addfile,startIcon:(0,T.jsx)(S.A,{icon:"clarity:form-line"}),children:"New File"})})}),(0,T.jsx)(a.A,{gap:1,sx:{width:"50%"},children:(0,T.jsx)(m.Ay,{options:null===xe||void 0===xe?void 0:xe.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))),value:he,onChange:e=>{console.log(e,"newFileId"),(0,C.JD)((0,N.oc)(e.value)),ue(e.value),pe(e)},isSearchable:"true",placeholder:"Select a User",className:"w-100 py-3"})}),(null===te||void 0===te?void 0:te.label)&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(s.A,{sx:{p:2},children:(0,T.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:te.label})})}),(0,T.jsx)(k.F5,{filterName:H,filterService:Q,filterStartDate:Y,filterEndDate:ee,onFilterName:e=>{K(e),M(0)},onFilterService:e=>{X(e.target.value)},onFilterStartDate:e=>{$(e)},onFilterEndDate:e=>{ne(e)}}),(0,T.jsx)(b.A,{children:(0,T.jsx)(d.A,{sx:{minWidth:800,position:"relative"},children:(0,T.jsxs)(u.A,{size:E?"small":"medium",children:[(0,T.jsx)(_.er,{order:R,orderBy:L,headLabel:B,rowCount:J.length,numSelected:W.length,onSort:z}),(0,T.jsxs)(h.A,{children:[je.slice(O*I,O*I+I).map((e=>(0,T.jsx)(D.A,{row:e,onEditRow:()=>(e=>{n(v.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{n(v.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return n=e.id,re(!0),void P.A.delete("user/user_file/".concat(n)).then((e=>{if(console.log("response",e),re(!1),200===e.status||201===e.status){const e=J.filter((e=>e.id!==n));U([]),G(e),o("Delete Successfully")}})).catch((e=>{re(!1),e.errors&&Object.keys(e.errors).map((n=>o(e.errors[n][0],{variant:"error"})))}));var n}},e.id))),(0,T.jsx)(_.dO,{height:Ae,emptyRows:(0,w.xl)(O,I,J.length)}),(0,T.jsx)(_.Sm,{isNotFound:we})]})]})})}),(0,T.jsx)(s.A,{sx:{position:"relative"},children:(0,T.jsx)(p.A,{rowsPerPageOptions:[5,10,25],component:"div",count:je.length,rowsPerPage:I,page:O,onPageChange:Z,onRowsPerPageChange:q})})]})]})}},6768:(e,n,o)=>{o.d(n,{A:()=>v});var l=o(9950),t=o(13564),i=o(26689),a=o(14857),r=o(9213),s=o(21671),c=o(93038),d=o(23266),u=o(75165),h=o(97591),p=o(90260),x=(o(22704),o(33949),o(66075)),g=o(72870),f=o(98632),m=o(44414);function v(e){var n,o;let{row:v,selected:j,onSelectRow:A,onAssign:w,onViewRow:C,onDocumentUpload:S,onDownloadDocument:b,onDeleteRow:y,onShareRow:_,onEditRow:k,onOrderContin:D,onStatusChange:P,CreateOrderByPdf:F}=e;(0,a.A)();const{pathname:N}=(0,t.zy)(),T=(N.includes("admin"),(0,t.Zp)());console.log(v,"row");const{updated_at:B,DummyData:E,transaction_type:O,purchase_price:R,file_no:L,file_name:I,id:M,_count:W,user:U,file_pdf:z,orders_type:V}=v,Z=null===z||void 0===z?void 0:z.split("/");console.log(Z,"pdfName");const[q,J]=(0,l.useState)(null),G=Boolean(q),H=()=>{J(null)},[K,Q]=(0,l.useState)(null),X=()=>{Q(null)},Y=()=>{T("/dashboard/filepreview/".concat(null===v||void 0===v?void 0:v.id),{state:{row:v}})};return(0,m.jsxs)(r.A,{selected:j,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(A||j)&&(0,m.jsx)(s.A,{padding:"checkbox",children:(0,m.jsx)(c.A,{checked:j,onClick:A})}),(0,m.jsx)(s.A,{sx:{color:"#DD9A19",textWrap:"nowrap",padding:"14px 2px"},align:"left",onClick:Y,children:L}),(0,m.jsx)(s.A,{align:"left",onClick:Y,sx:{textWrap:"nowrap",padding:"14px 2px"},children:I}),(0,m.jsx)(s.A,{align:"left",onClick:Y,sx:{textWrap:"nowrap",padding:"14px 2px"},children:null===E||void 0===E||null===(n=E.subject_premise)||void 0===n||null===(o=n.property_location)||void 0===o?void 0:o.slice(0,13)}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},onClick:Y,children:O}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px",textWrap:"nowrap"},onClick:Y,children:z?Z[2]:null}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:(0,m.jsx)(d.A,{onClick:()=>{y(),X()},sx:{color:"error.main"},children:(0,m.jsx)(x.A,{icon:"eva:trash-2-outline"})})}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:D&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.A,{variant:"contained",onClick:()=>(e=>{const n=null===f.orderType||void 0===f.orderType?void 0:f.orderType.find((n=>(null===n||void 0===n?void 0:n.value)===e));T("/dashboard/orders/".concat(null===n||void 0===n?void 0:n.route,"/").concat(M))})(V),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===W||void 0===W?void 0:W.orders)>0?"Ordered":"Order"}),null===z?(0,m.jsxs)(h.A,{id:"basic-menu",anchorEl:q,open:G,onClose:H,MenuListProps:{"aria-labelledby":"basic-button"},children:[null===z&&(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.titleInsurance,"/").concat(M),children:"Title Insurance"}),(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.coopLienSearch,"/").concat(M),children:"Coop Lien Search"}),null===z&&(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.eagle9Policy,"/").concat(M),children:"Eagle 9 Policy"}),null===z&&(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.coopCondoOfferinPlans,"/").concat(M),children:"Coop/Condo Offering Plans"}),(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.uccCreateFile,"/").concat(M),children:"UCC - Create/File"}),null===z&&(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.exchange1031,"/").concat(M),children:"1031 Exchange"}),null===z&&(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.acrisETax,"/").concat(M),children:"Acris E-Tax Forms"}),(0,m.jsx)(d.A,{component:i.N_,to:"".concat(p.nB.orders.otherSearches,"/").concat(M),children:"Other Searches"})]}):(0,m.jsxs)(h.A,{id:"basic-menu",anchorEl:q,open:G,onClose:H,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,m.jsx)(d.A,{onClick:()=>F(),children:"Coop Lien Search"}),(0,m.jsx)(d.A,{onClick:()=>F(),children:"UCC - Create/File"}),(0,m.jsx)(d.A,{onClick:()=>F(),children:"Other Searches"})]})]})}),(0,m.jsx)(s.A,{align:"right",sx:{padding:"14px 2px"},children:(0,m.jsx)(g.ZE,{open:K,onOpen:e=>{Q(e.currentTarget)},onClose:X,actions:(0,m.jsxs)(m.Fragment,{children:[C&&(0,m.jsxs)(d.A,{onClick:()=>{C(),X()},children:[(0,m.jsx)(x.A,{icon:"tabler:eye-filled"}),"View"]}),_&&(0,m.jsxs)(d.A,{onClick:()=>{_(),X()},children:[(0,m.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);