"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[3653],{83653:(e,l,o)=>{o.r(l),o.d(l,{default:()=>te});var n=o(9950),r=o(60666),t=o(79537),a=o(48089),i=o(68367),d=o(84142),s=o(12257),u=o(6368),c=o(82053),v=o(74745),m=o(1320),p=o(15769),h=o(34075),x=o(91434),b=o(16497),y=o(37324),g=o(53984),f=o(73447),A=o(57191),j=o(60899),_=o(25979),w=o(3788),C=o(93523),S=o(2660),k=o(23266),O=o(93038),q=o(83563),I=o(40033),P=o(29031),R=o(73878),D=o(13564),N=o(9449),B=o(68654),T=o(28095),F=o(90260),L=o(46765),G=o(86608),E=o(38861),V=o(22704),M=(o(66075),o(44185)),W=o(63358),U=o(72870),Y=o(12480),z=o(32741),H=o(95074),J=o(42686),X=o(73561),Z=o(93076),K=o(20131),Q=o(62740),$=o(44414);const ee={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},le=["new","old"],oe=[{id:"status",label:"Order Status",align:"left",width:500},{id:"updated_at",label:"Date",align:"left",width:600},{id:"id",label:"Order No",align:"left",width:800},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""}],ne=[{api:"titleInsurance",label:"Title Insurance"},{api:"corpLienSearch",label:"Coop Lien Searches"},{api:"eaglepolicy",label:"Eagle 9 Policy"},{api:"offeringPlan",label:"Coop/Condo offering plans"},{api:"uccform",label:"UCC"},{api:"exchanger",label:"1031 Exchanges"},{api:"acricetax",label:"Acris E-Tax forms"},{api:"othersearch",label:"Other Search / Request"},{api:"",label:"Sightline\xae"}],re={PaperProps:{style:{maxHeight:224,width:250}}};function te(){var e,l,o,te,ae,ie,de,se,ue,ce,ve,me,pe,he,xe,be,ye,ge,fe,Ae,je,_e,we,Ce,Se,ke,Oe,qe,Ie,Pe,Re,De,Ne,Be,Te,Fe,Le,Ge,Ee,Ve,Me,We,Ue,Ye,ze,He,Je,Xe,Ze,Ke,Qe,$e;const{isOpenModal:el,selectedRange:ll}=(0,R.d4)((e=>e.calendar)),[ol,nl]=(0,n.useState)(!1),[rl,tl]=(0,n.useState)(),al=()=>nl(!1),[il,dl]=(0,n.useState)(!1),[sl,ul]=(0,n.useState)(),[cl,vl]=(0,n.useState)(!1),ml=()=>{hl((0,J.Oo)())},{themeStretch:pl}=(0,G.A)(),hl=(0,R.wA)(),xl=(0,D.Zp)(),{enqueueSnackbar:bl}=(0,P.dh)(),{dense:yl,page:gl,order:fl,orderBy:Al,rowsPerPage:jl,setPage:_l,selected:wl,setSelected:Cl,onSort:Sl,onChangeDense:kl,onChangePage:Ol,onChangeRowsPerPage:ql}=(0,E.Ay)({defaultOrderBy:"createDate"}),[Il,Pl]=(0,n.useState)([]),[Rl,Dl]=(0,n.useState)(""),[Nl,Bl]=(0,n.useState)("new"),[Tl,Fl]=(0,n.useState)(null),[Ll,Gl]=(0,n.useState)(null),{currentTab:El,onChangeTab:Vl}=(0,L.A)("all"),[Ml,Wl]=(0,n.useState)("Title Insurance"),[Ul,Yl]=(0,n.useState)(!1),[zl,Hl]=(0,n.useState)(""),[Jl,Xl]=(0,n.useState)(null),[Zl,Kl]=(0,n.useState)([]),[Ql,$l]=(0,n.useState)(),{id:eo}=(0,D.g)();(0,n.useEffect)((()=>{"Sightline\xae"!==Ml&&lo(ne.find((e=>e.label===Ml)).api)}),[Ml]);const lo=e=>{Yl(!0);try{z.A.get("user/all/".concat(e)).then((e=>{Yl(!1);const l=e.data;console.log(l,"Data"),200===e.status?(Hl(l.filePath),Pl(l.orders)):bl(l.message)}))}catch(l){if(Yl(!1),l.errors){Object.keys(l.errors).map((e=>bl(l.errors[e][0],{variant:"error"})))}}},oo=function(e){let{tableData:l,comparator:o,filterName:n,filterStatus:r,filterService:t,filterStartDate:a,filterEndDate:i}=e;const d=l.map(((e,l)=>[e,l]));d.sort(((e,l)=>{const n=o(e[0],l[0]);return 0!==n?n:e[1]-l[1]})),l=d.map((e=>e[0])),n&&(l=l.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(n.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(n.toLowerCase()))));"all"!==r&&(l=l.filter((e=>e.status===r)));"new"!==t&&(l=l.filter((e=>e.status===t)));a&&i&&(l=l.filter((e=>e.updated_at.getTime()>=a.getTime()&&e.updated_at.getTime()<=i.getTime())));return l}({tableData:Il,comparator:(0,E.hz)(fl,Al),filterName:Rl,filterService:Nl,filterStatus:El,filterStartDate:Tl,filterEndDate:Ll}),no=yl?56:76,ro=!oo.length&&!!Rl||!oo.length&&!!El||!oo.length&&!!Nl||!oo.length&&!!Ll||!oo.length&&!!Tl,to=e=>Il.filter((l=>l.status===e)).length,ao=[{value:"all",label:"All",color:"info",count:Il.length},{value:"active",label:"Active",color:"info",count:to("active")},{value:"new",label:"New",color:"info",count:to("new")},{value:"placed",label:"Placed",color:"info",count:to("placed")},{value:"completed",label:"Completed",color:"success",count:to("completed")},{value:"on hold",label:"On Hold",color:"warning",count:to("on hold")},{value:"draft",label:"Draft",color:"default",count:to("draft")},{value:"cancelled",label:"Cancelled",color:"error",count:to("cancelled")}],io=r.Ik().shape({request:r.Yj().required("Request Description is required"),Request_type:r.Yj().required("Request Type is required")}),so=(0,n.useMemo)((()=>({request:"",Request_type:"",names:{buyers:[],sellers:[],borrowers:[],grantees:[],grantors:[],names:[],lender_attorney:null,buyer_attorney:null,seller_attorney:null,borrower_attorney:null,grantee_attorney:null,grantor_attorney:null}})),[]),uo=(0,N.mN)({resolver:(0,B.t)(io),defaultValues:so}),{reset:co,watch:vo,setValue:mo,handleSubmit:po,formState:{isSubmitting:ho,errors:xo}}=uo,bo=vo();console.log(xo,"errors"),console.log(bo,"values");const yo=(e,l,o)=>{const{value:n}=e.target;if("buyers"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.buyers",e)}if("sellers"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.sellers",e)}if("borrowers"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.borrowers",e)}if("names"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.names",e)}if("grantors"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.grantors",e)}if("grantees"===l){const e=n.map((e=>o.find((l=>l.id===e))));mo("names.grantees",e)}"buyer_attorney"===l&&mo("names.buyer_attorney",o),"seller_attorney"===l&&mo("names.seller_attorney",o),"borrower_attorney"===l&&mo("names.borrower_attorney",o),"grantee_attorney"===l&&mo("names.grantee_attorney",o),"grantor_attorney"===l&&mo("names.grantor_attorney",o),"lender_attorney"===l&&mo("names.lender_attorney",o)};return(0,n.useEffect)((()=>{"certification"!==(null===bo||void 0===bo?void 0:bo.Request_type)&&"name_change"!==(null===bo||void 0===bo?void 0:bo.Request_type)||(async()=>{try{var e;const l=await z.A.get("user/requests/get_names/all/".concat(rl));console.log(l,"All Name response"),$l(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.names)}catch(l){console.log(l,"error")}})()}),[bo.Request_type]),(0,$.jsxs)(t.A,{maxWidth:!pl&&"lg",children:[Ul&&(0,$.jsx)(H.A,{}),(0,$.jsxs)(a.A,{sx:{p:3},children:[(0,$.jsx)(W.A,{heading:"All Orders",links:[{name:"Dashboard",href:F.nB.root},{name:"All Orders"}]}),(0,$.jsx)(i.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Ml,onChange:(e,l)=>Wl(l),sx:{px:2,bgcolor:"background.neutral"},children:ne.map((e=>(0,$.jsx)(d.A,{disableRipple:!0,value:e.label,label:(0,$.jsx)(s.A,{spacing:1,direction:"row",alignItems:"center",children:(0,$.jsx)("div",{children:e.label})}),sx:{color:Ml===e.label?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}}},e.label)))}),(0,$.jsx)(u.A,{sx:{p:2},children:(0,$.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:Ml.label})}),(0,$.jsx)(i.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:El,onChange:Vl,sx:{px:2,bgcolor:"background.neutral"},children:ao.map((e=>(0,$.jsx)(d.A,{disableRipple:!0,value:e.value,label:(0,$.jsxs)(s.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,$.jsx)("div",{children:e.label})," ",(0,$.jsxs)(V.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,$.jsx)(v.A,{}),(0,$.jsx)(Y.F5,{filterName:Rl,filterService:Nl,filterStartDate:Tl,filterEndDate:Ll,onFilterName:e=>{Dl(e),_l(0)},onFilterService:e=>{Bl(e.target.value)},onFilterStartDate:e=>{Fl(e)},onFilterEndDate:e=>{Gl(e)},optionsService:le}),(0,$.jsx)(M.A,{children:(0,$.jsx)(m.A,{sx:{minWidth:800,position:"relative"},children:(0,$.jsxs)(p.A,{size:yl?"small":"medium",children:[(0,$.jsx)(U.er,{order:fl,orderBy:Al,headLabel:oe,rowCount:Il.length,numSelected:wl.length,onSort:Sl}),(0,$.jsxs)(h.A,{children:[oo.slice(gl*jl,gl*jl+jl).map((e=>(0,$.jsx)(Y.oR,{row:e,onEditRow:()=>(e=>{nl(!0),tl(e)})(e.id),onShareRow:()=>(e=>{vl(!0),ul(e)})(null===e||void 0===e?void 0:e.id),onViewRow:()=>(e=>{"Title Insurance"===Ml&&xl(F.nB.viewOrders.titleInsuranceOrderView,{state:e}),"Coop Lien Searches"===Ml&&xl(F.nB.viewOrders.CoopLienSearchOrderView,{state:e}),"Eagle 9 Policy"===Ml&&xl(F.nB.viewOrders.eagle9PolicyOrderView,{state:e}),"Coop/Condo offering plans"===Ml&&xl(F.nB.viewOrders.coopCondoOfferinPlansOrderView,{state:e}),"1031 Exchanges"===Ml&&xl(F.nB.viewOrders.exchange1031OrderView,{state:e}),"Other Search / Request"===Ml&&xl(F.nB.viewOrders.otherSearchesOrderView,{state:e})})(e),onDownloadDocument:()=>(e=>{e?z.A.get("user/download/order_attachment/".concat(e),{responseType:"blob"}).then((e=>{console.log(e,"download api");const l=URL.createObjectURL(e.data),o=document.createElement("a");o.download="document",o.href=l,o.click()})).catch((e=>bl(e,{variant:"error"}))):bl("Document Not Found!",{variant:"error"})})(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return l=e.file_no,void hl((0,J.qO)(l));var l},onDeleteRow:()=>(e=>{Yl(!0);const l=ne.find((e=>e.label===Ml)).api;z.A.delete("user/".concat(l,"/").concat(e)).then((l=>{if(console.log("response",l),Yl(!1),200===l.status||201===l.status){const l=Il.filter((l=>l.id!==e));Cl([]),Pl(l),bl("Delete Successfully")}})).catch((e=>{Yl(!1),e.errors&&Object.keys(e.errors).map((l=>bl(e.errors[l][0],{variant:"error"})))}))})(e.id)},e.id))),(0,$.jsx)(U.dO,{height:no,emptyRows:(0,E.xl)(gl,jl,Il.length)}),(0,$.jsx)(U.Sm,{isNotFound:ro})]})]})})}),(0,$.jsxs)(u.A,{sx:{position:"relative"},children:[(0,$.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:oo.length,rowsPerPage:jl,page:gl,onPageChange:Ol,onRowsPerPageChange:ql}),(0,$.jsx)(b.A,{control:(0,$.jsx)(y.A,{checked:yl,onChange:kl}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]}),(0,$.jsx)(g.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:ol,onClose:al,closeAfterTransition:!0,slots:{backdrop:f.A},slotProps:{backdrop:{timeout:500}},children:(0,$.jsx)(A.A,{in:ol,children:(0,$.jsx)(u.A,{sx:ee,children:(0,$.jsx)(X.Op,{methods:uo,onSubmit:po((async e=>{console.log(e.checkboxes,"request"),dl(!0);try{const l={descriptions:e.request,request_type:e.Request_type,name:e.names};await z.A.post("user/requests/create/".concat(rl),l).then((e=>{if(dl(!1),200===e.status||201===e.status){const l=e.data;console.log(l,"sent request"),bl(l.message),al()}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>bl(l.errors[e][0],{variant:"error"})))}}finally{dl(!1)}})),children:(0,$.jsxs)(j.Ay,{item:!0,xs:12,md:12,children:[(0,$.jsx)(c.A,{variant:"h5",sx:{mb:2},children:"Sent Request for edit your order"}),(0,$.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,$.jsxs)(X.tX,{name:"Request_type",label:"Select Request Type",children:[(0,$.jsx)("option",{value:""}),(0,$.jsx)("option",{value:"certification",children:"CERTIFICATION"}),(0,$.jsx)("option",{value:"name_change",children:"Name change"}),(0,$.jsx)("option",{value:"ppdate_effective_date",children:"Update effective date"}),(0,$.jsx)("option",{value:"other",children:"other"})]}),("certification"===(null===bo||void 0===bo?void 0:bo.Request_type)||"name_change"===(null===bo||void 0===bo?void 0:bo.Request_type))&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:1,mt:1,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(null===Ql||void 0===Ql||null===(e=Ql.buyers)||void 0===e?void 0:e.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Buyers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.buyers)||void 0===o?void 0:o.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"buyers",null===Ql||void 0===Ql?void 0:Ql.buyers),input:(0,$.jsx)(S.A,{label:"Buyers"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.buyers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(te=Ql.buyers)||void 0===te?void 0:te.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.buyers)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ql||void 0===Ql||null===(ae=Ql.sellers)||void 0===ae?void 0:ae.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Sellers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(ie=bo.names)||void 0===ie||null===(de=ie.sellers)||void 0===de?void 0:de.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"sellers",null===Ql||void 0===Ql?void 0:Ql.sellers),input:(0,$.jsx)(S.A,{label:"Sellers"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.sellers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(se=Ql.sellers)||void 0===se?void 0:se.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.sellers)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ql||void 0===Ql||null===(ue=Ql.borrowers)||void 0===ue?void 0:ue.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Borrowers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(ce=bo.names)||void 0===ce||null===(ve=ce.borrowers)||void 0===ve?void 0:ve.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"borrowers",null===Ql||void 0===Ql?void 0:Ql.borrowers),input:(0,$.jsx)(S.A,{label:"Borrowers"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.borrowers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(me=Ql.borrowers)||void 0===me?void 0:me.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.borrowers)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ql||void 0===Ql||null===(pe=Ql.names)||void 0===pe?void 0:pe.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Names"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(he=bo.names)||void 0===he||null===(xe=he.names)||void 0===xe?void 0:xe.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"names",null===Ql||void 0===Ql?void 0:Ql.names),input:(0,$.jsx)(S.A,{label:"Names"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.names)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(be=Ql.names)||void 0===be?void 0:be.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.names)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ql||void 0===Ql||null===(ye=Ql.grantors)||void 0===ye?void 0:ye.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Grantors"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(ge=bo.names)||void 0===ge||null===(fe=ge.grantors)||void 0===fe?void 0:fe.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"grantors",null===Ql||void 0===Ql?void 0:Ql.grantors),input:(0,$.jsx)(S.A,{label:"Grantors"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.grantors)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(Ae=Ql.grantors)||void 0===Ae?void 0:Ae.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.grantors)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ql||void 0===Ql||null===(je=Ql.grantees)||void 0===je?void 0:je.length)>0&&(0,$.jsxs)(_.A,{sx:{m:1,width:300},children:[(0,$.jsx)(w.A,{id:"demo-multiple-checkbox-label",children:"Grantees"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===bo||void 0===bo||null===(_e=bo.names)||void 0===_e||null===(we=_e.grantees)||void 0===we?void 0:we.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>yo(e,"grantees",null===Ql||void 0===Ql?void 0:Ql.grantees),input:(0,$.jsx)(S.A,{label:"Grantees"}),renderValue:e=>e.map((e=>{var l;const o=null===Ql||void 0===Ql||null===(l=Ql.grantees)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===o||void 0===o?void 0:o.first_name)||""," ").concat((null===o||void 0===o?void 0:o.last_name)||"")})).join(", "),MenuProps:re,children:null===Ql||void 0===Ql||null===(Ce=Ql.grantees)||void 0===Ce?void 0:Ce.map((e=>{var l,o;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===bo||void 0===bo||null===(l=bo.names)||void 0===l||null===(o=l.grantees)||void 0===o?void 0:o.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]})]}),(0,$.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:1,mt:1,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[null!==(null===Ql||void 0===Ql?void 0:Ql.buyer_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Buyer Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Se=bo.names)||void 0===Se||null===(ke=Se.buyer_attorney)||void 0===ke?void 0:ke.firm_name,label:"Buyer Attorney",onChange:e=>yo(e,"buyer_attorney",null===Ql||void 0===Ql?void 0:Ql.buyer_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Oe=Ql.buyer_attorney)||void 0===Oe?void 0:Oe.firm_name)||"Buyer Attorney",children:(null===Ql||void 0===Ql||null===(qe=Ql.buyer_attorney)||void 0===qe?void 0:qe.firm_name)||"Buyer Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.seller_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Seller Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Ie=bo.names)||void 0===Ie||null===(Pe=Ie.seller_attorney)||void 0===Pe?void 0:Pe.firm_name,label:"Seller Attorney",onChange:e=>yo(e,"seller_attorney",null===Ql||void 0===Ql?void 0:Ql.seller_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Re=Ql.seller_attorney)||void 0===Re?void 0:Re.firm_name)||"Seller Attorney",children:(null===Ql||void 0===Ql||null===(De=Ql.seller_attorney)||void 0===De?void 0:De.firm_name)||"Seller Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.borrower_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Borrower Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Ne=bo.names)||void 0===Ne||null===(Be=Ne.borrower_attorney)||void 0===Be?void 0:Be.firm_name,label:"Borrower Attorney",onChange:e=>yo(e,"borrower_attorney",null===Ql||void 0===Ql?void 0:Ql.borrower_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Te=Ql.borrower_attorney)||void 0===Te?void 0:Te.firm_name)||"Borrower Attorney",children:(null===Ql||void 0===Ql||null===(Fe=Ql.borrower_attorney)||void 0===Fe?void 0:Fe.firm_name)||"Borrower Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.grantee_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Grantee Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Le=bo.names)||void 0===Le||null===(Ge=Le.grantee_attorney)||void 0===Ge?void 0:Ge.firm_name,label:"Grantee Attorney",onChange:e=>yo(e,"grantee_attorney",null===Ql||void 0===Ql?void 0:Ql.grantee_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Ee=Ql.grantee_attorney)||void 0===Ee?void 0:Ee.firm_name)||"Grantee Attorney",children:(null===Ql||void 0===Ql||null===(Ve=Ql.grantee_attorney)||void 0===Ve?void 0:Ve.firm_name)||"Grantee Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.grantor_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Grantor Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Me=bo.names)||void 0===Me||null===(We=Me.grantor_attorney)||void 0===We?void 0:We.firm_name,label:"Grantor Attorney",onChange:e=>yo(e,"grantor_attorney",null===Ql||void 0===Ql?void 0:Ql.grantor_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Ue=Ql.grantor_attorney)||void 0===Ue?void 0:Ue.firm_name)||"Grantor Attorney",children:(null===Ql||void 0===Ql||null===(Ye=Ql.grantor_attorney)||void 0===Ye?void 0:Ye.firm_name)||"Grantor Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.name_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Name Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(ze=bo.names)||void 0===ze||null===(He=ze.name_attorney)||void 0===He?void 0:He.firm_name,label:"Name Attorney",onChange:e=>yo(e,"name_attorney",null===Ql||void 0===Ql?void 0:Ql.name_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Je=Ql.name_attorney)||void 0===Je?void 0:Je.firm_name)||"Name Attorney",children:(null===Ql||void 0===Ql||null===(Xe=Ql.name_attorney)||void 0===Xe?void 0:Xe.firm_name)||"Name Attorney"})})]})}),null!==(null===Ql||void 0===Ql?void 0:Ql.lender_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(_.A,{fullWidth:!0,children:[(0,$.jsx)(w.A,{id:"demo-simple-select-label",children:"Lender Attorney"}),(0,$.jsx)(C.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===bo||void 0===bo||null===(Ze=bo.names)||void 0===Ze||null===(Ke=Ze.lender_attorney)||void 0===Ke?void 0:Ke.firm_name,label:"Lender Attorney",onChange:e=>yo(e,"lender_attorney",null===Ql||void 0===Ql?void 0:Ql.lender_attorney),children:(0,$.jsx)(k.A,{value:(null===Ql||void 0===Ql||null===(Qe=Ql.lender_attorney)||void 0===Qe?void 0:Qe.firm_name)||"Lender Attorney",children:(null===Ql||void 0===Ql||null===($e=Ql.lender_attorney)||void 0===$e?void 0:$e.firm_name)||"Lender Attorney"})})]})})]})]}),(0,$.jsx)(X.o3,{name:"request",label:"Please enter Desciption",multiline:!0,rows:3})]}),(0,$.jsx)(s.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,$.jsx)(T.A,{type:"submit",variant:"contained",loading:il,children:"Send Request"})})]})})})})}),(0,$.jsx)(Z.A,{setShareOpen:vl,open:cl,FileId:sl}),(0,$.jsxs)(K.ys,{open:el,onClose:ml,children:[(0,$.jsx)(I.A,{children:"Add Order Contin"}),(0,$.jsx)(Q.lM,{event:{},range:ll,onCancel:ml,getDate:""})]})]})}},93076:(e,l,o)=>{o.d(l,{A:()=>C});var n=o(53984),r=o(73447),t=o(57191),a=o(6368),i=o(82053),d=o(60899),s=o(12257),u=o(8145),c=o(74745),v=o(75165),m=o(60666),p=o(9950),h=o(9449),x=o(68654),b=o(29031),y=o(28095),g=o(14650),f=o(66075),A=o(32741),j=o(73561),_=o(44414);const w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},C=e=>{var l;let{setShareOpen:o,open:C,FileId:S}=e;const{enqueueSnackbar:k}=(0,b.dh)(),[O,q]=(0,p.useState)(),[I,P]=(0,p.useState)([]),[R,D]=(0,p.useState)(!1),[N,B]=(0,p.useState)([]),[T,F]=(0,p.useState)(!1);(0,p.useEffect)((()=>{(async()=>{try{var e;const o=await A.A.get("user/added/contacts");var l;console.log(o,"all your user api"),null!==o&&void 0!==o&&null!==(e=o.data)&&void 0!==e&&e.status?P(null===o||void 0===o||null===(l=o.data)||void 0===l?void 0:l.currentUser):console.log("Status False in API")}catch(o){console.log(o,"all your user api error")}})()}),[]);const L=(0,p.useRef)(null);console.log(N,"filterUser");const G=async e=>{F(!0);try{await A.A.post("user/share/order/".concat(e,"/").concat(S)).then((e=>{if(F(!1),200===e.status||201===e.status){const l=e.data;console.log(l,"share file"),k(l.message),o(!1),B()}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>k(l.errors[e][0],{variant:"error"})))}}finally{F(!1)}},E=m.Ik().shape({fname:m.Yj().required("First Name is required"),lname:m.Yj().required("Last Name is required"),email:m.Yj().required("Email is required")}),V=(0,p.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),M=(0,h.mN)({resolver:(0,x.t)(E),defaultValues:V}),{reset:W,watch:U,setValue:Y,handleSubmit:z,formState:{isSubmitting:H,errors:J}}=M,X=(U(),async(e,l,o)=>{try{var n;const a=new FormData;a.append("name","".concat(l," ").concat(o));const i=await A.A.post("user/contact/add/".concat(e),a);var r,t;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.status)k("User Add In Your List",{variant:"success"}),G(null===i||void 0===i||null===(r=i.data)||void 0===r||null===(t=r.contact)||void 0===t?void 0:t.id);else console.log("Status False in API")}catch(a){console.log(a,"add user in list api error")}});return(0,_.jsx)(n.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:C,onClose:()=>o(!1),closeAfterTransition:!0,slots:{backdrop:r.A},slotProps:{backdrop:{timeout:500}},children:(0,_.jsx)(t.A,{in:C,children:(0,_.jsxs)(a.A,{sx:w,children:[(0,_.jsx)(i.A,{variant:"h5",sx:{mb:2},onClick:()=>D(!1),children:R&&(0,_.jsx)(g.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,_.jsxs)(d.Ay,{item:!0,xs:12,md:12,children:[(0,_.jsx)(i.A,{variant:"h5",sx:{mb:2},children:R?"Add Contact":"Select User Into Your List"}),R?(0,_.jsxs)(j.Op,{methods:M,onSubmit:z((async e=>{console.log(e.request,"request"),F(!0);try{const l=new FormData;l.append("first_name",e.fname),l.append("last_name",e.lname),l.append("email",e.email),l.append("phone",e.phone),l.append("address",e.address),l.append("company_name",e.company),l.append("job_title",e.job),l.append("is_file_shared",!0),await A.A.post("user/contact/user/add",l).then((e=>{if(F(!1),200===e.status||201===e.status){var l,n,r;const t=e.data;console.log(t,"add user new"),k("successfully add new user"),o(!1),W(),X(null===t||void 0===t||null===(l=t.user)||void 0===l?void 0:l.id,null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.first_name,null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.last_name)}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>k(l.errors[e][0],{variant:"error"})))}}finally{F(!1)}})),children:[(0,_.jsxs)(a.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,_.jsx)(j.o3,{name:"fname",label:"First Name"}),(0,_.jsx)(j.o3,{name:"lname",label:"Last Name"}),(0,_.jsx)(j.o3,{name:"email",label:"Email"}),(0,_.jsx)(j.o3,{name:"phone",label:"Phone Nunber"}),(0,_.jsx)(j.o3,{name:"address",label:"Address"}),(0,_.jsx)(j.o3,{name:"company",label:"Company Name"}),(0,_.jsx)(j.o3,{name:"job",label:"Job title"})]}),(0,_.jsx)(s.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,_.jsx)(y.A,{type:"submit",variant:"contained",loading:T,children:"Add Contact"})})]}):(0,_.jsxs)(a.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,_.jsx)(s.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,_.jsx)(u.A,{sx:{my:1,width:1},ref:L,label:"Search by first Name, Last Name & Email",value:(null===L||void 0===L||null===(l=L.current)||void 0===l?void 0:l.value)||"",onChange:e=>{const l=e.target.value.toLowerCase();if(L.current.value=l,console.log(L.current.value,"filterValue"),""===L.current.value)B([]);else{const e=I.filter((e=>{var o,n,r;return(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.first_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.last_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(r=e.Contact)||void 0===r?void 0:r.email.toLowerCase().includes(l))}));console.log(e,"filteredData"),B(e)}},size:"small"})}),(0,_.jsx)(c.A,{}),(null===N||void 0===N?void 0:N.length)>0?N.map(((e,l)=>{var o,n;return(0,_.jsxs)(s.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,_.jsxs)(i.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,_.jsx)(f.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(o=e.Contact)||void 0===o?void 0:o.first_name," ").concat(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.last_name)]}),(0,_.jsx)(s.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,_.jsx)(y.A,{type:"submit",variant:"contained",loading:T,onClick:()=>G(null===e||void 0===e?void 0:e.id),children:"Share"})})]},l)})):(0,_.jsx)(s.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,_.jsx)(v.A,{variant:"contained",onClick:()=>D(!0),startIcon:(0,_.jsx)(f.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})}},40033:(e,l,o)=>{o.d(l,{A:()=>x});var n=o(58168),r=o(98587),t=o(9950),a=o(2803),i=o(5747),d=o(82053),s=o(7951),u=o(79859),c=o(23025),v=o(5536),m=o(44414);const p=["className","id"],h=(0,s.Ay)(d.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,l)=>l.root})({padding:"16px 24px",flex:"0 0 auto"}),x=t.forwardRef((function(e,l){const o=(0,u.A)({props:e,name:"MuiDialogTitle"}),{className:d,id:s}=o,x=(0,r.A)(o,p),b=o,y=(e=>{const{classes:l}=e;return(0,i.A)({root:["root"]},c.t,l)})(b),{titleId:g=s}=t.useContext(v.A);return(0,m.jsx)(h,(0,n.A)({component:"h2",className:(0,a.A)(y.root,d),ownerState:b,ref:l,variant:"h6",id:g},x))}))}}]);