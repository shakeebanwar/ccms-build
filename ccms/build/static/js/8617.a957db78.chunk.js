(self.webpackChunkccms=self.webpackChunkccms||[]).push([[8617],{46765:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(9950);function r(e){const[t,n]=(0,i.useState)(e||"");return{currentTab:t,onChangeTab:(e,t)=>{n(t)},setCurrentTab:n}}},27502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>V});var i=n(99288),r=n.n(i),l=n(9950),o=n(13564),a=n(26689),s=n(14857),c=n(79537),d=n(75165),u=n(48089),h=n(12257),p=n(74745),x=n(68367),A=n(84142),v=n(1320),m=n(83274),f=n(25333),g=n(15769),j=n(34075),w=n(6368),b=n(91434),S=n(16497),y=n(37324),D=n(90260),C=n(46765),k=n(86608),P=n(38861),R=n(56105),N=n(8279),T=n(22704),B=n(66075),I=n(44185),L=n(63358),O=n(72870),F=n(46639),E=n(82053),z=n(63477),U=n(44414);function W(e){let{title:t,total:n,icon:i,color:r,percent:l,price:o}=e;return(0,U.jsxs)(h.A,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,U.jsxs)(h.A,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,U.jsx)(B.A,{icon:i,sx:{color:r,width:24,height:24,position:"absolute"}}),(0,U.jsx)(F.A,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:r,opacity:.48}}),(0,U.jsx)(F.A,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,U.jsxs)(h.A,{spacing:.5,sx:{ml:2},children:[(0,U.jsx)(E.A,{variant:"h6",children:t}),(0,U.jsxs)(E.A,{variant:"subtitle2",children:[(0,z.Rn)(n)," ",(0,U.jsx)(w.A,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,U.jsx)(E.A,{variant:"subtitle2",sx:{color:r},children:(0,z.KZ)(o)})]})]})}var Z=n(12480);const K=["all","full stack development","backend development","ui design","ui/ux design","front end development"],M=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function V(){const e=(0,s.A)(),{themeStretch:t}=(0,k.A)(),n=(0,o.Zp)(),{dense:i,page:F,order:E,orderBy:z,rowsPerPage:V,setPage:_,selected:q,setSelected:G,onSelectRow:H,onSelectAllRows:J,onSort:Q,onChangeDense:X,onChangePage:Y,onChangeRowsPerPage:$}=(0,P.Ay)({defaultOrderBy:"createDate"}),[ee,te]=(0,l.useState)(R.U8),[ne,ie]=(0,l.useState)(""),[re,le]=(0,l.useState)("all"),[oe,ae]=(0,l.useState)(null),[se,ce]=(0,l.useState)(null),{currentTab:de,onChangeTab:ue}=(0,C.A)("all"),he=function(e){let{tableData:t,comparator:n,filterName:i,filterStatus:r,filterService:l,filterStartDate:o,filterEndDate:a}=e;const s=t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=s.map((e=>e[0])),i&&(t=t.filter((e=>-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase()))));"all"!==r&&(t=t.filter((e=>e.status===r)));"all"!==l&&(t=t.filter((e=>e.items.some((e=>e.service===l)))));o&&a&&(t=t.filter((e=>e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime())));return t}({tableData:ee,comparator:(0,P.hz)(E,z),filterName:ne,filterService:re,filterStatus:de,filterStartDate:oe,filterEndDate:se}),pe=i?56:76,xe=!he.length&&!!ne||!he.length&&!!de||!he.length&&!!re||!he.length&&!!se||!he.length&&!!oe,Ae=e=>ee.filter((t=>t.status===e)).length,ve=e=>r()(ee.filter((t=>t.status===e)),"totalPrice"),me=e=>Ae(e)/ee.length*100,fe=[{value:"all",label:"All",color:"info",count:ee.length},{value:"paid",label:"Paid",color:"success",count:Ae("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:Ae("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:Ae("overdue")},{value:"draft",label:"Draft",color:"default",count:Ae("draft")}];return(0,U.jsx)(N.A,{title:"Invoice: List",children:(0,U.jsxs)(c.A,{maxWidth:!t&&"lg",children:[(0,U.jsx)(L.A,{heading:"Invoice List",links:[{name:"Dashboard",href:D.nB.root},{name:"Invoices",href:D.nB.invoice.root},{name:"List"}],action:(0,U.jsx)(d.A,{variant:"contained",component:a.N_,to:D.nB.invoice.new,startIcon:(0,U.jsx)(B.A,{icon:"eva:plus-fill"}),children:"New Invoice"})}),(0,U.jsx)(u.A,{sx:{mb:5},children:(0,U.jsx)(I.A,{children:(0,U.jsxs)(h.A,{direction:"row",divider:(0,U.jsx)(p.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,U.jsx)(W,{title:"Total",total:ee.length,percent:100,price:r()(ee,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,U.jsx)(W,{title:"Paid",total:Ae("paid"),percent:me("paid"),price:ve("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,U.jsx)(W,{title:"Unpaid",total:Ae("unpaid"),percent:me("unpaid"),price:ve("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,U.jsx)(W,{title:"Overdue",total:Ae("overdue"),percent:me("overdue"),price:ve("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,U.jsx)(W,{title:"Draft",total:Ae("draft"),percent:me("draft"),price:ve("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,U.jsxs)(u.A,{children:[(0,U.jsx)(x.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:de,onChange:ue,sx:{px:2,bgcolor:"background.neutral"},children:fe.map((e=>(0,U.jsx)(A.A,{disableRipple:!0,value:e.value,label:(0,U.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,U.jsx)("div",{children:e.label})," ",(0,U.jsxs)(T.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,U.jsx)(p.A,{}),(0,U.jsx)(Z.F5,{filterName:ne,filterService:re,filterStartDate:oe,filterEndDate:se,onFilterName:e=>{ie(e),_(0)},onFilterService:e=>{le(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{ce(e)},optionsService:K}),(0,U.jsx)(I.A,{children:(0,U.jsxs)(v.A,{sx:{minWidth:800,position:"relative"},children:[q.length>0&&(0,U.jsx)(O.r1,{dense:i,numSelected:q.length,rowCount:ee.length,onSelectAllRows:e=>J(e,ee.map((e=>e.id))),actions:(0,U.jsxs)(h.A,{spacing:1,direction:"row",children:[(0,U.jsx)(m.A,{title:"Sent",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(B.A,{icon:"ic:round-send"})})}),(0,U.jsx)(m.A,{title:"Download",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(B.A,{icon:"eva:download-outline"})})}),(0,U.jsx)(m.A,{title:"Print",children:(0,U.jsx)(f.A,{color:"primary",children:(0,U.jsx)(B.A,{icon:"eva:printer-fill"})})}),(0,U.jsx)(m.A,{title:"Delete",children:(0,U.jsx)(f.A,{color:"primary",onClick:()=>(e=>{const t=ee.filter((t=>!e.includes(t.id)));G([]),te(t)})(q),children:(0,U.jsx)(B.A,{icon:"eva:trash-2-outline"})})})]})}),(0,U.jsxs)(g.A,{size:i?"small":"medium",children:[(0,U.jsx)(O.er,{order:E,orderBy:z,headLabel:M,rowCount:ee.length,numSelected:q.length,onSort:Q,onSelectAllRows:e=>J(e,ee.map((e=>e.id)))}),(0,U.jsxs)(j.A,{children:[he.slice(F*V,F*V+V).map((e=>(0,U.jsx)(Z.oR,{row:e,selected:q.includes(e.id),onSelectRow:()=>H(e.id),onViewRow:()=>{return t=e.id,void n(D.nB.invoice.view(t));var t},onEditRow:()=>{return t=e.id,void n(D.nB.invoice.edit(t));var t},onDeleteRow:()=>(e=>{const t=ee.filter((t=>t.id!==e));G([]),te(t)})(e.id)},e.id))),(0,U.jsx)(O.dO,{height:pe,emptyRows:(0,P.xl)(F,V,ee.length)}),(0,U.jsx)(O.Sm,{isNotFound:xe})]})]})]})}),(0,U.jsxs)(w.A,{sx:{position:"relative"},children:[(0,U.jsx)(b.A,{rowsPerPageOptions:[5,10,25],component:"div",count:he.length,rowsPerPage:V,page:F,onPageChange:Y,onRowsPerPageChange:$}),(0,U.jsx)(S.A,{control:(0,U.jsx)(y.A,{checked:i,onChange:X}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},58835:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(56712),r=n(50624),l=n(98889),o=n(78397),a=n(66922);function s(e,t){if((0,o.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,a.A)(t.years):0,s=t.months?(0,a.A)(t.months):0,c=t.weeks?(0,a.A)(t.weeks):0,d=t.days?(0,a.A)(t.days):0,u=t.hours?(0,a.A)(t.hours):0,h=t.minutes?(0,a.A)(t.minutes):0,p=t.seconds?(0,a.A)(t.seconds):0,x=(0,l.A)(e),A=s||n?(0,r.A)(x,s+12*n):x,v=d||c?(0,i.A)(A,d+7*c):A,m=1e3*(p+60*(h+60*u));return new Date(v.getTime()+m)}},51790:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(66922),r=n(56712),l=n(78397);var o=n(50624);function a(e,t){if((0,l.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,i.A)(t.years):0,a=t.months?(0,i.A)(t.months):0,s=t.weeks?(0,i.A)(t.weeks):0,c=t.days?(0,i.A)(t.days):0,d=t.hours?(0,i.A)(t.hours):0,u=t.minutes?(0,i.A)(t.minutes):0,h=t.seconds?(0,i.A)(t.seconds):0,p=function(e,t){(0,l.A)(2,arguments);var n=(0,i.A)(t);return(0,o.A)(e,-n)}(e,a+12*n),x=function(e,t){(0,l.A)(2,arguments);var n=(0,i.A)(t);return(0,r.A)(e,-n)}(p,c+7*s),A=1e3*(h+60*(u+60*d));return new Date(x.getTime()-A)}},99288:(e,t,n)=>{var i=n(15127),r=n(12863);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):0}}}]);