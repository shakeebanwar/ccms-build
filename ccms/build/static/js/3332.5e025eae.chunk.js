"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[3332],{93012:(e,t,s)=>{s.d(t,{A:()=>f});var r=s(60666),a=s(60899),n=s(12257),i=s(82053),o=s(6368),l=s(9950),d=s(28095),c=s(29031),h=s(9449),x=s(68654),u=s(13564),p=s(52401),m=s(32741),g=s(44414);const f=e=>{let{getAllYourUser:t,setOpen:s,close:f,handleClose:j}=e;const{pathname:A}=(0,u.zy)(),b=A.includes("employee"),[v,y]=(0,l.useState)(!1),{enqueueSnackbar:C}=(0,c.dh)(),w=r.Ik().shape({fname:r.Yj().required("First Name is required"),lname:r.Yj().required("Last Name is required"),email:r.Yj().required("Email is required"),phone:r.Yj().min(11).max(15).required("Phone number min 11 digit and max 15 digit is required")}),S=(0,l.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),R=(0,h.mN)({resolver:(0,x.t)(w),defaultValues:S}),{reset:_,watch:O,setValue:q,handleSubmit:P,formState:{isSubmitting:E,errors:k}}=R,F=(O(),async(e,s,r)=>{try{var a;const n=new FormData;n.append("name","".concat(s," ").concat(r));const i=await m.A.post("".concat(b?"employee":"user","/contact/add/").concat(e),n);console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.status?(C("User Add In Your List",{variant:"success"}),t()):console.log("Status False in API")}catch(n){console.log(n,"add user in list api error")}});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.Op,{methods:R,onSubmit:P((async e=>{console.log(e.request,"request"),y(!0);try{const t=new FormData;t.append("first_name",e.fname),t.append("last_name",e.lname),t.append("email",e.email),t.append("phone",e.phone),t.append("address",e.address),t.append("company_name",e.company),t.append("job_title",e.job),await m.A.post("".concat(b?"employee":"user","/contact/user/add"),t).then((e=>{if(y(!1),200===e.status||201===e.status){var t,r,a;const n=e.data;console.log(n,"add user new"),C("successfully add new user"),_(),s(!1),F(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id,null===n||void 0===n||null===(r=n.user)||void 0===r?void 0:r.first_name,null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.last_name)}}))}catch(t){if(console.error(t),t.errors){const e=Object.keys(t.errors);console.log(e,"keys"),e.map((e=>C(t.errors[e].msg,{variant:"error"})))}}finally{y(!1)}})),children:(0,g.jsxs)(a.Ay,{item:!0,xs:12,md:12,children:[(0,g.jsx)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"},children:(0,g.jsx)(i.A,{variant:"h5",sx:{mb:2},children:"Add Contact Details"})}),(0,g.jsxs)(o.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,g.jsx)(p.o3,{name:"fname",label:"First Name"}),(0,g.jsx)(p.o3,{name:"lname",label:"Last Name"}),(0,g.jsx)(p.o3,{name:"email",label:"Email"}),(0,g.jsx)(p.o3,{name:"phone",label:"Phone Number"}),(0,g.jsx)(p.o3,{name:"address",label:"Address"}),(0,g.jsx)(p.o3,{name:"company",label:"Company Name"}),(0,g.jsxs)(p.tX,{name:"job",label:"Select Job Title",fullWidth:!0,sx:{gridColumn:"span 2"},children:[(0,g.jsx)("option",{value:""}),(0,g.jsx)("option",{value:"real_state_agent",children:"RealState Agent"}),(0,g.jsx)("option",{value:"mortage_broker",children:"Mortgage Broker"}),(0,g.jsx)("option",{value:"notray",children:"Notary"})]})]}),(0,g.jsx)(n.A,{justifyContent:"center",flexDirection:"row",gap:1,sx:{mt:3},children:(0,g.jsx)(d.A,{type:"submit",sx:{bgcolor:"#00ab55",color:"#fff",textAlign:"start",boxShadow:"none",borderRadius:"0px",padding:"12px 24px","&:hover":{bgcolor:"#0aaa57"}},variant:"contained",loading:v,children:"Add Contact"})})]})})})}},20069:(e,t,s)=>{s.r(t),s.d(t,{default:()=>se});var r=s(14857),a=s(48089),n=s(50704),i=s(82053),o=s(62854),l=s(6368),d=s(66699),c=s(79537),h=s(60899),x=s(33507),u=s(86608),p=s(8279),m=(s(48812),s(29113)),g=s(162),f=(s(20798),s(9950)),j=s(13564),A=s(68367),b=s(84142),v=s(12257),y=s(1320),C=s(15769),w=s(34075),S=s(91434),R=s(16497),_=s(37324),O=s(29031),q=s(90260),P=s(46765),E=s(38861),k=(s(22704),s(66075),s(44185)),F=(s(63358),s(72870)),D=(s(12480),s(32741)),V=s(95074),I=s(9213),T=s(21671),L=(s(33949),s(25715)),N=s(44414);function z(e){let{row:t,selected:s,onSelectRow:a,onViewRow:n,onEditRow:o,onDeleteRow:l,onStatusChange:d}=e;(0,r.A)();const{pathname:c}=(0,j.zy)(),{descriptions:h,updated_at:x,order_id:u,orders:p,request_type:m,is_fullfiled:g,is_denied:A}=(c.includes("employee"),t),[b,v]=(0,f.useState)(null);return(0,N.jsxs)(I.A,{hover:!0,selected:s,children:[(0,N.jsx)(T.A,{align:"center",onClick:()=>n(),children:(0,N.jsxs)(i.A,{sx:{color:"#fff",backgroundColor:(0,L.N)(),borderRadius:"15%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",u]})}),(0,N.jsx)(T.A,{align:"left",onClick:()=>n(),children:m}),(0,N.jsxs)(T.A,{align:"left",sx:{color:g?"green":"red"},onClick:()=>n(),children:["\u25cf  ",g?"Confirmed":A?"Deny":"Not-Confirm"," "]}),(0,N.jsx)(T.A,{align:"left",sx:{cursor:"pointer",fontWeight:"bold"},onClick:()=>{o(),v(null)},children:"Edit"})]})}const W=[{api:"title_insurance",label:"Title Insurance"},{api:"coop_lien_search",label:"Coop Lien Searches"},{api:"acris_e_tax_form",label:"ACRIS E-Tax Forms"},{api:"eagle_9_policy",label:"Eagle 9 Policy"},{api:"ucc_create_file",label:"UCC"},{api:"other_searches",label:"Other Search / Request"},{api:"coop_condo_offering_plans",label:"Offering Plans"},{api:"exchange",label:"1031 Exchanges"},{api:"Sightline_Report",label:"Sightline\xae"}];function H(){const{themeStretch:e}=(0,u.A)(),{enqueueSnackbar:t}=(0,O.dh)(),s=(0,j.Zp)(),{dense:r,page:n,order:o,orderBy:d,setRowsPerPage:h,rowsPerPage:x,setPage:p,selected:m,onSort:g,onChangeDense:I,onChangePage:T,onChangeRowsPerPage:L}=(0,E.Ay)({defaultOrderBy:"createDate"}),[H,M]=(0,f.useState)([]),[B,Y]=(0,f.useState)(""),[U,G]=(0,f.useState)("new"),[J,Q]=(0,f.useState)(null),[X,Z]=(0,f.useState)(null),{currentTab:K,onChangeTab:$}=(0,P.A)("all"),[ee,te]=(0,f.useState)("Title Insurance"),[se,re]=(0,f.useState)(!1),[ae,ne]=(0,f.useState)(!1);(0,f.useEffect)((()=>{h(3),"Sightline\xae"!==ee&&"UCC"!==ee&&ie(W.find((e=>e.label===ee)).api)}),[ee]);const ie=e=>{re(!0);try{D.A.get("employee/requests/get/".concat(e)).then((e=>{re(!1);const s=e.data;console.log(e,"request"),200===e.status?M(s.requests):t(s.message)}))}catch(s){if(re(!1),s.errors){Object.keys(s.errors).map((e=>t(s.errors[e][0],{variant:"error"})))}}},oe=function(e){var t;let{tableData:s,comparator:r,filterName:a,filterStatus:n,filterService:i,filterStartDate:o,filterEndDate:l}=e;const d=null===(t=s)||void 0===t?void 0:t.map(((e,t)=>[e,t]));var c;null===d||void 0===d||d.sort(((e,t)=>{const s=r(e[0],t[0]);return 0!==s?s:e[1]-t[1]})),s=null===d||void 0===d?void 0:d.map((e=>e[0])),a&&(s=null===(c=s)||void 0===c?void 0:c.filter((e=>-1!==e.orders.file_no.toLowerCase().indexOf(a.toLowerCase())||-1!==e.orders.type.toLowerCase().indexOf(a.toLowerCase()))));"all"!==n&&(s=s.filter((e=>e.status===n)));"new"!==i&&(s=s.filter((e=>e.status===i)));o&&l&&(s=s.filter((e=>e.updated_at.getTime()>=o.getTime()&&e.updated_at.getTime()<=l.getTime())));return s}({tableData:H,comparator:(0,E.hz)(o,d),filterName:B,filterService:U,filterStatus:K,filterStartDate:J,filterEndDate:X}),le=r?56:76,de=!oe.length&&!!B||!oe.length&&!!K||!oe.length&&!!U||!oe.length&&!!X||!oe.length&&!!J;return(0,N.jsxs)(c.A,{maxWidth:!e&&"lg",children:[se&&(0,N.jsx)(V.A,{}),(0,N.jsxs)(a.A,{sx:{borderRadius:"0px",marginTop:"10px"},children:[(0,N.jsx)(A.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:ee,onChange:(e,t)=>{console.log(t,"value"),te(t)},sx:{bgcolor:"#e1e1e1"},children:W.map((e=>(0,N.jsx)(b.A,{disableRipple:!0,value:e.label,label:(0,N.jsx)(v.A,{spacing:1,direction:"row",alignItems:"center",children:(0,N.jsx)("div",{children:e.label})}),sx:{color:ee===e.label?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}}},e.label)))}),(0,N.jsx)(i.A,{variant:"h5",padding:"15px",children:"Requests"}),(0,N.jsx)(k.A,{children:(0,N.jsx)(y.A,{sx:{position:"relative"},children:(0,N.jsx)(C.A,{size:r?"small":"medium",children:(0,N.jsxs)(w.A,{children:[oe.slice(n*x,n*x+x).map((e=>(0,N.jsx)(z,{row:e,onViewRow:()=>(e=>{"Title Insurance"===ee&&s(q.i8.viewRequest.titleInsuranceRequestView,{state:e}),"Coop Lien Searches"===ee&&s(q.i8.viewRequest.CoopLienSearchRequestView,{state:e}),"Eagle 9 Policy"===ee&&s(q.i8.viewRequest.eagle9PolicyRequestView,{state:e}),"Coop/Condo offering plans"===ee&&s(q.i8.viewRequest.coopCondoOfferinPlansRequestView,{state:e}),"1031 Exchanges"===ee&&s(q.i8.viewRequest.exchange1031RequestView,{state:e}),"Other Search / Request"===ee&&s(q.i8.viewRequest.otherSearchesRequestView,{state:e})})(e),onEditRow:()=>{return t=null===e||void 0===e?void 0:e.order_id,"Title Insurance"===ee&&s(q.i8.editOrders.titleInsuranceOrderEdit(t)),"Coop Lien Searches"===ee&&s(q.i8.editOrders.CoopLienSearchOrderEdit(t)),"Eagle 9 Policy"===ee&&s(q.i8.editOrders.eagle9PolicyOrderEdit(t)),"Offering Plans"===ee&&s(q.i8.editOrders.coopCondoOfferinPlansOrderEdit(t)),"1031 Exchanges"===ee&&s(q.i8.editOrders.exchange1031OrderEdit(t)),"ACRIS E-Tax Forms"===ee&&s(q.i8.editOrders.acrisETaxOrderEdit(t)),void("Other Search / Request"===ee&&s(q.i8.editOrders.otherSearchesOrderEdit(t)));var t}},e.id))),(0,N.jsx)(F.dO,{height:le,emptyRows:(0,E.xl)(n,x,H.length)}),(0,N.jsx)(F.Sm,{isNotFound:de})]})})})}),(0,N.jsxs)(l.A,{sx:{position:"relative"},children:[(0,N.jsx)(S.A,{rowsPerPageOptions:[3,5,10,25],component:"div",count:oe.length,rowsPerPage:x,page:n,onPageChange:T,onRowsPerPageChange:L}),(0,N.jsx)(R.A,{control:(0,N.jsx)(_.A,{checked:r,onChange:I}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})}var M=s(47290),B=s(75165),Y=s(64085),U=s(58629),G=s(79196),J=s(11331),Q=s(8499);const X=(0,s(65471).A)((0,N.jsx)("path",{d:"M8.13 19c1.15.64 2.47 1 3.87 1 4.41 0 8-3.59 8-8s-3.59-8-8-8-8 3.59-8 8c0 2.52 1.17 4.77 3 6.24V13h3.5c.8 0 1.5.7 1.5 1.5v1c0 .6-.4 1.1-.9 1.4L12 19h-1.5l-.9-2H8.5v2zM12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2m5.5 14H16v1.5h-1.5V16H13v-1.5h1.5V13H16v1.49h1.5zm-7-.5v-1h-2v1zm0-7.5V6H12v6h-1.5V9.5h-2V12H7V6h1.5v2zM16 6c.8 0 1.5.7 1.5 1.5v3c0 .8-.7 1.5-1.5 1.5h-3V6zm0 4.5v-3h-1.5v3z"}),"HdrPlusOutlined");var Z=s(26689);const K=[{label:"Orders",icon:(0,N.jsx)(Y.A,{}),path:q.i8.orders},{label:"Files",icon:(0,N.jsx)(U.A,{}),path:q.i8.file.file},{label:"Calendar",icon:(0,N.jsx)(G.A,{}),path:q.i8.calendar},{label:"Contact",icon:(0,N.jsx)(J.A,{}),path:q.i8.AddContact},{label:"Create Invoice ",icon:(0,N.jsx)(Q.A,{}),path:q.i8.invoice},{label:"Create File",icon:(0,N.jsx)(X,{}),path:q.i8.file.addfile}],$=()=>(0,N.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(a.A,{sx:{borderRadius:2,boxShadow:2,height:"333px"},children:(0,N.jsxs)(n.A,{children:[(0,N.jsx)(i.A,{variant:"h6",fontWeight:"bold",children:"Quick Links"}),(0,N.jsx)(h.Ay,{container:!0,spacing:2,mt:1,children:K.map(((e,t)=>(0,N.jsx)(h.Ay,{item:!0,xs:6,children:(0,N.jsxs)(B.A,{component:Z.N_,to:e.path,fullWidth:!0,variant:"contained",sx:{bgcolor:"#4C32A7",color:"#fff",textTransform:"none",display:"flex",justifyContent:"flex-start",gap:1,fontWeight:200,textAlign:"start",fontSize:"12px",boxShadow:"none",padding:"12px 24px","&:hover":{bgcolor:"#3A238F"}},children:[e.icon,e.label]})},t)))})]})})}),ee=[{title:"Active orders",progress:80,color:"#4C32A7"},{title:"On Hold orders",progress:82,color:"#FF5733"},{title:"File Completed",progress:90,color:"#2ECC71"},{title:"Contin Completed",progress:80,color:"#F39C12"}],te=e=>{let{title:t,progress:s,color:r}=e;return(0,N.jsx)(a.A,{sx:{textAlign:"center",borderRadius:2,boxShadow:2,height:"203px"},children:(0,N.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,N.jsx)(i.A,{sx:{fontSize:"18px",fontWeight:"400"},color:"#4C32A7",children:t}),(0,N.jsx)(o.A,{sx:{bgcolor:"#E6E6FA",width:80,height:80,mx:"auto",my:1},children:(0,N.jsx)(o.A,{src:"/images/document.png",sx:{width:60,height:60}})}),(0,N.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[(0,N.jsx)(d.A,{variant:"determinate",value:s,sx:{flexGrow:1,height:6,borderRadius:5,bgcolor:"#ddd","& .MuiLinearProgress-bar":{bgcolor:r}}}),(0,N.jsxs)(i.A,{variant:"caption",color:"textSecondary",children:[s,"%"]})]})]})})};function se(){const{user:e}=(0,x.A)(),{themeStretch:t}=((0,r.A)(),(0,u.A)());return(0,N.jsx)(p.A,{title:"Dashboard",children:(0,N.jsx)(c.A,{maxWidth:!t&&"xl",children:(0,N.jsxs)(h.Ay,{sx:{mb:10},children:[(0,N.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,N.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(a.A,{sx:{borderRadius:2,boxShadow:2,bgcolor:"#F5F7FF",padding:1,height:"203px"},children:(0,N.jsxs)(n.A,{children:[(0,N.jsxs)(i.A,{variant:"h4",color:"#4C32A7",children:["Welcome back, ",(0,N.jsxs)("span",{style:{color:"#4C32A7",fontWeight:"bold"},children:[null===e||void 0===e?void 0:e.first_name,"!"]})," \ud83d\udc4b"]}),(0,N.jsx)(i.A,{variant:"body2",color:"#172b4c",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."}),(0,N.jsxs)(i.A,{variant:"body2",color:"#172b4c",children:["Progress is ",(0,N.jsx)("span",{style:{color:"#ff9920",fontWeight:"bold"},children:"very good!"})]})]})})}),ee.map(((e,t)=>(0,N.jsx)(h.Ay,{item:!0,xs:6,md:2,children:(0,N.jsx)(te,{...e},t)})))]}),(0,N.jsxs)(h.Ay,{container:!0,spacing:2,sx:{marginBlock:"10px"},children:[(0,N.jsx)(g.A,{}),(0,N.jsx)($,{}),(0,N.jsx)(h.Ay,{item:!0,xs:12,md:4,children:(0,N.jsx)(m.Fu,{})})]}),(0,N.jsxs)(h.Ay,{container:!0,sx:{marginBlock:"20px"},children:[(0,N.jsx)(h.Ay,{xs:12,md:6,children:(0,N.jsx)(H,{})}),(0,N.jsx)(h.Ay,{xs:12,md:6,children:(0,N.jsx)(M.A,{})})]})]})})})}}}]);