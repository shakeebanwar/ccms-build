"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[443],{70443:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var i=t(26689),c=t(7951),o=t(79537),n=t(6368),s=t(75165),a=t(82053),d=t(35954),l=t(90260),u=t(8279),h=t(66075),m=t(29031),x=t(9950),p=t(13564),f=t(60666),j=t(68654),g=t(9449),v=t(28095),b=t(12257),y=t(2660),A=t(33507),q=t(44414);function k(){const{verify:e}=(0,A.A)(),r=(0,p.Zp)(),{enqueueSnackbar:t}=(0,m.dh)(),i=f.Ik().shape({code1:f.Yj().required("Code is required"),code2:f.Yj().required("Code is required"),code3:f.Yj().required("Code is required"),code4:f.Yj().required("Code is required"),code5:f.Yj().required("Code is required")}),{watch:c,control:o,setValue:n,handleSubmit:s,formState:{isSubmitting:a,isValid:d}}=(0,g.mN)({mode:"onBlur",resolver:(0,j.t)(i),defaultValues:{code1:"",code2:"",code3:"",code4:"",code5:""}}),u=c();(0,x.useEffect)((()=>{document.addEventListener("paste",h)}),[]);const h=e=>{var r;let t=(null===e||void 0===e||null===(r=e.clipboardData)||void 0===r?void 0:r.getData("Text"))||"";t=t.split(""),[].forEach.call(document.querySelectorAll("#field-code"),((e,r)=>{e.value=t[r];const i="code".concat(r+1);n(i,t[r])}))};return(0,q.jsxs)("form",{onSubmit:s((async i=>{try{const c=Object.values(i).join("");await e(c),t("Verify success!"),r(l.pi.login,{replace:!0})}catch(c){console.error(c),c.errors&&c.errors.map((e=>t(e,{variant:"error"})))}})),children:[(0,q.jsx)(b.A,{direction:"row",spacing:2,justifyContent:"center",children:Object.keys(u).map(((e,r)=>(0,q.jsx)(g.xI,{name:"code".concat(r+1),control:o,render:e=>{let{field:t}=e;return(0,q.jsx)(y.A,{...t,id:"field-code",autoFocus:0===r,placeholder:"-",onChange:e=>((e,r)=>{const{maxLength:t,value:i,name:c}=e.target,o=c.replace("code",""),n=Number(o);if(i.length>=t&&n<5){const e=document.querySelector("input[name=code".concat(n+1,"]"));null!==e&&e.focus()}r(e)})(e,t.onChange),inputProps:{maxLength:1,sx:{p:0,textAlign:"center",width:{xs:36,sm:56},height:{xs:36,sm:56}}}})}},e)))}),(0,q.jsx)(v.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:a,disabled:!d,sx:{mt:3},children:"Verify"})]})}const C=(0,c.Ay)("div")((e=>{let{theme:r}=e;return{display:"flex",height:"100%",alignItems:"center",padding:r.spacing(12,0)}}));function w(){return(0,q.jsx)(u.A,{title:"Verify",sx:{height:1},children:(0,q.jsxs)(C,{children:[(0,q.jsx)(d.A,{}),(0,q.jsx)(o.A,{children:(0,q.jsxs)(n.A,{sx:{maxWidth:480,mx:"auto"},children:[(0,q.jsx)(s.A,{size:"small",component:i.N_,to:l.pi.register,startIcon:(0,q.jsx)(h.A,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Back"}),(0,q.jsx)(a.A,{variant:"h3",paragraph:!0,children:"Please check your email!"}),(0,q.jsx)(a.A,{sx:{color:"text.secondary"},children:"We have emailed a 6-digit confirmation code, please enter the code in below box to verify your email."}),(0,q.jsx)(n.A,{sx:{mt:5,mb:3},children:(0,q.jsx)(k,{})})]})})]})})}}}]);