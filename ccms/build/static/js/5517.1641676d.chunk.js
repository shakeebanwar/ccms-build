"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[5517],{49591:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var o=r(9950),n=r(60666),a=r(79537),l=r(12257),s=r(75165),i=r(6368),c=r(82053),d=r(48089),u=r(74745),h=r(1320),p=r(15769),m=r(34075),x=r(91434),g=r(53984),f=r(73447),A=r(57191),j=r(60899),v=r(29031),b=r(13564),y=r(26689),S=r(28095),w=r(68654),C=r(9449),_=r(73878),k=r(90260),N=r(46765),B=r(86608),R=r(38861),D=r(58738),P=r(66075),T=r(44185),F=r(63358),O=r(72870),E=r(12480),L=r(6768),I=r(32741),M=r(95074),z=r(30818),U=r(73561),V=r(44414);const W=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transection Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}],Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};function q(){const{themeStretch:e}=(0,B.A)(),t=(0,_.wA)(),r=(0,b.Zp)(),{enqueueSnackbar:q}=(0,v.dh)(),{dense:G,page:K,order:Y,orderBy:H,rowsPerPage:J,setPage:Q,selected:X,setSelected:$,onSort:ee,onChangeDense:te,onChangePage:re,onChangeRowsPerPage:oe}=(0,R.Ay)({defaultOrderBy:"createDate"}),[ne,ae]=(0,o.useState)([]),[le,se]=(0,o.useState)(""),[ie,ce]=(0,o.useState)("new"),[de,ue]=(0,o.useState)(null),[he,pe]=(0,o.useState)(null),{currentTab:me,onChangeTab:xe}=(0,N.A)("all"),[ge,fe]=(0,o.useState)("Title Insurance"),[Ae,je]=(0,o.useState)(!1),[ve,be]=(0,o.useState)(""),[ye,Se]=(0,o.useState)(!1),[we,Ce]=(0,o.useState)(),[_e,ke]=(0,o.useState)(),[Ne,Be]=(0,o.useState)([]),[Re,De]=(0,o.useState)(!1),[Pe,Te]=(0,o.useState)(null),{file:Fe}=(Boolean(Pe),(0,D.d4)((e=>e.File)));console.log(Fe,"file details"),(0,o.useEffect)((()=>{t((0,z.oc)())}),[]),(0,o.useEffect)((()=>{null!==Fe&&void 0!==Fe&&Fe.length&&ae(Fe)}),[Fe]);const Oe=e=>{Se(!0),Ce(e),(async()=>{try{var e;const r=await I.A.get("user/added/contacts");var t;console.log(r,"all your user api"),null!==r&&void 0!==r&&null!==(e=r.data)&&void 0!==e&&e.status?Be(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.currentUser):console.log("Status False in API")}catch(r){console.log(r,"all your user api error")}})()},Ee=function(e){var t;let{tableData:r,comparator:o,filterName:n,filterStatus:a,filterService:l,filterStartDate:s,filterEndDate:i}=e;const c=null===(t=r)||void 0===t?void 0:t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const r=o(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),r=c.map((e=>e[0])),n&&(r=r.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(n.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(n.toLowerCase()))));"all"!==a&&(r=r.filter((e=>e.status===a)));"new"!==l&&(r=r.filter((e=>e.status===l)));s&&i&&(r=r.filter((e=>e.updated_at.getTime()>=s.getTime()&&e.updated_at.getTime()<=i.getTime())));return r}({tableData:ne,comparator:(0,R.hz)(Y,H),filterName:le,filterService:ie,filterStatus:me,filterStartDate:de,filterEndDate:he}),Le=G?56:76,Ie=!Ee.length&&!!le||!Ee.length&&!!me||!Ee.length&&!!ie||!Ee.length&&!!he||!Ee.length&&!!de,Me=n.Ik().shape({}),ze=(0,o.useMemo)((()=>({users:""})),[]),Ue=(0,C.mN)({resolver:(0,w.t)(Me),defaultValues:ze}),{reset:Ve,watch:We,setValue:Ze,handleSubmit:qe,formState:{isSubmitting:Ge,errors:Ke}}=Ue;console.log(Ke,"errors");return(0,V.jsxs)(a.A,{maxWidth:!e&&"lg",children:[Ae&&(0,V.jsx)(M.A,{}),(0,V.jsx)(F.A,{heading:"Your Files",links:[{name:"Dashboard",href:k.nB.root},{name:"Orders"}],action:(0,V.jsxs)(l.A,{gap:1,direction:"row",children:[(0,V.jsx)(s.A,{variant:"contained",component:y.N_,to:"/dashboard/addfile",startIcon:(0,V.jsx)(P.A,{icon:"clarity:form-line"}),children:"New File"}),(0,V.jsx)(s.A,{variant:"contained",component:y.N_,to:k.nB.legalForm,startIcon:(0,V.jsx)(P.A,{icon:"clarity:form-line"}),children:"Documents"})]})}),(0,V.jsx)(i.A,{sx:{p:2},children:(0,V.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:ge.label})}),(0,V.jsxs)(d.A,{children:[(0,V.jsx)(u.A,{}),(0,V.jsx)(E.F5,{filterName:le,filterService:ie,filterStartDate:de,filterEndDate:he,onFilterName:e=>{se(e),Q(0)},onFilterService:e=>{ce(e.target.value)},onFilterStartDate:e=>{ue(e)},onFilterEndDate:e=>{pe(e)}}),(0,V.jsx)(T.A,{children:(0,V.jsx)(h.A,{sx:{minWidth:800,position:"relative"},children:(0,V.jsxs)(p.A,{size:G?"small":"medium",children:[(0,V.jsx)(O.er,{order:Y,orderBy:H,headLabel:W,rowCount:ne.length,numSelected:X.length,onSort:ee}),(0,V.jsxs)(m.A,{children:[Ee.slice(K*J,K*J+J).map((e=>(0,V.jsx)(L.A,{row:e,onEditRow:()=>(e=>{r("/dashboard/editfile/".concat(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{r("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:e})})(e),onShareRow:()=>Oe(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return t=e.id,void r("/dashboard/order/".concat(t));var t},onDeleteRow:()=>{return t=e.id,je(!0),void I.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),je(!1),200===e.status||201===e.status){const e=ne.filter((e=>e.id!==t));$([]),ae(e),q("Delete Successfully")}})).catch((e=>{je(!1),e.errors&&Object.keys(e.errors).map((t=>q(e.errors[t][0],{variant:"error"})))}));var t}},e.id))),(0,V.jsx)(O.dO,{height:Le,emptyRows:(0,R.xl)(K,J,ne.length)}),(0,V.jsx)(O.Sm,{isNotFound:Ie})]})]})})}),(0,V.jsx)(i.A,{sx:{position:"relative"},children:(0,V.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Ee.length,rowsPerPage:J,page:K,onPageChange:re,onRowsPerPageChange:oe})})]}),(0,V.jsx)(g.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:ye,onClose:()=>Se(!1),closeAfterTransition:!0,slots:{backdrop:f.A},slotProps:{backdrop:{timeout:500}},children:(0,V.jsx)(A.A,{in:ye,children:(0,V.jsx)(i.A,{sx:Z,children:(0,V.jsx)(U.Op,{methods:Ue,onSubmit:qe((async()=>{De(!0);try{await I.A.post("user/share/".concat(_e,"/").concat(we)).then((e=>{if(De(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"share file"),q(t.message),Se(!1)}}))}catch(e){if(console.error(e),e.errors){Object.keys(e.errors).map((t=>q(e.errors[t][0],{variant:"error"})))}}finally{De(!1)}})),children:(0,V.jsxs)(j.Ay,{item:!0,xs:12,md:12,children:[(0,V.jsx)(c.A,{variant:"h5",sx:{mb:2},children:"Select User Into Your List"}),(0,V.jsx)(i.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:(0,V.jsx)(l.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:3,width:"100%"},children:(0,V.jsxs)("select",{className:"form-select w-100",name:"users",onChange:e=>{const t=e.target.value;ke(t)},children:[(0,V.jsx)("option",{value:"",children:"Select User"}),null===Ne||void 0===Ne?void 0:Ne.map(((e,t)=>{var r,o;return(0,V.jsx)("option",{value:null===e||void 0===e||null===(r=e.Contact)||void 0===r?void 0:r.id,children:null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.first_name},t)}))]})})}),(0,V.jsx)(l.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,V.jsx)(S.A,{type:"submit",variant:"contained",loading:Re,children:"Share"})})]})})})})})]})}},6768:(e,t,r)=>{r.d(t,{A:()=>A});var o=r(9950),n=r(13564),a=r(26689),l=r(14857),s=r(9213),i=r(21671),c=r(93038),d=r(75165),u=r(97591),h=r(23266),p=r(90260),m=r(34437),x=(r(22704),r(33949),r(66075)),g=r(72870),f=r(44414);function A(e){let{row:t,selected:r,onSelectRow:A,onAssign:j,onViewRow:v,onDocumentUpload:b,onDownloadDocument:y,onDeleteRow:S,onShareRow:w,onEditRow:C,onOrderContin:_,onStatusChange:k}=e;(0,l.A)();const{pathname:N}=(0,n.zy)(),{updated_at:B,property_type:R,transaction_type:D,purchase_price:P,file_no:T,file_name:F,id:O}=(N.includes("admin"),(0,n.Zp)(),t),[E,L]=(0,o.useState)(null),I=Boolean(E),[M,z]=(0,o.useState)(null),U=()=>{z(null)};return(0,f.jsxs)(s.A,{hover:!0,selected:r,children:[(A||r)&&(0,f.jsx)(i.A,{padding:"checkbox",children:(0,f.jsx)(c.A,{checked:r,onClick:A})}),(0,f.jsx)(i.A,{align:"left",children:T}),(0,f.jsx)(i.A,{align:"left",children:F}),(0,f.jsx)(i.A,{align:"left",children:B&&(0,m.ts)(B)}),(0,f.jsx)(i.A,{align:"left",children:R}),(0,f.jsx)(i.A,{align:"left",children:D}),(0,f.jsx)(i.A,{align:"left",children:P}),(0,f.jsx)(i.A,{align:"left",children:(0,f.jsx)(x.A,{icon:"tabler:eye-filled",onClick:()=>v()})}),(0,f.jsx)(i.A,{align:"left",children:_&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.A,{variant:"contained","aria-controls":I?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":I?"true":void 0,onClick:e=>{L(e.currentTarget)},children:"Order"}),(0,f.jsxs)(u.A,{id:"basic-menu",anchorEl:E,open:I,onClose:()=>{L(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.titleInsurance,"/").concat(O),children:"Title Insurance"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.coopLienSearch,"/").concat(O),children:"Coop Lien Search"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.eagle9Policy,"/").concat(O),children:"Eagle 9 Policy"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.coopCondoOfferinPlans,"/").concat(O),children:"Coop/Condo Offering Plans"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.uccCreateFile,"/").concat(O),children:"UCC - Create/File"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.exchange1031,"/").concat(O),children:"1031 Exchange"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.acrisETax,"/").concat(O),children:"Acris E-Tax Forms"}),(0,f.jsx)(h.A,{component:a.N_,to:"".concat(p.nB.orders.otherSearches,"/").concat(O),children:"Other Searches"})]})]})}),(0,f.jsx)(i.A,{align:"right",children:(0,f.jsx)(g.ZE,{open:M,onOpen:e=>{z(e.currentTarget)},onClose:U,actions:(0,f.jsxs)(f.Fragment,{children:[w&&(0,f.jsxs)(h.A,{onClick:()=>{w(),U()},children:[(0,f.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]}),S&&(0,f.jsxs)(h.A,{onClick:()=>{S(),U()},sx:{color:"error.main"},children:[(0,f.jsx)(x.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,f.jsxs)(h.A,{onClick:()=>{C(),U()},children:[(0,f.jsx)(x.A,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}},52432:(e,t,r)=>{r.d(t,{A:()=>k});var o=r(58168),n=r(98587),a=r(9950),l=(r(26429),r(2803)),s=r(5747),i=r(7951),c=r(79859),d=r(82053),u=r(19657),h=r(65471),p=r(44414);const m=(0,h.A)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var x=r(24184);const g=(0,i.Ay)(x.A)((e=>{let{theme:t}=e;return(0,o.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,o.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})})),f=(0,i.Ay)(m)({width:24,height:16});const A=function(e){const t=e;return(0,p.jsx)("li",{children:(0,p.jsx)(g,(0,o.A)({focusRipple:!0},e,{ownerState:t,children:(0,p.jsx)(f,{ownerState:t})}))})};var j=r(37665);function v(e){return(0,j.A)("MuiBreadcrumbs",e)}const b=(0,r(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),y=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,i.Ay)(d.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(b.li)]:t.li},t.root]})({}),w=(0,i.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),C=(0,i.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function _(e,t,r,o){return e.reduce(((n,a,l)=>(l<e.length-1?n=n.concat(a,(0,p.jsx)(C,{"aria-hidden":!0,className:t,ownerState:o,children:r},"separator-".concat(l))):n.push(a),n)),[])}const k=a.forwardRef((function(e,t){const r=(0,c.A)({props:e,name:"MuiBreadcrumbs"}),{children:i,className:d,component:u="nav",expandText:h="Show path",itemsAfterCollapse:m=1,itemsBeforeCollapse:x=1,maxItems:g=8,separator:f="/"}=r,j=(0,n.A)(r,y),[b,C]=a.useState(!1),k=(0,o.A)({},r,{component:u,expanded:b,expandText:h,itemsAfterCollapse:m,itemsBeforeCollapse:x,maxItems:g,separator:f}),N=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},v,t)})(k),B=a.useRef(null),R=a.Children.toArray(i).filter((e=>a.isValidElement(e))).map(((e,t)=>(0,p.jsx)("li",{className:N.li,children:e},"child-".concat(t))));return(0,p.jsx)(S,(0,o.A)({ref:t,component:u,color:"text.secondary",className:(0,l.A)(N.root,d),ownerState:k},j,{children:(0,p.jsx)(w,{className:N.ol,ref:B,ownerState:k,children:_(b||g&&R.length<=g?R:(e=>x+m>=e.length?e:[...e.slice(0,x),(0,p.jsx)(A,{"aria-label":h,onClick:()=>{C(!0);const e=B.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-m,e.length)])(R),N.separator,f,k)})}))}))},30099:(e,t,r)=>{r.d(t,{A:()=>a});r(9950);var o=r(65471),n=r(44414);const a=(0,o.A)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},88090:(e,t,r)=>{r.d(t,{A:()=>a});r(9950);var o=r(65471),n=r(44414);const a=(0,o.A)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);