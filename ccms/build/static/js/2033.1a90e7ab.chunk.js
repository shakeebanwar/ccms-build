"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[2033],{18456:function(e,r,n){n.d(r,{Z:function(){return b}});var i=n(1413),a=n(45987),t=n(26769),s=n.n(t),l=n(64554),o=n(20890),d=n(23060),u=n(43504),c=n(93517),m=n(80184),x=["links","activeLast"];function h(e){var r=e.links,n=e.activeLast,t=void 0!==n&&n,s=(0,a.Z)(e,x),d=r[r.length-1].name,u=r.map((function(e){return(0,m.jsx)(v,{link:e},e.name)})),h=r.map((function(e){return(0,m.jsx)("div",{children:e.name!==d?(0,m.jsx)(v,{link:e}):(0,m.jsx)(o.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:d})},e.name)}));return(0,m.jsx)(c.Z,(0,i.Z)((0,i.Z)({separator:(0,m.jsx)(l.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},s),{},{children:t?u:h}))}function v(e){var r=e.link,n=r.href,i=r.name,a=r.icon;return(0,m.jsxs)(d.Z,{variant:"body2",component:u.rU,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,m.jsx)(l.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),i]},i)}var p=["links","action","heading","moreLink","sx"];function b(e){var r=e.links,n=e.action,t=e.heading,u=e.moreLink,c=void 0===u?[]:u,x=e.sx,v=(0,a.Z)(e,p);return(0,m.jsxs)(l.Z,{sx:(0,i.Z)({mb:5},x),children:[(0,m.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,m.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:t}),(0,m.jsx)(h,(0,i.Z)({links:r},v))]}),n&&(0,m.jsx)(l.Z,{sx:{flexShrink:0},children:n})]}),(0,m.jsx)(l.Z,{sx:{mt:2},children:s()(c)?(0,m.jsx)(d.Z,{href:c,target:"_blank",rel:"noopener",variant:"body2",children:c}):c.map((function(e){return(0,m.jsx)(d.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},42033:function(e,r,n){n.r(r),n.d(r,{default:function(){return E}});var i=n(53305),a=n(1656),t=n(16871),s=n(26445),l=n(38072),o=n(85703),d=n(55026),u=n(25212),c=n(18456),m=n(1413),x=n(15861),h=n(64687),v=n.n(h),p=n(77942),b=n(72791),j=n(98246),f=n(61134),Z=n(61265),y=n(59860),g=n(61889),k=n(57621),w=n(64554),C=n(20890),q=n(85523),_=n(9955),U=n(67414),S=n(7870),N=n(41758),P=n(47646),R=n(80184);function A(e){var r=e.isEdit,n=e.currentUser,i=(0,t.s0)(),a=(0,j.Ds)().enqueueSnackbar,s=p.Ry().shape({name:p.Z_().required("Name is required"),email:p.Z_().required("Email is required").email(),phoneNumber:p.Z_().required("Phone number is required"),address:p.Z_().required("Address is required"),country:p.Z_().required("country is required"),company:p.Z_().required("Company is required"),state:p.Z_().required("State is required"),city:p.Z_().required("City is required"),role:p.Z_().required("Role Number is required"),avatarUrl:p.nK().test("required","Avatar is required",(function(e){return""!==e}))}),o=(0,b.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",email:(null===n||void 0===n?void 0:n.email)||"",phoneNumber:(null===n||void 0===n?void 0:n.phoneNumber)||"",address:(null===n||void 0===n?void 0:n.address)||"",country:(null===n||void 0===n?void 0:n.country)||"",state:(null===n||void 0===n?void 0:n.state)||"",city:(null===n||void 0===n?void 0:n.city)||"",zipCode:(null===n||void 0===n?void 0:n.zipCode)||"",avatarUrl:(null===n||void 0===n?void 0:n.avatarUrl)||"",isVerified:(null===n||void 0===n?void 0:n.isVerified)||!0,status:null===n||void 0===n?void 0:n.status,company:(null===n||void 0===n?void 0:n.company)||"",role:(null===n||void 0===n?void 0:n.role)||""}}),[n]),u=(0,f.cI)({resolver:(0,Z.X)(s),defaultValues:o}),c=u.reset,h=u.watch,A=u.control,E=u.setValue,V=u.handleSubmit,z=u.formState.isSubmitting,L=h();(0,b.useEffect)((function(){r&&n&&c(o),r||c(o)}),[r,n]);var B=function(){var e=(0,x.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:c(),a(r?"Update success!":"Create success!"),i(l.vB.user.list),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=(0,b.useCallback)((function(e){var r=e[0];r&&E("avatarUrl",Object.assign(r,{preview:URL.createObjectURL(r)}))}),[E]);return(0,R.jsx)(P.RV,{methods:u,onSubmit:V(B),children:(0,R.jsxs)(g.ZP,{container:!0,spacing:3,children:[(0,R.jsx)(g.ZP,{item:!0,xs:12,md:4,children:(0,R.jsxs)(k.Z,{sx:{py:10,px:3},children:[r&&(0,R.jsx)(N.Z,{color:"active"!==L.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:L.status}),(0,R.jsx)(w.Z,{sx:{mb:5},children:(0,R.jsx)(P.sX,{name:"avatarUrl",accept:"image/*",maxSize:3145728,onDrop:I,helperText:(0,R.jsxs)(C.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,R.jsx)("br",{})," max size of ",(0,S.oe)(3145728)]})})}),r&&(0,R.jsx)(q.Z,{labelPlacement:"start",control:(0,R.jsx)(f.Qr,{name:"status",control:A,render:function(e){var r=e.field;return(0,R.jsx)(_.Z,(0,m.Z)((0,m.Z)({},r),{},{checked:"active"!==r.value,onChange:function(e){return r.onChange(e.target.checked?"banned":"active")}}))}}),label:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),(0,R.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),(0,R.jsx)(P._e,{name:"isVerified",labelPlacement:"start",label:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),(0,R.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),(0,R.jsx)(g.ZP,{item:!0,xs:12,md:8,children:(0,R.jsxs)(k.Z,{sx:{p:3},children:[(0,R.jsxs)(w.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,R.jsx)(P.au,{name:"name",label:"Full Name"}),(0,R.jsx)(P.au,{name:"email",label:"Email Address"}),(0,R.jsx)(P.au,{name:"phoneNumber",label:"Phone Number"}),(0,R.jsxs)(P.Cc,{name:"country",label:"Country",placeholder:"Country",children:[(0,R.jsx)("option",{value:""}),d.hW.map((function(e){return(0,R.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,R.jsx)(P.au,{name:"state",label:"State/Region"}),(0,R.jsx)(P.au,{name:"city",label:"City"}),(0,R.jsx)(P.au,{name:"address",label:"Address"}),(0,R.jsx)(P.au,{name:"zipCode",label:"Zip/Code"}),(0,R.jsx)(P.au,{name:"company",label:"Company"}),(0,R.jsx)(P.au,{name:"role",label:"Role"})]}),(0,R.jsx)(U.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,R.jsx)(y.Z,{type:"submit",variant:"contained",loading:z,children:r?"Save Changes":"Create User"})})]})})]})})}function E(){var e=(0,o.Z)().themeStretch,r=(0,t.TH)().pathname,n=(0,t.UO)().name,m=void 0===n?"":n,x=r.includes("edit"),h=d.Xz.find((function(e){return(0,i.o)(e.name)===m}));return(0,R.jsx)(u.Z,{title:"User: Create a new user",children:(0,R.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,R.jsx)(c.Z,{heading:x?"Edit user":"Create a new user",links:[{name:"Dashboard",href:l.vB.root},{name:"User",href:l.vB.user.list},{name:x?(0,a.I)(m):"New user"}]}),(0,R.jsx)(A,{isEdit:x,currentUser:h})]})})}}}]);
//# sourceMappingURL=2033.1a90e7ab.chunk.js.map