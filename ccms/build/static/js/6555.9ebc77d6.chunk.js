"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[6555],{63358:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(56801),s=n.n(i),r=n(6368),a=n(82053),o=n(22707),l=n(26689),c=n(52432),d=n(44414);function h(e){let{links:t,activeLast:n=!1,...i}=e;const s=t[t.length-1].name,o=t.map((e=>(0,d.jsx)(x,{link:e},e.name))),l=t.map((e=>(0,d.jsx)("div",{children:e.name!==s?(0,d.jsx)(x,{link:e}):(0,d.jsx)(a.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name)));return(0,d.jsx)(c.A,{separator:(0,d.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...i,children:n?o:l})}function x(e){let{link:t}=e;const{href:n,name:i,icon:s}=t;return(0,d.jsxs)(o.A,{variant:"body2",component:l.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,d.jsx)(r.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),i]},i)}function u(e){let{links:t,action:n,heading:i,moreLink:l=[],sx:c,...x}=e;return(0,d.jsxs)(r.A,{sx:{mb:5,...c},children:[(0,d.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(r.A,{sx:{flexGrow:1},children:[(0,d.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:i}),(0,d.jsx)(h,{links:t,...x})]}),n&&(0,d.jsx)(r.A,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(r.A,{sx:{mt:2},children:s()(l)?(0,d.jsx)(o.A,{href:l,target:"_blank",rel:"noopener",variant:"body2",children:l}):l.map((e=>(0,d.jsx)(o.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},94416:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(9950),s=n(571),r=n(14857),a=n(19657),o=n(71030),l=n(82053),c=n(44414);function d(){const e=(0,r.A)(),t="rtl"===e.direction,n=e.palette.grey[600].replace("#",""),i=e=>"url(https://api.iconify.design/carbon/".concat(e,".svg?color=%23").concat(n,"&width=").concat(32,"&height=").concat(32,")"),s=t=>({opacity:1,alignItems:"center",display:"inline-flex",justifyContent:"center",backgroundImage:"unset",backgroundColor:"transparent",transition:e.transitions.create("opacity"),"&:before":{display:"block",width:32,height:32,content:i(t)},"&:hover":{opacity:.72}});return(0,c.jsx)(o.A,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backgroundColor:(0,a.X4)(e.palette.grey[900],.96)},"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:40,height:40,justifyContent:"center",marginLeft:e.spacing(2)}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":s("zoom-in"),"&.ril__zoomOutButton":s("zoom-out"),"&.ril__closeButton":s("close")},"& .ril__navButtons":{padding:e.spacing(3),"&.ril__navButtonPrev":{right:"auto",left:e.spacing(2),...s(t?"arrow-right":"arrow-left")},"&.ril__navButtonNext":{left:"auto",right:e.spacing(2),...s(t?"arrow-left":"arrow-right")}}}}})}function h(e){let{images:t,photoIndex:n,setPhotoIndex:r,isOpen:a,...o}=e;(0,i.useEffect)((()=>{document.body.style.overflow=a?"hidden":"unset"}),[a]);const h=[(0,c.jsx)(l.A,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{}),a&&(0,c.jsx)(s.A,{animationDuration:160,nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onMovePrevRequest:()=>r((n+t.length-1)%t.length),onMoveNextRequest:()=>r((n+1)%t.length),toolbarButtons:h,reactModalStyle:{overlay:{zIndex:9999}},...o})]})}},2995:(e,t,n)=>{n.d(t,{E2:()=>m,Xc:()=>p,GC:()=>g,Ab:()=>a,D4:()=>c,X9:()=>l,yF:()=>x});var i=n(44414);var s=n(82917),r=n(6368);function a(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),(0,i.jsxs)(r.A,{sx:{mt:3,display:"flex",alignItems:"center"},children:[(0,i.jsx)(s.A,{variant:"circular",width:64,height:64}),(0,i.jsxs)(r.A,{sx:{flexGrow:1,ml:2},children:[(0,i.jsx)(s.A,{variant:"text",height:20}),(0,i.jsx)(s.A,{variant:"text",height:20}),(0,i.jsx)(s.A,{variant:"text",height:20})]})]})]})}var o=n(60899);function l(){return(0,i.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,i.jsx)(o.Ay,{item:!0,xs:12,md:6,lg:7,children:(0,i.jsx)(s.A,{variant:"rectangular",width:"100%",sx:{paddingTop:"100%",borderRadius:2}})}),(0,i.jsxs)(o.Ay,{item:!0,xs:12,md:6,lg:5,children:[(0,i.jsx)(s.A,{variant:"circular",width:80,height:80}),(0,i.jsx)(s.A,{variant:"text",height:240}),(0,i.jsx)(s.A,{variant:"text",height:40}),(0,i.jsx)(s.A,{variant:"text",height:40}),(0,i.jsx)(s.A,{variant:"text",height:40})]})]})}function c(){return(0,i.jsxs)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,i.jsx)(s.A,{variant:"rectangular",width:"100%",sx:{height:200,borderRadius:2}}),(0,i.jsxs)(r.A,{sx:{display:"flex",mt:1.5},children:[(0,i.jsx)(s.A,{variant:"circular",sx:{width:40,height:40}}),(0,i.jsx)(s.A,{variant:"text",sx:{mx:1,flexGrow:1}})]})]})}var d=n(48089),h=n(12257);function x(){return(0,i.jsxs)(d.A,{children:[(0,i.jsx)(s.A,{variant:"rectangular",sx:{paddingTop:"100%"}}),(0,i.jsxs)(h.A,{spacing:2,sx:{p:3},children:[(0,i.jsx)(s.A,{variant:"text",sx:{width:.5}}),(0,i.jsxs)(h.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(h.A,{direction:"row",children:[(0,i.jsx)(s.A,{variant:"circular",sx:{width:16,height:16}}),(0,i.jsx)(s.A,{variant:"circular",sx:{width:16,height:16}}),(0,i.jsx)(s.A,{variant:"circular",sx:{width:16,height:16}})]}),(0,i.jsx)(s.A,{variant:"text",sx:{width:40}})]})]})]})}var u=n(70693);function p(){return(0,i.jsx)(r.A,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(4, 1fr)"},children:[...Array(3)].map(((e,t)=>(0,i.jsx)(u.A,{variant:"outlined",sx:{p:2.5,width:310},children:(0,i.jsxs)(h.A,{spacing:2,children:[(0,i.jsx)(s.A,{variant:"rectangular",sx:{paddingTop:"75%",borderRadius:1.5}}),0===t&&(0,i.jsx)(s.A,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}}),2!==t&&(0,i.jsx)(s.A,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}})]})},t)))})}function g(){return(0,i.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1},children:[(0,i.jsx)(s.A,{variant:"circular",width:32,height:32}),(0,i.jsx)(s.A,{variant:"text",sx:{width:.25,height:16}})]})}function m(){return(0,i.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1.5},children:[(0,i.jsx)(s.A,{variant:"circular",width:48,height:48}),(0,i.jsxs)(h.A,{spacing:.5,sx:{flexGrow:1},children:[(0,i.jsx)(s.A,{variant:"text",sx:{width:.5,height:16}}),(0,i.jsx)(s.A,{variant:"text",sx:{width:.25,height:12}})]})]})}},26555:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var i=n(9950),s=n(79537),r=n(12257),a=n(27007),o=n(58738),l=n(63935),c=n(90260),d=n(8279),h=n(63358),x=n(2995),u=n(70693),p=n(6368),g=n(82053),m=n(93038),j=n(63575),A=n(66075),f=n(10774),v=n(7951),y=n(71525),w=n(83274),b=n(75165),k=n(74745),C=n(2660),I=n(62854),S=n(63916),D=n(23266),M=n(98091),R=n(44185),T=n(20131),z=n(34437),P=n(94416),_=n(44414);function O(e){let{comments:t}=e;const[n,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(0),l=t.filter((e=>"image"===e.messageType)).map((e=>e.message));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.A,{spacing:3,sx:{py:3,px:2.5,bgcolor:"background.neutral"},children:t.map((e=>(0,_.jsxs)(r.A,{direction:"row",spacing:2,children:[(0,_.jsx)(I.A,{src:e.avatar,sx:{width:32,height:32}}),(0,_.jsxs)("div",{children:[(0,_.jsxs)(r.A,{direction:"row",alignItems:"center",spacing:1,children:[(0,_.jsxs)(g.A,{variant:"subtitle2",children:[" ",e.name]}),(0,_.jsx)(g.A,{variant:"caption",sx:{color:"text.secondary"},children:(0,z.kH)(e.createdAt)})]}),"image"===e.messageType?(0,_.jsx)(j.A,{src:e.message,onClick:()=>(e=>{const t=l.findIndex((t=>t===e));s(!0),o(t)})(e.message),sx:{mt:2,borderRadius:1}}):(0,_.jsx)(g.A,{variant:"body2",sx:{mt:.5},children:e.message})]})]},e.id)))}),(0,_.jsx)(P.A,{images:l,mainSrc:l[a],photoIndex:a,setPhotoIndex:o,isOpen:n,onCloseRequest:()=>s(!1)})]})}var W=n(56801),B=n.n(W),F=n(36275),E=n(19657),G=n(25333);const L=(0,v.Ay)("div")((e=>{let{theme:t}=e;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:t.spacing(.5),borderRadius:t.shape.borderRadius,border:"dashed 1px ".concat(t.palette.divider),"&:hover":{opacity:.72}}}));function H(e){let{attachments:t}=e;const[n,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)(0),o=t;return(0,_.jsxs)(_.Fragment,{children:[t.map((e=>(0,_.jsx)(j.A,{src:e,onClick:()=>(e=>{const t=o.findIndex((t=>t===e));s(!0),a(t)})(e),sx:{m:.5,width:64,height:64,borderRadius:1,cursor:"pointer"}},e))),(0,_.jsx)(U,{}),(0,_.jsx)(P.A,{images:o,mainSrc:o[r],photoIndex:r,setPhotoIndex:a,isOpen:n,onCloseRequest:()=>s(!1)})]})}function U(){const[e,t]=(0,i.useState)([]),n=(0,i.useCallback)((e=>{t(e.map((e=>Object.assign(e,{preview:URL.createObjectURL(e)}))))}),[t]),{getRootProps:s,getInputProps:r,isDragActive:a}=(0,F.VB)({onDrop:n});return(0,_.jsxs)(_.Fragment,{children:[e.map((n=>{const{name:i,preview:s}=n,r=B()(n)?n:i;return(0,_.jsxs)(p.A,{...(0,T.Sk)().inRight,sx:{p:0,m:.5,width:64,height:64,borderRadius:1,overflow:"hidden",position:"relative"},children:[(0,_.jsx)(j.A,{src:B()(n)?n:s,sx:{height:1,position:"absolute",border:e=>"solid 1px ".concat(e.palette.divider)}}),(0,_.jsx)(p.A,{sx:{top:6,right:6,position:"absolute"},children:(0,_.jsx)(G.A,{size:"small",onClick:()=>(n=>{const i=e.filter((e=>e!==n));t(i)})(n),sx:{p:"2px",color:"common.white",bgcolor:e=>(0,E.X4)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,E.X4)(e.palette.grey[900],.48)}},children:(0,_.jsx)(A.A,{icon:"eva:close-fill"})})})]},r)})),(0,_.jsxs)(L,{...s(),sx:{...a&&{opacity:.72}},children:[(0,_.jsx)("input",{...r()}),(0,_.jsx)(A.A,{icon:"eva:plus-fill",sx:{color:"text.secondary"}})]})]})}var K=n(45359);function X(){return(0,_.jsxs)(r.A,{direction:"row",spacing:2,sx:{py:3,px:2.5},children:[(0,_.jsx)(K.A,{}),(0,_.jsxs)(u.A,{variant:"outlined",sx:{p:1,flexGrow:1},children:[(0,_.jsx)(C.A,{fullWidth:!0,multiline:!0,rows:2,placeholder:"Type a message",sx:{"& fieldset":{display:"none"}}}),(0,_.jsxs)(r.A,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsxs)(r.A,{direction:"row",spacing:.5,children:[(0,_.jsx)(w.A,{title:"Add photo",children:(0,_.jsx)(G.A,{size:"small",children:(0,_.jsx)(A.A,{icon:"ic:round-add-photo-alternate",width:20,height:20})})}),(0,_.jsx)(G.A,{size:"small",children:(0,_.jsx)(A.A,{icon:"eva:attach-2-fill",width:20,height:20})})]}),(0,_.jsx)(b.A,{variant:"contained",children:"Comment"})]})]})]})}var q=n(13880),N=n(49820),V=n(43974),Y=n(47177),Z=n(76738);const $={attachments:[],comments:[],description:"",due:[null,null],assignee:[]};function J(e){let{onAddTask:t,onCloseAddTask:n}=e;const[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{dueDate:c,startTime:d,endTime:h,isSameDays:x,isSameMonths:p,onChangeDueDate:g,openPicker:j,onOpenPicker:v,onClosePicker:y}=Q({date:[null,null]});return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(Y.A,{onClickAway:()=>{s&&t({...$,id:(0,Z.A)(),name:s,due:c,completed:o}),n()},children:(0,_.jsxs)(u.A,{variant:"outlined",sx:{p:2},children:[(0,_.jsx)(C.A,{multiline:!0,size:"small",placeholder:"Task name",value:s,onChange:e=>a(e.target.value),onKeyUp:e=>{"Enter"===e.key&&""!==s.trim()&&t({...$,id:(0,Z.A)(),name:s,due:c,completed:o})},sx:{"& input":{p:0},"& fieldset":{borderColor:"transparent !important"}}}),(0,_.jsxs)(r.A,{direction:"row",justifyContent:"space-between",children:[(0,_.jsx)(w.A,{title:"Mark task complete",children:(0,_.jsx)(m.A,{disableRipple:!0,checked:o,onChange:e=>{l(e.target.checked)},icon:(0,_.jsx)(A.A,{icon:"eva:radio-button-off-outline"}),checkedIcon:(0,_.jsx)(A.A,{icon:"eva:checkmark-circle-2-outline"})})}),(0,_.jsxs)(r.A,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,_.jsx)(w.A,{title:"Assign this task",children:(0,_.jsx)(G.A,{size:"small",children:(0,_.jsx)(A.A,{icon:"eva:people-fill",width:20,height:20})})}),d&&h?(0,_.jsx)(ee,{startTime:d,endTime:h,isSameDays:x,isSameMonths:p,onOpenPicker:v}):(0,_.jsx)(w.A,{title:"Add due date",children:(0,_.jsx)(G.A,{size:"small",onClick:v,children:(0,_.jsx)(A.A,{icon:"eva:calendar-fill",width:20,height:20})})}),(0,_.jsx)(f.A,{open:j,onClose:y,onOpen:v,value:c,onChange:g,renderInput:()=>{}})]})]})]})})})}function Q(e){let{date:t}=e;const[n,s]=(0,i.useState)([t[0],t[1]]),[r,a]=(0,i.useState)(!1),o=n[0]||"",l=n[1]||"";return{dueDate:n,startTime:o,endTime:l,isSameDays:(0,q.A)(new Date(o),new Date(l)),isSameMonths:(0,N.A)(new Date(o),new Date(l)),onChangeDueDate:e=>{s(e)},openPicker:r,onOpenPicker:()=>{a(!0)},onClosePicker:()=>{a(!1)}}}function ee(e){let{startTime:t,endTime:n,isSameDays:i,isSameMonths:s,onOpenPicker:r,sx:a}=e;const o={typography:"caption",cursor:"pointer","&:hover":{opacity:.72}};return s?(0,_.jsx)(p.A,{onClick:r,sx:{...o,...a},children:i?(0,V.A)(new Date(n),"dd MMM"):"".concat((0,V.A)(new Date(t),"dd")," - ").concat((0,V.A)(new Date(n),"dd MMM"))}):(0,_.jsxs)(p.A,{onClick:r,sx:{...o,...a},children:[(0,V.A)(new Date(t),"dd MMM")," - ",(0,V.A)(new Date(n),"dd MMM")]})}const te=["low","medium","hight"],ne=(0,v.Ay)(g.A)((e=>{let{theme:t}=e;return{...t.typography.body2,width:140,fontSize:13,flexShrink:0,color:t.palette.text.secondary}}));function ie(e){let{card:t,isOpen:n,onClose:s,onDeleteTask:a}=e;const o=(0,M.A)("up","sm"),l=(0,i.useRef)(null),[c,d]=(0,i.useState)(t.completed),[h,x]=(0,i.useState)("low"),{name:u,description:m,due:j,assignee:v,attachments:z,comments:P}=t,{dueDate:W,startTime:B,endTime:F,isSameDays:E,isSameMonths:G,onChangeDueDate:L,openPicker:U,onOpenPicker:K,onClosePicker:q}=Q({date:j});return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(y.Ay,{open:n,onClose:s,anchor:"right",PaperProps:{sx:{width:{xs:1,sm:480}}},children:[(0,_.jsxs)(r.A,{p:2.5,direction:"row",alignItems:"center",children:[!o&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(w.A,{title:"Back",children:(0,_.jsx)(T.ji,{onClick:s,sx:{mr:1},children:(0,_.jsx)(A.A,{icon:"eva:arrow-ios-back-fill",width:20,height:20})})})}),(0,_.jsx)(b.A,{size:"small",variant:"outlined",color:c?"primary":"inherit",startIcon:!c&&(0,_.jsx)(A.A,{icon:"eva:checkmark-fill",width:16,height:16}),onClick:()=>{d((e=>!e))},children:c?"Complete":"Mark complete"}),(0,_.jsxs)(r.A,{direction:"row",spacing:1,justifyContent:"flex-end",flexGrow:1,children:[(0,_.jsx)(w.A,{title:"Like this",children:(0,_.jsx)(T.ji,{size:"small",children:(0,_.jsx)(A.A,{icon:"ic:round-thumb-up",width:20,height:20})})}),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(w.A,{title:"Attachment",children:(0,_.jsx)(T.ji,{size:"small",onClick:()=>{var e;null===(e=l.current)||void 0===e||e.click()},children:(0,_.jsx)(A.A,{icon:"eva:attach-2-fill",width:20,height:20})})}),(0,_.jsx)("input",{ref:l,type:"file",style:{display:"none"}})]}),(0,_.jsx)(w.A,{title:"Delete task",children:(0,_.jsx)(T.ji,{onClick:a,size:"small",children:(0,_.jsx)(A.A,{icon:"eva:trash-2-outline",width:20,height:20})})}),(0,_.jsx)(w.A,{title:"More actions",children:(0,_.jsx)(T.ji,{size:"small",children:(0,_.jsx)(A.A,{icon:"eva:more-horizontal-fill",width:20,height:20})})})]})]}),(0,_.jsx)(k.A,{}),(0,_.jsxs)(R.A,{children:[(0,_.jsxs)(r.A,{spacing:3,sx:{px:2.5,py:3},children:[(0,_.jsx)(C.A,{fullWidth:!0,multiline:!0,size:"small",placeholder:"Task name",value:u,sx:{typography:"h6","& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}}}),(0,_.jsxs)(r.A,{direction:"row",children:[(0,_.jsx)(ne,{sx:{mt:1.5},children:"Assignee"}),(0,_.jsxs)(r.A,{direction:"row",flexWrap:"wrap",alignItems:"center",children:[v.map((e=>(0,_.jsx)(I.A,{alt:e.name,src:e.avatar,sx:{m:.5,width:36,height:36}},e.id))),(0,_.jsx)(w.A,{title:"Add assignee",children:(0,_.jsx)(T.ji,{sx:{p:1,ml:.5,border:e=>"dashed 1px ".concat(e.palette.divider)},children:(0,_.jsx)(A.A,{icon:"eva:plus-fill",width:20,height:20})})})]})]}),(0,_.jsxs)(r.A,{direction:"row",alignItems:"center",children:[(0,_.jsx)(ne,{children:" Due date"}),(0,_.jsxs)(_.Fragment,{children:[B&&F?(0,_.jsx)(ee,{startTime:B,endTime:F,isSameDays:E,isSameMonths:G,onOpenPicker:K,sx:{typography:"body2"}}):(0,_.jsx)(w.A,{title:"Add assignee",children:(0,_.jsx)(T.ji,{onClick:K,sx:{p:1,ml:.5,border:e=>"dashed 1px ".concat(e.palette.divider)},children:(0,_.jsx)(A.A,{icon:"eva:plus-fill",width:20,height:20})})}),(0,_.jsx)(f.A,{open:U,onClose:q,onOpen:K,value:W,onChange:L,renderInput:()=>{}})]})]}),(0,_.jsxs)(r.A,{direction:"row",alignItems:"center",children:[(0,_.jsx)(ne,{children:"Prioritize"}),(0,_.jsx)(S.A,{fullWidth:!0,select:!0,size:"small",value:h,onChange:e=>{x(e.target.value)},sx:{"& svg":{display:"none"},"& fieldset":{display:"none"},"& .MuiSelect-select":{p:0,display:"flex",alignItems:"center"}},children:te.map((e=>(0,_.jsxs)(D.A,{value:e,sx:{mx:1,my:.5,borderRadius:1},children:[(0,_.jsx)(p.A,{sx:{mr:1,width:14,height:14,borderRadius:.5,bgcolor:"error.main",..."low"===e&&{bgcolor:"info.main"},..."medium"===e&&{bgcolor:"warning.main"}}}),(0,_.jsx)(g.A,{variant:"body2",sx:{textTransform:"capitalize"},children:e})]},e)))})]}),(0,_.jsxs)(r.A,{direction:"row",children:[(0,_.jsx)(ne,{sx:{mt:2},children:"Description"}),(0,_.jsx)(C.A,{fullWidth:!0,multiline:!0,rows:3,size:"small",placeholder:"Task name",value:m,sx:{typography:"body2"}})]}),(0,_.jsxs)(r.A,{direction:"row",children:[(0,_.jsx)(ne,{sx:{mt:2},children:"Attachments"}),(0,_.jsx)(r.A,{direction:"row",flexWrap:"wrap",children:(0,_.jsx)(H,{attachments:z})})]})]}),P.length>0&&(0,_.jsx)(O,{comments:P})]}),(0,_.jsx)(k.A,{}),(0,_.jsx)(X,{})]})})}function se(e){let{card:t,onDeleteTask:n,index:s}=e;const{name:r,attachments:o}=t,[l,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(t.completed),x=()=>{c(!0)},f=()=>{c(!1)},v=e=>{h(e.target.checked)};return(0,_.jsx)(a.sx,{draggableId:t.id,index:s,children:e=>(0,_.jsxs)("div",{...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,children:[(0,_.jsxs)(u.A,{sx:{px:2,width:1,position:"relative",boxShadow:e=>e.customShadows.z1,"&:hover":{boxShadow:e=>e.customShadows.z16},...o.length>0&&{pt:2}},children:[(0,_.jsxs)(p.A,{onClick:x,sx:{cursor:"pointer"},children:[o.length>0&&(0,_.jsx)(p.A,{sx:{pt:"60%",borderRadius:1,overflow:"hidden",position:"relative",transition:e=>e.transitions.create("opacity",{duration:e.transitions.duration.shortest}),...d&&{opacity:.48}},children:(0,_.jsx)(j.A,{src:o[0],sx:{position:"absolute",top:0,width:1,height:1}})}),(0,_.jsx)(g.A,{noWrap:!0,variant:"subtitle2",sx:{py:3,pl:5,transition:e=>e.transitions.create("opacity",{duration:e.transitions.duration.shortest}),...d&&{opacity:.48}},children:r})]}),(0,_.jsx)(m.A,{disableRipple:!0,checked:d,icon:(0,_.jsx)(A.A,{icon:"eva:radio-button-off-outline"}),checkedIcon:(0,_.jsx)(A.A,{icon:"eva:checkmark-circle-2-outline"}),onChange:v,sx:{position:"absolute",bottom:15}})]}),(0,_.jsx)(ie,{card:t,isOpen:l,onClose:f,onDeleteTask:()=>n(t.id)})]})})}var re=n(29031),ae=n(73878),oe=n(70458);function le(e){let{columnName:t,onDelete:n,onUpdate:s}=e;const a=(0,i.useRef)(null),[o,l]=(0,i.useState)(t),[c,d]=(0,i.useState)(null);(0,i.useEffect)((()=>{c&&a.current&&a.current.focus()}),[c]);const h=()=>{d(null)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(r.A,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,sx:{pt:3},children:[(0,_.jsx)(C.A,{size:"small",placeholder:"Section name",value:o,onChange:e=>{l(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&a.current&&(a.current.blur(),s(o))},inputRef:a,sx:{typography:"h6",fontWeight:"fontWeightBold","& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}}}),(0,_.jsx)(G.A,{size:"small",onClick:e=>{d(e.currentTarget)},color:c?"inherit":"default",children:(0,_.jsx)(A.A,{icon:"eva:more-horizontal-fill",width:20,height:20})})]}),(0,_.jsxs)(oe.A,{open:Boolean(c),anchorEl:c,onClose:h,sx:{width:"auto","& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}},children:[(0,_.jsxs)(D.A,{onClick:n,sx:{color:"error.main"},children:[(0,_.jsx)(A.A,{icon:"eva:trash-2-outline",sx:{width:20,height:20,flexShrink:0,mr:1}}),"Delete section"]}),(0,_.jsxs)(D.A,{onClick:()=>{h()},children:[(0,_.jsx)(A.A,{icon:"eva:edit-fill",sx:{width:20,height:20,flexShrink:0,mr:1}}),"Rename section"]})]})]})}function ce(e){let{column:t,index:n}=e;const s=(0,o.wA)(),{enqueueSnackbar:c}=(0,re.dh)(),{board:d}=(0,ae.d4)((e=>e.kanban)),[h,x]=(0,i.useState)(!1),{name:p,cardIds:g,id:m}=t,j=()=>{x((e=>!e))},f=()=>{x(!1)},v=e=>{s((0,l.vq)({cardId:e,columnId:m}))},y=async e=>{try{e!==p&&(s((0,l.y$)(m,{...t,name:e})),c("Update success!"))}catch(n){console.error(n)}},w=async()=>{try{s((0,l.gR)(m))}catch(e){console.error(e)}},k=e=>{s((0,l.XZ)({card:e,columnId:m})),f()};return(0,_.jsx)(a.sx,{draggableId:m,index:n,children:e=>(0,_.jsx)(u.A,{...e.draggableProps,ref:e.innerRef,variant:"outlined",sx:{px:2,bgcolor:"grey.5008"},children:(0,_.jsxs)(r.A,{spacing:3,...e.dragHandleProps,children:[(0,_.jsx)(le,{columnName:p,onDelete:w,onUpdate:y}),(0,_.jsx)(a.gL,{droppableId:m,type:"task",children:e=>(0,_.jsxs)(r.A,{ref:e.innerRef,...e.droppableProps,spacing:2,width:280,children:[g.map(((e,t)=>(0,_.jsx)(se,{onDeleteTask:v,card:null===d||void 0===d?void 0:d.cards[e],index:t},e))),e.placeholder]})}),(0,_.jsxs)(r.A,{spacing:2,sx:{pb:3},children:[h&&(0,_.jsx)(J,{onAddTask:k,onCloseAddTask:f}),(0,_.jsx)(b.A,{fullWidth:!0,size:"large",color:"inherit",startIcon:(0,_.jsx)(A.A,{icon:"eva:plus-fill",width:20,height:20}),onClick:j,sx:{fontSize:14},children:"Add Task"})]})]})})})}function de(){const e=(0,i.useRef)(null),t=(0,o.wA)(),[n,s]=(0,i.useState)(""),[r,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{r&&e.current&&e.current.focus()}),[r]);const c=async()=>{try{n&&(t((0,l.HA)({name:n})),s("")),a(!1)}catch(e){console.error(e)}};return(0,_.jsxs)(u.A,{sx:{minWidth:280,width:280},children:[!r&&(0,_.jsx)(b.A,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",startIcon:(0,_.jsx)(A.A,{icon:"eva:plus-fill",width:20,height:20}),onClick:()=>{a(!0)},children:"Add section"}),r&&(0,_.jsx)(Y.A,{onClickAway:c,children:(0,_.jsx)(C.A,{fullWidth:!0,placeholder:"New section",inputRef:e,value:n,onChange:e=>{s(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&c()},sx:{typography:"h6"}})})]})}function he(){const e=(0,o.wA)(),{board:t}=(0,o.d4)((e=>e.kanban));(0,i.useEffect)((()=>{e((0,l.v$)())}),[e]);return(0,_.jsx)(d.A,{title:"Kanban",sx:{height:1},children:(0,_.jsxs)(s.A,{maxWidth:!1,sx:{height:1},children:[(0,_.jsx)(h.A,{heading:"Kanban",links:[{name:"Dashboard",href:c.nB.root},{name:"Kanban"}]}),(0,_.jsx)(a.JY,{onDragEnd:n=>{const{destination:i,source:s,draggableId:r,type:a}=n;if(!i)return;if(i.droppableId===s.droppableId&&i.index===s.index)return;if("column"===a){const n=Array.from(t.columnOrder);return n.splice(s.index,1),n.splice(i.index,0,r),void e((0,l.zZ)(n))}const o=t.columns[s.droppableId],c=t.columns[i.droppableId];if(o.id===c.id){const n=[...o.cardIds];n.splice(s.index,1),n.splice(i.index,0,r);const a={...o,cardIds:n};return void e((0,l.vV)({...t.columns,[a.id]:a}))}const d=[...o.cardIds];d.splice(s.index,1);const h={...o,cardIds:d},x=[...c.cardIds];x.splice(i.index,0,r);const u={...c,cardIds:x};e((0,l.vV)({...t.columns,[h.id]:h,[u.id]:u}))},children:(0,_.jsx)(a.gL,{droppableId:"all-columns",direction:"horizontal",type:"column",children:e=>(0,_.jsxs)(r.A,{...e.droppableProps,ref:e.innerRef,direction:"row",alignItems:"flex-start",spacing:3,sx:{height:"calc(100% - 32px)",overflowY:"hidden"},children:[t.columnOrder.length?t.columnOrder.map(((e,n)=>(0,_.jsx)(ce,{index:n,column:t.columns[e]},e))):(0,_.jsx)(x.Xc,{}),e.placeholder,(0,_.jsx)(de,{})]})})})]})})}},34437:(e,t,n)=>{n.d(t,{j5:()=>o,kH:()=>l,ts:()=>r,uK:()=>a});var i=n(43974),s=n(1369);function r(e){return(0,i.A)(new Date(e),"dd MMMM yyyy")}function a(e){return(0,i.A)(new Date(e),"dd MMM yyyy HH:mm")}function o(e){return(0,i.A)(new Date(e),"dd/MM/yyyy hh:mm p")}function l(e){return(0,s.A)(new Date(e),{addSuffix:!0})}},76738:(e,t,n)=>{function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}n.d(t,{A:()=>i})}}]);