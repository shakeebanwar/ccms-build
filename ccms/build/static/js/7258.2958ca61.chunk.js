"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7258],{67258:(e,o,n)=>{n.r(o),n.d(o,{default:()=>R});var t=n(9950),l=n(79537),i=n(48089),r=n(6368),a=n(12257),d=n(75165),s=n(1320),c=n(15769),p=n(34075),x=n(91434),h=n(29031),f=n(99532),u=n(13564),g=n(26689),m=n(48711),b=n(55858),j=n(90260),A=n(46765),v=n(86608),C=n(38861),w=n(34117),S=(n(66075),n(44185)),y=n(63358),_=n(72870),k=(n(12480),n(6768)),T=n(32741),B=n(95074),P=n(98594),D=n(44414);const N=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:1e3},{id:"property_location",label:"address",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:400},{id:"transaction_type",label:"Transaction Type",align:"left",width:400},{id:"update_by_pdf",label:"Contract",align:"left",width:400},{id:"",label:"Edit",align:"left",width:100},{id:"",label:"Delete",align:"left",width:100},{id:"",label:(0,D.jsx)(b.A,{color:"#e9eff4"}),align:"center",width:100}];function R(){const{themeStretch:e}=(0,v.A)(),o=(0,u.Zp)(),{enqueueSnackbar:n}=(0,h.dh)(),{dense:b,page:R,order:E,orderBy:O,rowsPerPage:F,setPage:L,selected:z,setSelected:W,onSort:I,onChangeDense:V,onChangePage:U,onChangeRowsPerPage:Z}=(0,C.Ay)({defaultOrderBy:"createDate"}),[M,q]=(0,t.useState)([]),[H,J]=(0,t.useState)(""),[G,K]=(0,t.useState)("new"),[Q,X]=(0,t.useState)(null),[Y,$]=(0,t.useState)(null),{currentTab:ee,onChangeTab:oe}=(0,A.A)("all"),[ne,te]=(0,t.useState)("All"),[le,ie]=(0,t.useState)(!1),[re,ae]=(0,t.useState)(""),[de,se]=(0,t.useState)(),[ce,pe]=(0,t.useState)(),[xe,he]=(0,t.useState)([]),[fe,ue]=(0,t.useState)(null);Boolean(fe);(0,t.useEffect)((()=>{(async()=>{ie(!0);try{var e;const o=await T.A.get("employee/users/list");console.log(o,"all user"),he(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.files),console.log(o,"autofill")}catch(o){console.log(o,"autofill")}finally{ie(!1)}})()}),[]);const{Employeefile:ge}=(0,w.d4)((e=>e.EmployeeFile));console.log(ge,"file details"),(0,t.useEffect)((()=>{null!==ge&&void 0!==ge&&ge.length&&de&&q(ge)}),[ge]);const me=function(e){var o;let{tableData:n,comparator:t,filterName:l,filterStatus:i,filterService:r,filterStartDate:a,filterEndDate:d}=e;const s=null===(o=n)||void 0===o?void 0:o.map(((e,o)=>[e,o]));s.sort(((e,o)=>{const n=t(e[0],o[0]);return 0!==n?n:e[1]-o[1]})),n=s.map((e=>e[0])),l&&(n=n.filter((e=>-1!==e.file_name.toLowerCase().indexOf(l.toLowerCase())||-1!==e.file_no.toLowerCase().indexOf(l.toLowerCase()))));"all"!==i&&(n=n.filter((e=>e.status===i)));"new"!==r&&(n=n.filter((e=>e.status===r)));a&&d&&(n=n.filter((e=>e.updated_at.getTime()>=a.getTime()&&e.updated_at.getTime()<=d.getTime())));return n}({tableData:M,comparator:(0,C.hz)(E,O),filterName:H,filterService:G,filterStatus:ee,filterStartDate:Q,filterEndDate:Y}),be=b?56:76,je=!me.length&&!!H||!me.length&&!!ee||!me.length&&!!G||!me.length&&!!Y||!me.length&&!!Q;return(0,D.jsxs)(l.A,{maxWidth:!e&&"xl",children:[le&&(0,D.jsx)(B.A,{}),(0,D.jsxs)(i.A,{sx:{borderRadius:"0px"},children:[(0,D.jsxs)(r.A,{sx:{bgcolor:"#2e3c56",paddingLeft:"20px",paddingRight:"20px",display:"flex",justifyContent:"space-between",padding:"5px"},children:[(0,D.jsx)(a.A,{gap:1,sx:{width:"25%"},children:(0,D.jsx)(m.Ay,{options:null===xe||void 0===xe?void 0:xe.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))),value:ce,onChange:e=>{console.log(e,"newFileId"),(0,w.JD)((0,P.oc)(e.value)),se(e.value),pe(e)},isSearchable:"true",placeholder:"Search user",className:"w-100 py-3",styles:{control:e=>({...e,backgroundColor:"#4e596f",color:"white",border:"none",borderRadius:"0px",minHeight:"48px"}),menu:e=>({...e,backgroundColor:"#4e596f",color:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"}),option:(e,o)=>({...e,backgroundColor:o.isFocused?"#333":"#4e596f",color:"white",padding:"10px 15px","&:active":{backgroundColor:"#444"}}),singleValue:e=>({...e,color:"white"}),placeholder:e=>({...e,color:"#aaa"}),dropdownIndicator:e=>({...e,color:"#aaa","&:hover":{color:"#fff"}}),indicatorSeparator:e=>({...e,display:"none"})}})}),(0,D.jsx)(a.A,{children:(0,D.jsx)(g.N_,{to:j.i8.file.addfile,style:{textDecoration:"none"},children:(0,D.jsx)(d.A,{sx:{color:"#fff",bgcolor:"#2e3c56",boxShadow:"none",margin:"4px","&:hover":{bgcolor:"#2e3c56"}},variant:"contained",startIcon:(0,D.jsx)(f.A,{}),children:"New File"})})})]}),(0,D.jsx)(y.A,{sx:{paddingTop:"10px",paddingLeft:"20px"},links:[{name:"Dashboard",href:j.nB.root},{name:"Files"}]}),(0,D.jsx)(S.A,{children:(0,D.jsx)(s.A,{sx:{minWidth:800,position:"relative"},children:(0,D.jsxs)(c.A,{size:b?"small":"medium",children:[(0,D.jsx)(_.er,{order:E,orderBy:O,headLabel:N,rowCount:M.length,numSelected:z.length,onSort:I}),(0,D.jsxs)(p.A,{children:[me.slice(R*F,R*F+F).map((e=>(0,D.jsx)(k.A,{row:e,onEditRow:()=>(e=>{o(j.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{o(j.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return o=e.id,ie(!0),void T.A.delete("user/user_file/".concat(o)).then((e=>{if(console.log("response",e),ie(!1),200===e.status||201===e.status){const e=M.filter((e=>e.id!==o));W([]),q(e),n("Delete Successfully")}})).catch((e=>{ie(!1),e.errors&&Object.keys(e.errors).map((o=>n(e.errors[o][0],{variant:"error"})))}));var o}},e.id))),(0,D.jsx)(_.dO,{height:be,emptyRows:(0,C.xl)(R,F,M.length)}),(0,D.jsx)(_.Sm,{isNotFound:je})]})]})})}),(0,D.jsx)(r.A,{sx:{position:"relative"},children:(0,D.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:me.length,rowsPerPage:F,page:R,onPageChange:U,onRowsPerPageChange:Z})})]})]})}},6768:(e,o,n)=>{n.d(o,{A:()=>j});var t=n(9950),l=n(13564),i=n(26689),r=n(14857),a=n(9213),d=n(21671),s=n(93038),c=n(75165),p=n(97591),x=n(23266),h=n(82053),f=n(90260),u=(n(22704),n(33949),n(66075)),g=n(72870),m=n(98632),b=n(44414);function j(e){var o,n;let{row:j,selected:A,onSelectRow:v,onAssign:C,onViewRow:w,onDocumentUpload:S,onDownloadDocument:y,onDeleteRow:_,onShareRow:k,onEditRow:T,onOrderContin:B,onStatusChange:P,CreateOrderByPdf:D}=e;(0,r.A)();const{pathname:N}=(0,l.zy)(),R=N.includes("employee"),E=(0,l.Zp)();console.log(j,"row");const{updated_at:O,DummyData:F,transaction_type:L,purchase_price:z,file_no:W,file_name:I,id:V,_count:U,orders:Z,user:M,file_pdf:q,orders_type:H}=j,J=null===q||void 0===q?void 0:q.split("/");console.log(J,"pdfName");const[G,K]=(0,t.useState)(null),Q=Boolean(G),X=()=>{K(null)},[Y,$]=(0,t.useState)(null),ee=()=>{$(null)},oe=()=>{R||E("/dashboard/filepreview/".concat(null===j||void 0===j?void 0:j.id),{state:{row:j}})};return(0,b.jsxs)(a.A,{selected:A,hover:!0,children:[(v||A)&&(0,b.jsx)(d.A,{padding:"checkbox",children:(0,b.jsx)(s.A,{checked:A,onClick:v})}),(0,b.jsx)(d.A,{sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400",color:"#dd9419"},align:"left",onClick:oe,children:W}),(0,b.jsx)(d.A,{align:"left",onClick:oe,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:I}),(0,b.jsx)(d.A,{align:"left",onClick:oe,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===F||void 0===F||null===(o=F.subject_premise)||void 0===o||null===(n=o.property_location)||void 0===n?void 0:n.slice(0,13)}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:oe,children:L}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:z}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:oe,children:q?J[2]:null}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:B&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{variant:"contained",onClick:()=>(e=>{const o=null===m.orderType||void 0===m.orderType?void 0:m.orderType.find((o=>(null===o||void 0===o?void 0:o.value)===e));E("/dashboard/orders/".concat(null===o||void 0===o?void 0:o.route,"/").concat(V),{state:j})})(H),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===Z||void 0===Z?void 0:Z.length)>0?"Ordered":"Order"}),null===q?(0,b.jsxs)(p.A,{id:"basic-menu",anchorEl:G,open:Q,onClose:X,MenuListProps:{"aria-labelledby":"basic-button"},children:[null===q&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.titleInsurance,"/").concat(V),children:"Title Insurance"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.coopLienSearch,"/").concat(V),children:"Coop Lien Search"}),null===q&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.eagle9Policy,"/").concat(V),children:"Eagle 9 Policy"}),null===q&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.coopCondoOfferinPlans,"/").concat(V),children:"Coop/Condo Offering Plans"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.uccCreateFile,"/").concat(V),children:"UCC - Create/File"}),null===q&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.exchange1031,"/").concat(V),children:"1031 Exchange"}),null===q&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.acrisETax,"/").concat(V),children:"Acris E-Tax Forms"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(f.nB.orders.otherSearches,"/").concat(V),children:"Other Searches"})]}):(0,b.jsxs)(p.A,{id:"basic-menu",anchorEl:G,open:Q,onClose:X,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,b.jsx)(x.A,{onClick:()=>D(),children:"Coop Lien Search"}),(0,b.jsx)(x.A,{onClick:()=>D(),children:"UCC - Create/File"}),(0,b.jsx)(x.A,{onClick:()=>D(),children:"Other Searches"})]})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsxs)(h.A,{onClick:oe,sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,b.jsx)(u.A,{icon:"material-symbols:edit",color:"#4C32A7"})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsxs)(h.A,{onClick:()=>{_(),ee()},sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,b.jsx)(u.A,{icon:"eva:trash-2-outline",color:"Black"})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsx)(g.ZE,{open:Y,onOpen:e=>{$(e.currentTarget)},onClose:ee,actions:(0,b.jsxs)(b.Fragment,{children:[w&&(0,b.jsxs)(x.A,{onClick:()=>{w(),ee()},children:[(0,b.jsx)(u.A,{icon:"tabler:eye-filled"}),"View"]}),k&&(0,b.jsxs)(x.A,{onClick:()=>{k(),ee()},children:[(0,b.jsx)(u.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);