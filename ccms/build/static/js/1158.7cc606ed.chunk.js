"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[1158],{67258:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var l=o(9950),n=o(79537),r=o(48089),a=o(12257),i=o(75165),s=o(6368),c=o(82053),d=o(1320),u=o(15769),p=o(34075),h=o(91434),x=o(29031),g=o(13564),m=o(26689),f=o(48711),A=o(90260),v=o(46765),j=o(86608),w=o(38861),b=o(30744),C=o(66075),y=o(44185),S=o(63358),k=o(72870),_=o(12480),B=o(6768),D=o(32741),N=o(95074),R=o(98594),P=o(44414);const F=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}];function T(){const{themeStretch:e}=(0,j.A)(),t=(0,g.Zp)(),{enqueueSnackbar:o}=(0,x.dh)(),{dense:T,page:E,order:L,orderBy:M,rowsPerPage:O,setPage:I,selected:z,setSelected:W,onSort:V,onChangeDense:U,onChangePage:Z,onChangeRowsPerPage:q}=(0,w.Ay)({defaultOrderBy:"createDate"}),[K,H]=(0,l.useState)([]),[J,G]=(0,l.useState)(""),[Q,X]=(0,l.useState)("new"),[Y,$]=(0,l.useState)(null),[ee,te]=(0,l.useState)(null),{currentTab:oe,onChangeTab:le}=(0,v.A)("all"),[ne,re]=(0,l.useState)("Title Insurance"),[ae,ie]=(0,l.useState)(!1),[se,ce]=(0,l.useState)(""),[de,ue]=(0,l.useState)(),[pe,he]=(0,l.useState)(),[xe,ge]=(0,l.useState)([]),[me,fe]=(0,l.useState)(null);Boolean(me);(0,l.useEffect)((()=>{(async()=>{ie(!0);try{var e;const t=await D.A.get("employee/users/list");console.log(t,"all user"),ge(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.files),console.log(t,"autofill")}catch(t){console.log(t,"autofill")}finally{ie(!1)}})()}),[]);const{Employeefile:Ae}=(0,b.d4)((e=>e.EmployeeFile));console.log(Ae,"file details"),(0,l.useEffect)((()=>{null!==Ae&&void 0!==Ae&&Ae.length&&de&&H(Ae)}),[Ae]);const ve=function(e){var t;let{tableData:o,comparator:l,filterName:n,filterStatus:r,filterService:a,filterStartDate:i,filterEndDate:s}=e;const c=null===(t=o)||void 0===t?void 0:t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const o=l(e[0],t[0]);return 0!==o?o:e[1]-t[1]})),o=c.map((e=>e[0])),n&&(o=o.filter((e=>-1!==e.file_name.toLowerCase().indexOf(n.toLowerCase())||-1!==e.file_no.toLowerCase().indexOf(n.toLowerCase()))));"all"!==r&&(o=o.filter((e=>e.status===r)));"new"!==a&&(o=o.filter((e=>e.status===a)));i&&s&&(o=o.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return o}({tableData:K,comparator:(0,w.hz)(L,M),filterName:J,filterService:Q,filterStatus:oe,filterStartDate:Y,filterEndDate:ee}),je=T?56:76,we=!ve.length&&!!J||!ve.length&&!!oe||!ve.length&&!!Q||!ve.length&&!!ee||!ve.length&&!!Y;return(0,P.jsxs)(n.A,{maxWidth:!e&&"lg",children:[ae&&(0,P.jsx)(N.A,{}),(0,P.jsxs)(r.A,{sx:{p:3},children:[(0,P.jsx)(S.A,{heading:"Files",sx:{mb:0},links:[{name:"Dashboard",href:A.nB.root},{name:"Files"}],action:(0,P.jsx)(a.A,{gap:1,direction:"row",children:(0,P.jsx)(i.A,{variant:"contained",component:m.N_,to:A.i8.file.addfile,startIcon:(0,P.jsx)(C.A,{icon:"clarity:form-line"}),children:"New File"})})}),(0,P.jsx)(a.A,{gap:1,sx:{width:"50%"},children:(0,P.jsx)(f.Ay,{options:null===xe||void 0===xe?void 0:xe.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))),value:pe,onChange:e=>{console.log(e,"newFileId"),(0,b.JD)((0,R.oc)(e.value)),ue(e.value),he(e)},isSearchable:"true",placeholder:"Select a User",className:"w-100 py-3"})}),(null===ne||void 0===ne?void 0:ne.label)&&(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(s.A,{sx:{p:2},children:(0,P.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:ne.label})})}),(0,P.jsx)(_.F5,{filterName:J,filterService:Q,filterStartDate:Y,filterEndDate:ee,onFilterName:e=>{G(e),I(0)},onFilterService:e=>{X(e.target.value)},onFilterStartDate:e=>{$(e)},onFilterEndDate:e=>{te(e)}}),(0,P.jsx)(y.A,{children:(0,P.jsx)(d.A,{sx:{minWidth:800,position:"relative"},children:(0,P.jsxs)(u.A,{size:T?"small":"medium",children:[(0,P.jsx)(k.er,{order:L,orderBy:M,headLabel:F,rowCount:K.length,numSelected:z.length,onSort:V}),(0,P.jsxs)(p.A,{children:[ve.slice(E*O,E*O+O).map((e=>(0,P.jsx)(B.A,{row:e,onEditRow:()=>(e=>{t(A.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{t(A.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return t=e.id,ie(!0),void D.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),ie(!1),200===e.status||201===e.status){const e=K.filter((e=>e.id!==t));W([]),H(e),o("Delete Successfully")}})).catch((e=>{ie(!1),e.errors&&Object.keys(e.errors).map((t=>o(e.errors[t][0],{variant:"error"})))}));var t}},e.id))),(0,P.jsx)(k.dO,{height:je,emptyRows:(0,w.xl)(E,O,K.length)}),(0,P.jsx)(k.Sm,{isNotFound:we})]})]})})}),(0,P.jsx)(s.A,{sx:{position:"relative"},children:(0,P.jsx)(h.A,{rowsPerPageOptions:[5,10,25],component:"div",count:ve.length,rowsPerPage:O,page:E,onPageChange:Z,onRowsPerPageChange:q})})]})]})}},6768:(e,t,o)=>{o.d(t,{A:()=>f});var l=o(9950),n=o(13564),r=o(26689),a=o(14857),i=o(9213),s=o(21671),c=o(93038),d=o(23266),u=o(75165),p=o(97591),h=o(90260),x=(o(22704),o(33949),o(66075)),g=o(72870),m=o(44414);function f(e){var t,o,f,A,v,j;let{row:w,selected:b,onSelectRow:C,onAssign:y,onViewRow:S,onDocumentUpload:k,onDownloadDocument:_,onDeleteRow:B,onShareRow:D,onEditRow:N,onOrderContin:R,onStatusChange:P}=e;(0,a.A)();const{pathname:F}=(0,n.zy)(),T=(F.includes("admin"),(0,n.Zp)());console.log(w,"row");const{updated_at:E,DummyData:L,transaction_type:M,purchase_price:O,file_no:I,file_name:z,id:W,_count:V,user:U}=w,[Z,q]=(0,l.useState)(null),K=Boolean(Z),[H,J]=(0,l.useState)(null),G=()=>{J(null)},Q=()=>{T("/dashboard/filepreview/".concat(null===w||void 0===w?void 0:w.id),{state:{row:w}})};return(0,m.jsxs)(i.A,{selected:b,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(C||b)&&(0,m.jsx)(s.A,{padding:"checkbox",children:(0,m.jsx)(c.A,{checked:b,onClick:C})}),(0,m.jsx)(s.A,{sx:{color:"#DD9A19",textWrap:"nowrap",padding:"14px 2px"},align:"left",onClick:Q,children:I}),(0,m.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:z}),(0,m.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:null===L||void 0===L||null===(t=L.subject_premise)||void 0===t||null===(o=t.property_location)||void 0===o?void 0:o.slice(0,13)}),(0,m.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:(null===L||void 0===L||null===(f=L.buyers)||void 0===f?void 0:f.length)>0&&(null===L||void 0===L||null===(A=L.buyers[0])||void 0===A?void 0:A.first_name)}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},onClick:Q,children:(null===L||void 0===L||null===(v=L.sellers)||void 0===v?void 0:v.length)>0&&(null===L||void 0===L||null===(j=L.sellers[0])||void 0===j?void 0:j.first_name)}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},onClick:Q,children:M}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:(0,m.jsx)(d.A,{onClick:()=>{B(),G()},sx:{color:"error.main"},children:(0,m.jsx)(x.A,{icon:"eva:trash-2-outline"})})}),(0,m.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:R&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.A,{variant:"contained","aria-controls":K?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":K?"true":void 0,onClick:e=>{q(e.currentTarget)},sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===V||void 0===V?void 0:V.orders)>0?"Ordered":"Order"}),(0,m.jsxs)(p.A,{id:"basic-menu",anchorEl:Z,open:K,onClose:()=>{q(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.titleInsurance,"/").concat(W),children:"Title Insurance"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.coopLienSearch,"/").concat(W),children:"Coop Lien Search"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.eagle9Policy,"/").concat(W),children:"Eagle 9 Policy"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.coopCondoOfferinPlans,"/").concat(W),children:"Coop/Condo Offering Plans"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.uccCreateFile,"/").concat(W),children:"UCC - Create/File"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.exchange1031,"/").concat(W),children:"1031 Exchange"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.acrisETax,"/").concat(W),children:"Acris E-Tax Forms"}),(0,m.jsx)(d.A,{component:r.N_,to:"".concat(h.nB.orders.otherSearches,"/").concat(W),children:"Other Searches"})]})]})}),(0,m.jsx)(s.A,{align:"right",sx:{padding:"14px 2px"},children:(0,m.jsx)(g.ZE,{open:H,onOpen:e=>{J(e.currentTarget)},onClose:G,actions:(0,m.jsxs)(m.Fragment,{children:[S&&(0,m.jsxs)(d.A,{onClick:()=>{S(),G()},children:[(0,m.jsx)(x.A,{icon:"tabler:eye-filled"}),"View"]}),D&&(0,m.jsxs)(d.A,{onClick:()=>{D(),G()},children:[(0,m.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}},52432:(e,t,o)=>{o.d(t,{A:()=>_});var l=o(58168),n=o(98587),r=o(9950),a=(o(26429),o(2803)),i=o(5747),s=o(7951),c=o(79859),d=o(82053),u=o(19657),p=o(65471),h=o(44414);const x=(0,p.A)((0,h.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=o(24184);const m=(0,s.Ay)(g.A)((e=>{let{theme:t}=e;return(0,l.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,l.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,l.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,u.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(t.palette.grey[600],.12)})})})),f=(0,s.Ay)(x)({width:24,height:16});const A=function(e){const t=e;return(0,h.jsx)("li",{children:(0,h.jsx)(m,(0,l.A)({focusRipple:!0},e,{ownerState:t,children:(0,h.jsx)(f,{ownerState:t})}))})};var v=o(37665);function j(e){return(0,v.A)("MuiBreadcrumbs",e)}const w=(0,o(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),b=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,s.Ay)(d.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(w.li)]:t.li},t.root]})({}),y=(0,s.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,s.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function k(e,t,o,l){return e.reduce(((n,r,a)=>(a<e.length-1?n=n.concat(r,(0,h.jsx)(S,{"aria-hidden":!0,className:t,ownerState:l,children:o},"separator-".concat(a))):n.push(r),n)),[])}const _=r.forwardRef((function(e,t){const o=(0,c.A)({props:e,name:"MuiBreadcrumbs"}),{children:s,className:d,component:u="nav",expandText:p="Show path",itemsAfterCollapse:x=1,itemsBeforeCollapse:g=1,maxItems:m=8,separator:f="/"}=o,v=(0,n.A)(o,b),[w,S]=r.useState(!1),_=(0,l.A)({},o,{component:u,expanded:w,expandText:p,itemsAfterCollapse:x,itemsBeforeCollapse:g,maxItems:m,separator:f}),B=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},j,t)})(_),D=r.useRef(null),N=r.Children.toArray(s).filter((e=>r.isValidElement(e))).map(((e,t)=>(0,h.jsx)("li",{className:B.li,children:e},"child-".concat(t))));return(0,h.jsx)(C,(0,l.A)({ref:t,component:u,color:"text.secondary",className:(0,a.A)(B.root,d),ownerState:_},v,{children:(0,h.jsx)(y,{className:B.ol,ref:D,ownerState:_,children:k(w||m&&N.length<=m?N:(e=>g+x>=e.length?e:[...e.slice(0,g),(0,h.jsx)(A,{"aria-label":p,onClick:()=>{S(!0);const e=D.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-x,e.length)])(N),B.separator,f,_)})}))}))},30099:(e,t,o)=>{o.d(t,{A:()=>r});o(9950);var l=o(65471),n=o(44414);const r=(0,l.A)((0,n.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},88090:(e,t,o)=>{o.d(t,{A:()=>r});o(9950);var l=o(65471),n=o(44414);const r=(0,l.A)((0,n.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);