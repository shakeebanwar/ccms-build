"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[9113],{18597:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(70693),i=n(82053),o=n(12257),a=n(75165),l=(n(9950),n(66075)),s=n(44414);const d=e=>{let{handleAddEvent:t,handleAddReminder:n,handleCloseButtonTooltip:d}=e;return(0,s.jsxs)(r.A,{elevation:2,style:{padding:"10px",width:"150px",height:"140px",position:"absolute",left:"-130px",top:"-10px",backgroundColor:"lightgray"},children:[(0,s.jsx)(i.A,{variant:"p",sx:{float:"right",cursor:"pointer",position:"absolute",top:"10px"},onClick:d,children:"x"}),(0,s.jsxs)(o.A,{sx:{position:"absolute",top:"20px"},children:[(0,s.jsx)(a.A,{variant:"contained",startIcon:(0,s.jsx)(l.A,{icon:"eva:plus-fill",width:10,height:10}),onClick:t,sx:{fontSize:"10px",position:"absolute",top:"60px",width:"120px"},children:"Order Contin"}),(0,s.jsx)(a.A,{variant:"contained",startIcon:(0,s.jsx)(l.A,{icon:"eva:plus-fill",width:10,height:10}),onClick:n,sx:{fontSize:"10px",position:"absolute",top:"20px",width:"120px"},children:"Add Reminder"})]})]})}},87955:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(70693),i=n(82053),o=(n(9950),n(44414));const a=e=>{var t;let{event:n,data:a,handleCloseTooltip:l}=e;const s=null===a||void 0===a?void 0:a.find((e=>(null===e||void 0===e?void 0:e.id)===Number(null===n||void 0===n?void 0:n.title)));return console.log(n,"event"),console.log(a,"dataFilter"),(0,o.jsxs)(r.A,{elevation:2,style:{padding:"10px",width:"300px",height:"auto",position:"relative",zIndex:1e3,borderRadius:"0px",transform:"translateX(-3%)"},children:[(0,o.jsx)(i.A,{variant:"p",sx:{float:"right",cursor:"pointer"},onClick:l,children:"x"}),(0,o.jsx)(i.A,{variant:"h5",children:s.title}),(0,o.jsxs)(i.A,{variant:"p",sx:{my:5,fontSize:12},children:["date: ",null===(t=s.start)||void 0===t?void 0:t.split("T")[0]]}),(0,o.jsx)(i.A,{sx:{my:2,fontSize:12},children:s.description})]})}},85738:(e,t,n)=>{n.d(t,{qs:()=>w,ty:()=>g,ZZ:()=>d});var r=n(7951),i=n(6368),o=n(44414);const a=(0,r.Ay)(i.A,{shouldForwardProp:e=>"rounded"!==e})((e=>{let{rounded:t}=e;return{display:"flex",listStyle:"none",alignItems:"center",justifyContent:"center","& li":{width:18,height:18,opacity:.32,cursor:"pointer"},"& li.slick-active":{opacity:1,...t&&{"& .dotActive":{width:16,borderRadius:6}}}}})),l=(0,r.Ay)("div")((()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}))),s=(0,r.Ay)("span")((e=>{let{theme:t}=e;return{width:8,height:8,borderRadius:"50%",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short})}}));function d(e){const t=null===e||void 0===e?void 0:e.color,n=(null===e||void 0===e?void 0:e.rounded)||!1;return{appendDots:t=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a,{rounded:n,component:"ul",...e,children:t})}),customPaging:()=>(0,o.jsx)(l,{children:(0,o.jsx)(s,{className:"dotActive",sx:{bgcolor:t||"primary.main"}})})}}var c=n(14857),p=n(12257),h=n(66075),u=n(20131);const x=(0,r.Ay)(u.ji,{shouldForwardProp:e=>"filled"!==e})((e=>{let{filled:t,theme:n}=e;return{width:40,height:40,cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:n.palette.text.primary},...t&&{opacity:.48,borderRadius:1.5*Number(n.shape.borderRadius),color:n.palette.common.white,backgroundColor:n.palette.grey[900],"&:hover":{opacity:1,color:n.palette.common.white,backgroundColor:n.palette.grey[900]}}}}));function g(e){let{filled:t=!1,customIcon:n,onNext:r,onPrevious:a,children:l,...s}=e;const d="rtl"===(0,c.A)().direction,h={position:"absolute",mt:-2.5,top:"50%",zIndex:9};return l?(0,o.jsxs)(i.A,{...s,children:[(0,o.jsx)(i.A,{className:"arrow left",sx:{...h,left:0},children:(0,o.jsx)(x,{filled:t,onClick:a,children:m(n,d)})}),l,(0,o.jsx)(i.A,{className:"arrow right",sx:{...h,right:0},children:(0,o.jsx)(x,{filled:t,onClick:r,children:v(n,d)})})]}):(0,o.jsxs)(p.A,{direction:"row",spacing:1,...s,children:[(0,o.jsx)(x,{className:"arrow left",filled:t,onClick:a,children:m(n,d)}),(0,o.jsx)(x,{className:"arrow right",filled:t,onClick:r,children:v(n,d)})]})}const m=(e,t)=>(0,o.jsx)(h.A,{icon:e||"eva:arrow-right-fill",sx:{width:20,height:20,transform:" scaleX(-1)",...t&&{transform:" scaleX(1)"}}}),v=(e,t)=>(0,o.jsx)(h.A,{icon:e||"eva:arrow-right-fill",sx:{width:20,height:20,...t&&{transform:" scaleX(-1)"}}});var y=n(19657),A=n(25333),f=n(82053);const j=(0,r.Ay)(i.A)((e=>{let{theme:t}=e;return{zIndex:9,display:"flex",alignItems:"center",position:"absolute",bottom:t.spacing(2),right:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:(0,y.X4)(t.palette.grey[900],.48)}})),b=(0,r.Ay)(A.A)((e=>{let{theme:t}=e;return{padding:6,opacity:.48,color:t.palette.common.white,"&:hover":{opacity:1}}}));function w(e){let{index:t,total:n,onNext:r,onPrevious:i,customIcon:a,...l}=e;const s="rtl"===(0,c.A)().direction;return(0,o.jsxs)(j,{...l,children:[(0,o.jsx)(b,{size:"small",onClick:i,children:C(a,s)}),(0,o.jsxs)(f.A,{variant:"subtitle2",children:[t+1,"/",n]}),(0,o.jsx)(b,{size:"small",onClick:r,children:S(a,s)})]})}const C=(e,t)=>(0,o.jsx)(h.A,{icon:e||"eva:arrow-right-fill",sx:{width:20,height:20,transform:" scaleX(-1)",...t&&{transform:" scaleX(1)"}}}),S=(e,t)=>(0,o.jsx)(h.A,{icon:e||"eva:arrow-right-fill",sx:{width:20,height:20,...t&&{transform:" scaleX(-1)"}}})},58723:(e,t,n)=>{n.d(t,{A:()=>j});n(9950);var r=n(60666),i=n(23334),o=n.n(i),a=n(43974),l=n(29031),s=n(9449),d=n(68654),c=n(12257),p=n(8145),h=n(79739),u=n(75165),x=n(21410),g=n(28095),m=n(34117),v=n(42686),y=(n(66075),n(91745),n(52401)),A=n(32741),f=n(44414);function j(e){let{event:t,range:n,onCancel:i,getDate:j}=e;const{enqueueSnackbar:b}=(0,l.dh)(),w=(0,m.wA)(),C=r.Ik().shape({title:r.Yj().max(255).required("Title is required"),description:r.Yj().max(5e3)}),S=(0,s.mN)({resolver:(0,d.t)(C),defaultValues:((e,t)=>{const n={title:"",order_id:e.order_id||"",description:"",textColor:"#1890FF",start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date,date:j?new Date(j):new Date};return e||t?o()({},n,e):n})(t,n)}),{reset:k,control:I,setValue:D,handleSubmit:R,formState:{isSubmitting:T}}=S;return(0,f.jsxs)(y.Op,{methods:S,onSubmit:R((async e=>{try{const t={title:e.title,note:e.description,start:(0,a.A)(e.start,"HH:mm:ss"),end:(0,a.A)(e.end,"HH:mm:ss"),date:(0,a.A)(e.date,"yyyy-MM-dd HH:mm:ss")},n=await A.A.post("todo",t);console.log(n,"reminder"),w((0,v.kQ)()),i(),k()}catch(t){console.error(t)}})),children:[(0,f.jsxs)(c.A,{spacing:3,sx:{p:3},children:[(0,f.jsx)(y.o3,{name:"title",label:"title"}),(0,f.jsx)(y.o3,{name:"description",label:"Description",multiline:!0,rows:4}),(0,f.jsx)(s.xI,{name:"date",control:I,render:e=>{let{field:t}=e;return(0,f.jsx)(x.A,{...t,label:"Date",inputFormat:"dd/MM/yyyy",renderInput:e=>(0,f.jsx)(p.A,{...e,fullWidth:!0,value:j})})}}),(0,f.jsx)(s.xI,{name:"start",control:I,render:e=>{let{field:t}=e;return(0,f.jsx)(x.A,{...t,label:"Start Time",ampm:!0,inputFormat:"hh:mm a",renderInput:e=>(0,f.jsx)(p.A,{...e,fullWidth:!0})})}}),(0,f.jsx)(s.xI,{name:"end",control:I,render:e=>{let{field:t}=e;return(0,f.jsx)(x.A,{...t,label:"End Time",ampm:!0,inputFormat:"hh:mm a",renderInput:e=>(0,f.jsx)(p.A,{...e,fullWidth:!0,value:j})})}})]}),(0,f.jsxs)(h.A,{children:[(0,f.jsx)(u.A,{variant:"outlined",color:"inherit",onClick:i,children:"Cancel"}),(0,f.jsx)(g.A,{sx:{bgcolor:"#00ab55","&:hover":{bgcolor:"#0aaa57"}},type:"submit",variant:"contained",loading:T,children:"Add"})]})]})}},48812:(e,t,n)=>{n(23334),n(39452);var r=n(7951),i=n(48089),o=(n(63477),n(61937),n(66075)),a=n(44414);(0,r.Ay)(i.A)((e=>{let{theme:t}=e;return{display:"flex",position:"relative",alignItems:"center",padding:t.spacing(3),backgroundColor:t.palette.primary.darker}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{width:120,height:120,opacity:.12,position:"absolute",right:t.spacing(-3),color:t.palette.common.white}}));n(10463);(0,r.Ay)(i.A)((e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:t.palette.primary.lighter,[t.breakpoints.up("md")]:{height:"100%",display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between"}}}));n(81131),n(9950);var l=n(19657);n(24642),n(63575),n(20131),n(85738);(0,r.Ay)("div")((e=>{let{theme:t}=e;return{top:0,left:0,right:0,bottom:0,zIndex:8,position:"absolute",backgroundColor:(0,l.X4)(t.palette.grey[900],.64)}}));n(22704),n(44185),n(70458);n(10263);(0,r.Ay)("div")((e=>{let{theme:t}=e;return{width:40,height:40,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",color:t.palette.primary.main,backgroundColor:(0,l.X4)(t.palette.primary.main,.08)}}));n(14650);(0,r.Ay)("div")((e=>{let{theme:t}=e;return{width:24,height:24,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",color:t.palette.success.main,backgroundColor:(0,l.X4)(t.palette.success.main,.16)}}));(0,r.Ay)("div")((e=>{let{theme:t}=e;return{height:392,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:392},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(320,"px) !important")}}}));var s=n(12257);(0,r.Ay)((e=>(0,a.jsx)(s.A,{direction:"row",alignItems:"center",...e})))({minWidth:72,flex:"1 1"}),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{width:16,height:16,marginRight:t.spacing(.5),color:t.palette.text.disabled}}))},29113:(e,t,n)=>{n.d(t,{Fu:()=>C});var r=n(9950),i=(n(24642),n(22704),n(66075),n(44185),n(70458),n(44414));n(63477);n(23334),n(39452);var o=n(7951),a=n(48089);(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{boxShadow:"none",padding:t.spacing(3),color:t.palette.primary.darker,backgroundColor:t.palette.primary.lighter}}));n(61937);n(81131);var l=n(53065),s=n(64697),d=n(90706),c=n(79947),p=n(28339),h=n(6978),u=n(60820),x=n(36404),g=(n(18597),n(87955)),m=n(86608),v=n(98091),y=n(42686),A=(n(63575),n(85738),n(32741)),f=n(34117),j=(n(48812),n(62740));n(58723);const b=e=>{const{events:t,selectedEventId:n}=e.calendar;return n?t.find((e=>Number(e.id)===Number(n))):null},w=(0,o.Ay)((e=>{let{className:t,...n}=e;return(0,i.jsx)(l.A,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(s.A.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:"300px",fontSize:t.typography.pxToRem(12),border:"none"}}}));function C(){const{themeStretch:e}=(0,m.A)(),t=(0,f.wA)(),n=(0,v.A)("up","sm"),o=(0,r.useRef)(null),[l,s]=(0,r.useState)(null),[C,S]=(0,r.useState)(),[k,I]=(0,r.useState)(null),[D,R]=(0,r.useState)(null),[T,N]=(0,r.useState)(""),[z,X]=(0,r.useState)([]),[F,M]=(0,r.useState)([]),[E,O]=(0,r.useState)(new Date),[P,W]=(0,r.useState)(n?"dayGridMonth":"listWeek"),{isOpenModal:q,selectedRange:H,isOpenReminderModal:V}=((0,f.d4)(b),(0,f.d4)((e=>e.calendar)));(0,r.useEffect)((()=>{(async()=>{try{var e;const t=await A.A.get("todos"),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.todos)||[];X(n),console.log(t,"reminder")}catch(t){console.log(t,"error")}})()}),[]),(0,r.useEffect)((()=>{const e=z.map((e=>({type:"reminder",id:e.id,title:e.note||e.title,start:new Date(e.date).toISOString().split("T")[0]+"T"+e.start,end:new Date(e.date).toISOString().split("T")[0]+"T"+e.end,textColor:e.textColor||"#000",description:e.note})));M([...e])}),[z]),console.log(F,"mergedTasks"),(0,r.useEffect)((()=>{const e=o.current;if(e){const t=e.getApi(),r=n?"dayGridMonth":"listWeek";t.changeView(r),W(r)}}),[n]);const Y=()=>{I(null)};return(0,i.jsx)(a.A,{sx:{height:"300px"},children:(0,i.jsxs)(j.mg,{children:[(0,i.jsx)(j.a7,{date:E,view:P,onNextDate:()=>{const e=o.current;if(e){const t=e.getApi();t.next(),O(t.getDate())}},onPrevDate:()=>{const e=o.current;if(e){const t=e.getApi();t.prev(),O(t.getDate())}},onToday:()=>{const e=o.current;if(e){const t=e.getApi();t.today(),O(t.getDate())}},onChangeView:e=>{const t=o.current;if(t){t.getApi().changeView(e),W(e)}},todayBtn:!1}),(0,i.jsx)(d.Ay$,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:F,ref:o,rerenderDelay:10,initialDate:E,initialView:P,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,eventDrop:async e=>{let{event:n}=e;try{t((0,y.qM)(n.id,{allDay:n.allDay,start:n.start,end:n.end}))}catch(r){console.error(r)}},eventClick:e=>{var n,r;(console.log(e.el.fcSeg.eventRange.def.extendedProps.type,"info"),N(e.event.startStr),I({title:null===(n=e.event._def)||void 0===n?void 0:n.publicId,start:e.event.startStr,end:e.event.endStr,top:e.jsEvent.clientY,left:e.jsEvent.clientX}),"reminder"!==e.el.fcSeg.eventRange.def.extendedProps.type)&&t((0,y.PY)(null===(r=e.event)||void 0===r?void 0:r.id))},dateClick:e=>{console.log(e,"arg"),S(e.dateStr),s(e.date.toISOString().split("T")[0]),R({top:e.jsEvent.clientY,left:e.jsEvent.clientX})},dayCellContent:e=>{const t=e.date.toISOString().split("T")[0],n=e.date.toLocaleDateString("en-CA"),r=null===T||void 0===T?void 0:T.split("T")[0];return console.log(l===t,"dateStr"),(0,i.jsxs)(i.Fragment,{children:[k&&r===n&&(0,i.jsx)(w,{arrow:!0,open:!!k,onClose:Y,title:(0,i.jsx)(g.A,{event:k,data:F,handleCloseTooltip:Y}),placement:"top",children:(0,i.jsx)("span",{})}),(0,i.jsx)("div",{style:{position:"relative",height:"100%",width:"100%"},children:(0,i.jsx)("div",{children:e.dayNumberText})})]})},eventResize:async e=>{let{event:n}=e;try{t((0,y.qM)(n.id,{allDay:n.allDay,start:n.start,end:n.end}))}catch(r){console.error(r)}},height:n?300:"auto",plugins:[c.A,p.Ay,u.Ay,h.Ay,x.Ay]})]})})}(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2,2,2,3)}}))}}]);