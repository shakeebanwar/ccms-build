"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[5209],{45209:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(9950),a=n(79537),o=n(6368),l=n(82053),i=n(29031),d=n(13564),s=(n(54987),n(8279)),c=n(30818),u=n(30744),p=n(86608),y=n(32741),x=n(48089),m=n(12257),b=n(8145),v=n(74745),g=n(73878),h=(n(87307),n(28095)),_=(n(73561),n(44414));const f=e=>{let{docID:t,FileId:n,data:a}=e;const{enqueueSnackbar:l}=(0,i.dh)(),[s,u]=(0,r.useState)(null===a||void 0===a?void 0:a.title_name),p=(0,d.Zp)(),f=(0,g.wA)(),{file:A}=(0,g.d4)((e=>e.File));null===A||void 0===A||A.find((e=>(null===e||void 0===e?void 0:e.id)===Number(n)));console.log(a,"file details"),(0,r.useEffect)((()=>{f((0,c.oc)())}),[]);const j=(0,r.useRef)(null),[w,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{try{var e;const r=await y.A.get("user/download/text_user_pdf/".concat(t,"/1"));if(null!==r&&void 0!==r&&null!==(e=r.data)&&void 0!==e&&e.status){var n;const e=null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.pdf_text.replace(/\n/g,"<br/>");console.log(r,"content api"),k(e)}}catch(r){console.log(r)}})()}),[]);const N=(e,t)=>{e.dataTransfer.setData("text",t)},R=e=>{document.execCommand(e,!1,null)},L=e=>{document.execCommand("formatBlock",!1,"<h".concat(e,">"))};return(0,_.jsx)(x.A,{sx:{mb:5,p:2,height:"100vh"},children:(0,_.jsxs)(o.A,{sx:{px:2},children:[(0,_.jsxs)(m.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:3,width:"100%"},children:[(0,_.jsx)(b.A,{label:"Enter File Name",value:s,defaultValue:null===a||void 0===a?void 0:a.title_name,onChange:e=>u(e.target.value),sx:{width:"100%"}}),(0,_.jsx)(h.A,{loading:w,variant:"contained",onClick:async()=>{S(!0);try{var e,n;const a=new FormData;a.append("title_name",s);const o=await y.A.post("user/update_title/".concat(t),a);var r;if(console.log(o,"update Name"),null!==o&&void 0!==o&&null!==(e=o.data)&&void 0!==e&&null!==(n=e.upload)&&void 0!==n&&n.status)S(!1),l(null===o||void 0===o||null===(r=o.data.upload)||void 0===r?void 0:r.message)}catch(a){S(!1),console.log(a)}},sx:{mt:"20px"},children:"Rename"})]}),(0,_.jsxs)(m.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",children:[(0,_.jsxs)(m.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",width:"100%",overflow:"auto"},children:[(0,_.jsxs)("div",{style:{border:"3px solid #03a84e",borderRadius:"10px",padding:"10px",minHeight:"90vh",width:"100%",fontSize:"13px",overflowY:"auto",outline:"none",boxShadow:"none",outlineStyle:"none",outlineColor:"transparent",MozOutlineStyle:"none",WebkitBoxShadow:"none",outlineWidth:0},children:[(0,_.jsxs)(m.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",flexWrap:"wrap",sx:{mb:2},children:[(0,_.jsx)("button",{onClick:()=>R("bold"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bold"}),(0,_.jsx)("button",{onClick:()=>R("italic"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Italic"}),(0,_.jsx)("button",{onClick:()=>R("underline"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Underline"}),(0,_.jsx)("button",{onClick:()=>R("justifyLeft"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Left Align"}),(0,_.jsx)("button",{onClick:()=>R("justifyCenter"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Center Align"}),(0,_.jsx)("button",{onClick:()=>R("justifyRight"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Right Align"}),(0,_.jsx)("button",{onClick:()=>R("insertblockquote"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Quote"}),(0,_.jsx)("button",{onClick:()=>R("insertOrderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Numbered List"}),(0,_.jsx)("button",{onClick:()=>R("insertUnorderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bullet List"}),(0,_.jsx)("button",{onClick:()=>L(1),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H1"}),(0,_.jsx)("button",{onClick:()=>L(2),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H2"}),(0,_.jsx)("button",{onClick:()=>L(3),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H3"}),(0,_.jsx)("button",{onClick:()=>L(4),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H4"}),(0,_.jsx)("button",{onClick:()=>L(5),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H5"}),(0,_.jsx)("button",{onClick:()=>L(6),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H6"})]}),(0,_.jsx)(v.A,{}),(0,_.jsx)("div",{ref:j,contentEditable:!0,onDrop:e=>{e.preventDefault();const t=e.dataTransfer.getData("text"),n=document.createElement("span");n.contentEditable="false",n.style.display="inline-block",n.style.color="#000",n.style.fontSize="12px",n.style.margin="0 0px",n.style.width="auto",n.style.height="auto",n.innerText=t;const r=j.current,a=window.getSelection();if(!a.rangeCount)return;const o=a.getRangeAt(0);let l=o.startContainer;for(;l;){if(l.nodeType===Node.ELEMENT_NODE&&"SPAN"===l.tagName)return;l=l.parentNode}o.insertNode(n),o.setStartAfter(n),a.removeAllRanges(),a.addRange(o),r.focus()},onDragOver:e=>{e.preventDefault()},dangerouslySetInnerHTML:C?{__html:C}:void 0})]}),(0,_.jsx)(h.A,{loading:w,variant:"contained",onClick:async()=>{S(!0);try{var e;const n=j.current.innerHTML,r=new FormData;r.append("html_content",n);const a=await y.A.post("user/update/text_user_pdf/".concat(t),r);null!==a&&void 0!==a&&null!==(e=a.data)&&void 0!==e&&e.status&&(l(null===a||void 0===a?void 0:a.data.message),console.log(a,"upload html"),p(-1))}catch(n){S(!1),console.log(n)}},sx:{mt:"20px"},children:"Save"})]}),(0,_.jsxs)(m.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",overflowY:"auto",width:"40%"},children:[(0,_.jsx)("h4",{children:"Subject Premises"}),(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:[{id:1,content:"{{subject_premise.property_location}} {{subject_premise.city_village}} {{subject_premise.county}} {{subject_premise.zipcode}}",value:"Full Address"},{id:2,content:"{{subject_premise.property_location}}",value:"address"},{id:3,content:"{{subject_premise.block}}",value:"Block"},{id:4,content:"{{subject_premise.city_village}}",value:"City"},{id:5,content:"{{subject_premise.county}}",value:"County"},{id:6,content:"{{subject_premise.district}}",value:"District"},{id:7,content:"{{subject_premise.lot}}",value:"Lot"},{id:8,content:"{{subject_premise.section}}",value:"Section"},{id:9,content:"{{subject_premise.zipcode}}",value:"Zipcode"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>N(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 2px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,_.jsx)("h4",{children:"Property"}),(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:[{id:1,content:"{{order_title.property_type}}",value:"Property Type"},{id:2,content:"{{order_title.transaction_type}}",value:"Transaction Type"},{id:3,content:"{{order_title.purchase_price}}",value:"Purchase Price"},{id:4,content:"{{loan_amount.amount}}",value:"Loan Amount"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>N(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,_.jsx)("h4",{children:"Names"}),(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[{id:1,content:"{{buyers.type}}",value:"Buyer Type"},{id:2,content:"{{buyers.first_name}} {{buyers.middle_name}} {{buyers.last_name}}",value:"Buyer Full Name"},{id:3,content:"{{buyers.first_name}}",value:"Buyer First Name"},{id:4,content:"{{buyers.middle_name}}",value:"Buyer Middle Name"},{id:5,content:"{{buyers.last_name}}",value:"Buyer Last Name"},{id:6,content:"{{buyer_attorney.address}} {{buyer_attorney.city}} {{buyer_attorney.state}} {{buyer_attorney.zipcode}}",value:"Buyer Attorney Full Address"},{id:7,content:"{{buyer_attorney.address}}",value:"Buyer Attorney Address"},{id:8,content:"{{buyer_attorney.city}}",value:"Buyer Attorney City"},{id:9,content:"{{buyer_attorney.attorney_name}}",value:"Buyer Attorney Name"},{id:10,content:"{{buyer_attorney.email}}",value:"Buyer Attorney Email"},{id:11,content:"{{buyer_attorney.firm_name}}",value:"Buyer Attorney Firm Name"},{id:12,content:"{{buyer_attorney.phone_number}}",value:"Buyer Attorney Number"},{id:13,content:"{{buyer_attorney.state}}",value:"Buyer Attorney State"},{id:14,content:"{{buyer_attorney.zipcode}}",value:"Buyer Attorney Zipcode"},{id:15,content:"{{sellers.type}}",value:"Seller Type"},{id:16,content:"{{sellers.first_name}} {{sellers.middle_name}} {{sellers.last_name}}",value:"Sellers Full Name"},{id:17,content:"{{sellers.first_name}}",value:"Seller First Name"},{id:18,content:"{{sellers.middle_name}}",value:"Seller Middle Name"},{id:19,content:"{{sellers.last_name}}",value:"Seller Last Name"},{id:20,content:"{{seller_attorney.address}} {{seller_attorney.city}} {{seller_attorney.state}} {{seller_attorney.zipcode}}",value:"Seller Attorney Full Address"},{id:21,content:"{{seller_attorney.address}}",value:"Seller Attorney Address"},{id:22,content:"{{seller_attorney.city}}",value:"Seller Attorney City"},{id:23,content:"{{seller_attorney.attorney_name}}",value:"Seller Attorney Name"},{id:24,content:"{{seller_attorney.email}}",value:"Seller Attorney Email"},{id:25,content:"{{seller_attorney.firm_name}}",value:"Seller Attorney Firm Name"},{id:26,content:"{{seller_attorney.phone_number}}",value:"Seller Attorney Number"},{id:27,content:"{{seller_attorney.state}}",value:"Seller Attorney State"},{id:28,content:"{{seller_attorney.zipcode}}",value:"Seller Attorney Zipcode"},{id:1,content:"{{lender.address}}",value:"Lender Address"},{id:2,content:"{{lender.city}}",value:"Lender City"},{id:3,content:"{{lender.organization}}",value:"Lender Organization"},{id:4,content:"{{lender.state}}",value:"Lender State"},{id:5,content:"{{lender_attorney.address}} {{lender_attorney.city}} {{lender_attorney.state}} {{lender_attorney.zipcode}}",value:"Lender Attorney Full Address"},{id:6,content:"{{lender_attorney.city}}",value:"Lender Attorney City"},{id:7,content:"{{lender_attorney.address}}",value:"Lender Attorney Address"},{id:8,content:"{{lender_attorney.attorney_name}}",value:"Lender Attorney Name"},{id:9,content:"{{lender_attorney.email}}",value:"Lender Attorney Email"},{id:10,content:"{{lender_attorney.firm_name}}",value:"Lender Attorney Firm Name"},{id:11,content:"{{lender_attorney.phone_number}}",value:"Lender Attorney Number"},{id:12,content:"{{lender_attorney.state}}",value:"Lender Attorney State"},{id:13,content:"{{lender_attorney.zipcode}}",value:"Lender Attorney Zipcode"},{id:14,content:"{{real_estate_agents.rea_first_name}}",value:"Real Estate Agents First Name"},{id:15,content:"{{real_estate_agents.rea_last_name}}",value:"Real Estate Agents Last Name"},{id:16,content:"{{mortgage_brokers.mb_first_name}}",value:"Mortgage Brokers First Name"},{id:17,content:"{{mortgage_brokers.mb_last_name}}",value:"Mortgage Brokers Last Name"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>N(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))})]})]})]})})},A=()=>{const{enqueueSnackbar:e}=(0,i.dh)(),{themeStretch:t}=(0,p.A)(),n=(0,d.zy)(),{state:x}=n,{id:m}=(0,d.g)(),{file:b}=(0,u.d4)((e=>e.File));console.log(b,"file details");const[v,g]=(0,r.useState)([]),[h,A]=(0,r.useState)(),[j,w]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),[k,N]=(0,r.useState)([]);(0,r.useRef)("");(0,r.useEffect)((()=>{(0,u.JD)((0,c.oc)())}),[]);(0,r.useEffect)((()=>{(async()=>{try{const e=await y.A.get("/user/download/user_pdf/".concat(m),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));console.log(t,"preview"),await R(t)}catch(e){console.log(e,"autofill")}finally{C(!1),w(null)}})()}),[]);const R=async e=>{const t=await pdf2html.html(e);console.log(t)};return(0,_.jsx)(s.A,{title:"Personal Documents",children:(0,_.jsxs)(a.A,{maxWidth:!t&&"lg",children:[(0,_.jsx)(o.A,{sx:{display:"flex",alignItems:"center"},children:(0,_.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Edit Documents"})}),(0,_.jsx)(f,{docID:m,FileId:h,data:x})]})})}}}]);