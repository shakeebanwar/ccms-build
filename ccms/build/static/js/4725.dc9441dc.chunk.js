(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4725],{83752:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var o=n(37088),l=n(60228),a=n(9950),r=n(7951),i=n(19657),s=n(73447),d=n(12257),c=n(82053),u=n(74745),p=n(86608),m=n(61770),v=n(16243),f=n(66075),g=n(44185),h=n(20131),x=n(53065),b=n(44414);const A=(0,r.Ay)("span")((e=>{let{theme:t}=e;return{...(0,m.A)(t).bgBlur({opacity:.64}),right:0,top:"50%",position:"fixed",marginTop:t.spacing(-3),padding:t.spacing(.5),zIndex:t.zIndex.drawer+2,borderRadius:"24px 0 20px 24px",boxShadow:"-12px 12px 32px -4px ".concat((0,i.X4)("light"===t.palette.mode?t.palette.grey[600]:t.palette.common.black,.36))}})),y=(0,r.Ay)("span")((e=>{let{theme:t}=e;return{top:8,width:8,height:8,right:10,borderRadius:"50%",position:"absolute",backgroundColor:t.palette.error.main}}));function j(e){let{notDefault:t,open:n,onToggle:o}=e;return(0,b.jsxs)(A,{children:[t&&!n&&(0,b.jsx)(y,{}),(0,b.jsx)(x.A,{title:"Filter",placement:"left",children:(0,b.jsx)(h.ji,{color:"inherit",onClick:o,sx:{p:1.25,transition:e=>e.transitions.create("all"),"&:hover":{color:"primary.main",bgcolor:e=>(0,i.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},children:(0,b.jsx)(f.A,{icon:"material-symbols:filter-alt",width:20,height:20})})})]})}var w=n(60899),_=n(6368),C=n(8145),S=n(25979),D=n(3788),F=n(93523),T=n(23266),B=n(41205),L=n(43974),k=n(30744),P=n(30818),E=n(24642),N=n(32741);function I(e){let{files:t}=e;const n=(0,k.wA)();console.log(t,"files");const[o,l]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[c,u]=(0,a.useState)({file_no:"",file_name:"",address:"",date:"",lender:"",transaction_type:"",buyers:"",sellers:""});(0,a.useEffect)((()=>{(async()=>{var e;const t=await N.A.get("user/file_buyers");console.log(t,"buyers"),l(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.buyers)})()}),[]);(0,a.useEffect)((()=>{(async()=>{var e;const t=await N.A.get("user/file_sellers");console.log(t,"sellers"),i(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.sellers)})()}),[]);const p=(e,t)=>{u((n=>({...n,[e]:t})))};return(0,a.useEffect)((()=>{const e=t.filter((e=>{var t,n,o,l,a,r;const i=null!==e&&void 0!==e&&e.updated_at?(0,L.A)(new Date(e.updated_at),"yyyy-MM-dd"):"",s=c.date?c.date:"",d=null!==e&&void 0!==e&&null!==(t=e.DummyData)&&void 0!==t&&t.buyers?e.DummyData.buyers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"",u=null!==e&&void 0!==e&&null!==(n=e.DummyData)&&void 0!==n&&n.sellers?e.DummyData.sellers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"";return(!c.file_no||e.file_no.toLowerCase().includes(c.file_no))&&(!c.file_name||e.file_name.toLowerCase().includes(c.file_name))&&(!c.address||(null===(o=e.DummyData)||void 0===o||null===(l=o.subject_premise)||void 0===l?void 0:l.property_location.toLowerCase().includes(c.address)))&&(!c.date||i===s)&&(!c.lender||(null===(a=e.DummyData)||void 0===a||null===(r=a.lender)||void 0===r?void 0:r.organization.toLowerCase().includes(c.lender)))&&(!c.transaction_type||e.transaction_type.toLowerCase().includes(c.transaction_type))&&(!c.buyers||d.includes(c.buyers.toLowerCase()))&&(!c.sellers||u.includes(c.sellers.toLowerCase()))}));d(e),console.log("Filtered Data:",e),n((0,P.AB)(e))}),[c,t]),console.log(c,"Filter"),(0,b.jsx)(w.Ay,{item:!0,xs:12,md:12,children:(0,b.jsxs)(_.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,b.jsx)(C.A,{name:"file_no",label:"File No #",value:c.file_no||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"file_name",label:"File Name",value:c.file_name||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"address",label:"Address",value:c.address||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"date",label:"Date",type:"date",value:c.date||"",onChange:e=>p(e.target.name,e.target.value),InputLabelProps:{shrink:!0}}),(0,b.jsx)(C.A,{name:"lender",label:"Lender",value:c.lender||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsxs)(S.A,{fullWidth:!0,children:[(0,b.jsx)(D.A,{id:"transaction-type-label",children:"Transaction Type"}),(0,b.jsx)(F.A,{name:"transaction_type",label:"Transaction Type",value:c.transaction_type||"",onChange:e=>p(e.target.name,e.target.value),labelId:"transaction-type-label",children:E.xW.map((e=>(0,b.jsx)(T.A,{value:e.value,children:e.label},e.value)))})]}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(B.A,{name:"buyers",options:o,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(C.A,{...e,label:"Search Buyer",variant:"outlined"}),value:o.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.buyers))||null,onChange:(e,t)=>{p("buyers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(B.A,{name:"sellers",options:r,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(C.A,{...e,label:"Search Seller",variant:"outlined"}),value:r.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.sellers))||null,onChange:(e,t)=>{p("sellers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})})]})})}const O=(0,r.Ay)(o.m.div)((e=>{let{theme:t}=e;return{...(0,m.A)(t).bgBlur({color:t.palette.background.paper,opacity:.92}),top:0,right:0,bottom:0,display:"flex",position:"fixed",overflow:"hidden",width:v.LM.BASE_WIDTH,flexDirection:"column",margin:t.spacing(2),paddingBottom:t.spacing(3),zIndex:t.zIndex.drawer+3,borderRadius:1.5*Number(t.shape.borderRadius),boxShadow:"-24px 12px 32px -4px ".concat((0,i.X4)("light"===t.palette.mode?t.palette.grey[500]:t.palette.common.black,.16))}}));function R(e){let{files:t}=e;const{themeMode:n,themeDirection:o,themeColorPresets:r,themeStretch:i,themeLayout:m,onResetSetting:x}=(0,p.A)(),[A,y]=(0,a.useState)(!1),w=n!==v.L6.themeMode||o!==v.L6.themeDirection||r!==v.L6.themeColorPresets||m!==v.L6.themeLayout||i!==v.L6.themeStretch,_="rtl"!==o?(0,h.Sk)({distance:v.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inRight:(0,h.Sk)({distance:v.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inLeft;(0,a.useEffect)((()=>{document.body.style.overflow=A?"hidden":"unset"}),[A]);const C=()=>{y(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{open:A,onClick:C,sx:{background:"transparent",zIndex:e=>e.zIndex.drawer+1}}),!A&&(0,b.jsx)(j,{open:A,notDefault:w,onToggle:()=>{y((e=>!e))}}),(0,b.jsx)(l.N,{children:A&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(O,{..._,children:[(0,b.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,b.jsx)(c.A,{variant:"subtitle1",children:"Filters"}),(0,b.jsx)("div",{children:(0,b.jsx)(h.ji,{onClick:C,children:(0,b.jsx)(f.A,{icon:"eva:close-fill",width:20,height:20})})})]}),(0,b.jsx)(u.A,{sx:{borderStyle:"dashed"}}),(0,b.jsx)(g.A,{sx:{flexGrow:1},children:(0,b.jsx)(d.A,{spacing:3,sx:{p:3},children:(0,b.jsx)(I,{files:t})})})]})})})]})}},35407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var o=n(9950),l=n(60666),a=n(48089),r=n(14857),i=n(79537),s=n(6368),d=n(1320),c=n(15769),u=n(34075),p=n(91434),m=n(53984),v=n(73447),f=n(57191),g=n(82053),h=n(60899),x=n(12257),b=n(8145),A=n(74745),y=n(75165),j=n(29031),w=n(13564),_=n(28095),C=n(7951),S=n(68654),D=n(9449),F=n(73878),T=n(14650),B=(n(61310),n(99425),n(1041),n(90260)),L=n(46765),k=n(86608),P=n(38861),E=n(30744),N=n(66075),I=n(44185),O=n(63358),R=n(72870),W=n(12480),z=n(32741),M=n(95074),q=n(30818),G=n(52401),V=(n(83752),n(22988),n(94906),n(24642),n(46631),n(64267),n(44414));B.nB.legalForms.acknowledgments,B.nB.legalForms.affidavitforCreditAgainst,B.nB.legalForms.affidavitinLieuofRegistration,B.nB.legalForms.affidavitinLieuofRegistration2009,B.nB.legalForms.carbonMonoxideDetectorAffidavit,B.nB.legalForms.certificationonNonForeignStatus,B.nB.legalForms.contractofSaleCondo,B.nB.legalForms.contractofSaleCoop,B.nB.legalForms.contractofSaleResidential,B.nB.legalForms.deedAdministrators,B.nB.legalForms.deedBargainandSalewithCovenants,B.nB.legalForms.deedBargainandSalewithoutCovenants,B.nB.legalForms.deedExecutors,B.nB.legalForms.deedQuitclaim,B.nB.legalForms.deedWarrantywithFullCovenants,B.nB.legalForms.it2663,B.nB.legalForms.it2664,B.nB.legalForms.nYStatutoryShortFormPOA,B.nB.legalForms.peconicBayRegionCommunityPreservationFund,B.nB.legalForms.RP5217,B.nB.legalForms.TP584;n(48812),n(29113);var Y=n(33507),U=n(9213),X=n(21671),H=n(93038),Z=n(34437);n(22704),n(33949);function J(e){var t,n,l,a,i,s,d,c,u,p,m,v,f,g,h,x,b,A,y,j,_,C,S,D,F,T,B,L;let{row:k,selected:P,onSelectRow:E,onAssign:N,onViewRow:I,onDocumentUpload:O,onDownloadDocument:R,onDeleteRow:W,onShareRow:z,onEditRow:M,onOrderContin:q,onStatusChange:G,CreateOrderByPdf:Y}=e;(0,r.A)();const{pathname:J}=(0,w.zy)(),Q=(J.includes("admin"),(0,w.Zp)());console.log(k,"row");const{file_no:K,id:$,User:ee,file_pdf:te}=k,ne=null===te||void 0===te?void 0:te.split("/");console.log(ne,"pdfName");const[oe,le]=(0,o.useState)(null),[ae,re]=(Boolean(oe),(0,o.useState)(null)),ie=()=>{Q("/dashboard/filepreview/".concat(null===k||void 0===k?void 0:k.id),{state:{row:k}})};return(0,V.jsxs)(U.A,{selected:P,children:[(E||P)&&(0,V.jsx)(X.A,{padding:"checkbox",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(0,V.jsx)(H.A,{checked:P,onClick:E})}),(0,V.jsx)(X.A,{sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},align:"left",onClick:ie,children:null!==K?K:"N/A"}),(0,V.jsx)(X.A,{align:"left",onClick:ie,sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(null===k||void 0===k||null===(t=k.orders)||void 0===t?void 0:t.length)>0&&(null!==(null===k||void 0===k||null===(n=k.orders[0])||void 0===n?void 0:n.subject_premise)||""!==(null===k||void 0===k||null===(l=k.orders[0])||void 0===l||null===(a=l.subject_premise)||void 0===a?void 0:a.property_location))?null===k||void 0===k||null===(i=k.orders[0])||void 0===i||null===(s=i.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.slice(0,50):"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:ie,children:(null===k||void 0===k||null===(c=k.orders)||void 0===c?void 0:c.length)>0&&null!==(null===k||void 0===k||null===(u=k.orders[0])||void 0===u?void 0:u.CONTIN_COMPLETED_DATE)?(0,Z.ts)(null===k||void 0===k||null===(p=k.orders[0])||void 0===p?void 0:p.CONTIN_COMPLETED_DATE):"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:ie,children:(null===k||void 0===k||null===(m=k.orders)||void 0===m?void 0:m.length)>0&&null!==(null===k||void 0===k||null===(v=k.orders[0])||void 0===v?void 0:v.COMPLETED_DATE)?(0,Z.ts)(null===k||void 0===k||null===(f=k.orders[0])||void 0===f?void 0:f.COMPLETED_DATE):"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:ie,children:(null===k||void 0===k||null===(g=k.orders)||void 0===g?void 0:g.length)>0&&null!==(null===k||void 0===k||null===(h=k.orders[0])||void 0===h?void 0:h.order_payment)?(0,Z.ts)(null===k||void 0===k||null===(x=k.orders[0])||void 0===x||null===(b=x.order_payment)||void 0===b?void 0:b.payment_date):"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:ie,children:(null===k||void 0===k||null===(A=k.orders)||void 0===A?void 0:A.length)>0&&null!==(null===k||void 0===k||null===(y=k.orders[0])||void 0===y?void 0:y.order_payment)?null===k||void 0===k||null===(j=k.orders[0])||void 0===j||null===(_=j.order_payment)||void 0===_?void 0:_.payment_note:"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:ie,children:(null===k||void 0===k||null===(C=k.orders)||void 0===C?void 0:C.length)>0&&null!==(null===k||void 0===k||null===(S=k.orders[0])||void 0===S?void 0:S.order_payment)?null!==k&&void 0!==k&&null!==(D=k.orders[0])&&void 0!==D&&null!==(F=D.order_payment)&&void 0!==F&&F.is_paid?"Paid":"false":"N/A"}),(0,V.jsx)(X.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(null===k||void 0===k||null===(T=k.orders)||void 0===T?void 0:T.length)>0&&null!==(null===k||void 0===k||null===(B=k.orders[0])||void 0===B?void 0:B.Total_Price)?null===k||void 0===k||null===(L=k.orders[0])||void 0===L?void 0:L.Total_Price:"N/A"})]})}const Q=[{id:"file_no",label:"File No",align:"left",width:200},{id:"address",label:"Address",align:"left",width:100},{id:"CONTIN_COMPLETED_DATE",label:"Contin Completed",align:"left",width:800},{id:"COMPLETED_DATE",label:"Completed Date",align:"left",width:800},{id:"payment_date",label:"Payment Date",align:"left",width:500},{id:"payment_date",label:"Notes",align:"left",width:500},{id:"is_paid",label:"Status",align:"left",width:500},{id:"Total_Price",label:"Invoice Price",align:"left",width:500}],K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};(0,C.Ay)(a.A)((e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:t.palette.primary.lighter,[t.breakpoints.up("md")]:{display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between",height:"100%"}}}));function $(e){var t;let{viewTabsRef:n}=e;(0,r.A)();const{user:a}=(0,Y.A)(),{themeStretch:C}=(0,k.A)(),U=(0,F.wA)(),X=(0,w.Zp)(),{enqueueSnackbar:H}=(0,j.dh)(),{dense:Z,page:$,order:ee,orderBy:te,rowsPerPage:ne,setPage:oe,selected:le,setSelected:ae,onSort:re,onChangeDense:ie,onChangePage:se,onChangeRowsPerPage:de}=(0,P.Ay)({defaultOrderBy:"createDate"}),[ce,ue]=(0,o.useState)([]),[pe,me]=(0,o.useState)(""),[ve,fe]=(0,o.useState)("new"),[ge,he]=(0,o.useState)(null),[xe,be]=(0,o.useState)([]),[Ae,ye]=(0,o.useState)(null),{currentTab:je,onChangeTab:we}=(0,L.A)("all"),[_e,Ce]=(0,o.useState)("Title Insurance"),[Se,De]=(0,o.useState)(!1),[Fe,Te]=(0,o.useState)(""),[Be,Le]=(0,o.useState)(!1),[ke,Pe]=(0,o.useState)(!1),[Ee,Ne]=(0,o.useState)(),[Ie,Oe]=(0,o.useState)(),[Re,We]=(0,o.useState)([]),[ze,Me]=(0,o.useState)(!1),[qe,Ge]=(0,o.useState)(null),{file:Ve,filterData:Ye}=(Boolean(qe),(0,E.d4)((e=>e.File)));console.log(Ve,"file details"),(0,o.useEffect)((()=>{U((0,q.xg)())}),[]),(0,o.useEffect)((()=>{null!==Ve&&void 0!==Ve&&Ve.length&&ue(Ve)}),[Ve]);const Ue=e=>{Le(!0),Ne(e),(async()=>{try{var e;const n=await z.A.get("user/added/contacts");var t;console.log(n,"all your user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?We(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.currentUser):console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}})()},Xe=function(e){var t;let{tableData:n,comparator:o,filterName:l,filterStatus:a,filterService:r,filterStartDate:i,filterEndDate:s}=e;const d=null===(t=n)||void 0===t?void 0:t.map(((e,t)=>[e,t]));d.sort(((e,t)=>{const n=o(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),n=d.map((e=>e[0])),l&&(n=n.filter((e=>{var t,n,o;return-1!==e.file_no.toLowerCase().indexOf(l.toLowerCase())||-1!==(null===e||void 0===e||null===(t=e.orders[0])||void 0===t||null===(n=t.subject_premise)||void 0===n||null===(o=n.property_location)||void 0===o?void 0:o.toLowerCase().indexOf(l.toLowerCase()))})));"all"!==a&&(n=n.filter((e=>e.status===a)));"new"!==r&&(n=n.filter((e=>e.status===r)));i&&s&&(n=n.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:ce,comparator:(0,P.hz)(ee,te),filterName:pe,filterService:ve,filterStatus:je,filterStartDate:ge,filterEndDate:Ae}),He=Z?56:76,Ze=!Xe.length&&!!pe||!Xe.length&&!!je||!Xe.length&&!!ve||!Xe.length&&!!Ae||!Xe.length&&!!ge,Je=async e=>{Me(!0);try{await z.A.post("user/share/".concat(e,"/").concat(Ee)).then((e=>{if(Me(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"share file"),H(t.message),Le(!1),be()}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>H(t.errors[e][0],{variant:"error"})))}}finally{Me(!1)}},Qe=(0,o.useRef)(""),Ke=l.Ik().shape({fname:l.Yj().required("First Name is required"),lname:l.Yj().required("Last Name is required"),email:l.Yj().required("Email is required")}),$e=(0,o.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),et=(0,D.mN)({resolver:(0,S.t)(Ke),defaultValues:$e}),{reset:tt,watch:nt,setValue:ot,handleSubmit:lt,formState:{isSubmitting:at,errors:rt}}=et,it=(nt(),async(e,t,n)=>{try{var o;const r=new FormData;r.append("name","".concat(t," ").concat(n));const i=await z.A.post("user/contact/add/".concat(e),r);var l,a;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.status)H("User Add In Your List",{variant:"success"}),Je(null===i||void 0===i||null===(l=i.data)||void 0===l||null===(a=l.contact)||void 0===a?void 0:a.id);else console.log("Status False in API")}catch(r){console.log(r,"add user in list api error")}});return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(i.A,{maxWidth:!C&&"xl",children:[Se&&(0,V.jsx)(M.A,{}),(0,V.jsx)(O.A,{heading:"All Files",links:[{name:"Dashboard",href:B.nB.root},{name:"All Files"}]}),(0,V.jsx)(s.A,{sx:{p:2,width:"100%"},children:(0,V.jsx)(W.F5,{filterName:pe,filterService:ve,filterStartDate:ge,filterEndDate:Ae,onFilterName:e=>{me(e),oe(0)},onFilterService:e=>{fe(e.target.value)},onFilterStartDate:e=>{he(e)},onFilterEndDate:e=>{ye(e)}})}),(0,V.jsx)(I.A,{children:(0,V.jsx)(d.A,{sx:{minWidth:800,position:"relative"},children:(0,V.jsxs)(c.A,{size:Z?"small":"medium",sx:{overflowX:"hidden"},children:[(0,V.jsx)(R.er,{order:ee,orderBy:te,headLabel:Q,rowCount:ce.length,numSelected:le.length,onSort:re}),(0,V.jsxs)(u.A,{children:[Xe.slice($*ne,$*ne+ne).map((e=>(0,V.jsx)(J,{row:e,onViewRow:()=>(e=>{X("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:{row:e}})})(e),onShareRow:()=>Ue(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return t=e.id,void X("/dashboard/order/".concat(t));var t},onDeleteRow:()=>{return t=e.id,De(!0),void z.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),De(!1),200===e.status||201===e.status){const e=ce.filter((e=>e.id!==t));ae([]),ue(e),H("Delete Successfully")}})).catch((e=>{De(!1),e.errors&&Object.keys(e.errors).map((t=>H(e.errors[t][0],{variant:"error"})))}));var t},CreateOrderByPdf:()=>(async e=>{try{var t;const n=new FormData;n.append("file_id",e);const o=await z.A.post("user/corpLienSearch",n);console.log(o,"create order by pdf"),null!==o&&void 0!==o&&null!==(t=o.data)&&void 0!==t&&t.status?H("Succesfully order created",{variant:"success"}):console.log("Status False API create order by pdf")}catch(n){console.log(n,"create order by pdf api error")}})(e.id)},e.id))),(0,V.jsx)(R.dO,{height:He,emptyRows:(0,P.xl)($,ne,ce.length)}),(0,V.jsx)(R.Sm,{isNotFound:Ze})]})]})})}),(0,V.jsx)(s.A,{sx:{position:"relative"},children:(0,V.jsx)(p.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Xe.length,rowsPerPage:ne,page:$,onPageChange:se,onRowsPerPageChange:de})}),(0,V.jsx)(m.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Be,onClose:()=>Le(!1),closeAfterTransition:!0,slots:{backdrop:v.A},slotProps:{backdrop:{timeout:500}},children:(0,V.jsx)(f.A,{in:Be,children:(0,V.jsxs)(s.A,{sx:K,children:[(0,V.jsx)(g.A,{variant:"h5",sx:{mb:2},onClick:()=>Pe(!1),children:ke&&(0,V.jsx)(T.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,V.jsxs)(h.Ay,{item:!0,xs:12,md:12,children:[(0,V.jsx)(g.A,{variant:"h5",sx:{mb:2},children:ke?"Add Contact":"Select User Into Your List"}),ke?(0,V.jsxs)(G.Op,{methods:et,onSubmit:lt((async e=>{console.log(e.request,"request"),Me(!0);try{const t=new FormData;t.append("first_name",e.fname),t.append("last_name",e.lname),t.append("email",e.email),t.append("phone",e.phone),t.append("address",e.address),t.append("company_name",e.company),t.append("job_title",e.job),t.append("is_file_shared",!0),await z.A.post("user/contact/user/add",t).then((e=>{if(Me(!1),200===e.status||201===e.status){var t,n,o;const l=e.data;console.log(l,"add user new"),H("successfully add new user"),Le(!1),tt(),it(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.id,null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.first_name,null===l||void 0===l||null===(o=l.user)||void 0===o?void 0:o.last_name)}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>H(t.errors[e][0],{variant:"error"})))}}finally{Me(!1)}})),children:[(0,V.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,V.jsx)(G.o3,{name:"fname",label:"First Name"}),(0,V.jsx)(G.o3,{name:"lname",label:"Last Name"}),(0,V.jsx)(G.o3,{name:"email",label:"Email"}),(0,V.jsx)(G.o3,{name:"phone",label:"Phone Nunber"}),(0,V.jsx)(G.o3,{name:"address",label:"Address"}),(0,V.jsx)(G.o3,{name:"company",label:"Company Name"}),(0,V.jsx)(G.o3,{name:"job",label:"Job title"})]}),(0,V.jsx)(x.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,V.jsx)(_.A,{type:"submit",variant:"contained",loading:ze,children:"Add Contact"})})]}):(0,V.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,V.jsx)(x.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,V.jsx)(b.A,{sx:{my:1,width:1},ref:Qe,label:"Search by first Name, Last Name & Email",value:(null===Qe||void 0===Qe||null===(t=Qe.current)||void 0===t?void 0:t.value)||"",onChange:e=>{const t=e.target.value.toLowerCase();if(Qe.current.value=t,""===Qe.current.value)be([]);else{const e=Re.filter((e=>{var n,o,l;return(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.first_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(l=e.Contact)||void 0===l?void 0:l.email.toLowerCase().includes(t))}));console.log(e,"filteredData"),be(e)}},size:"small"})}),(0,V.jsx)(A.A,{}),(null===xe||void 0===xe?void 0:xe.length)>0?xe.map(((e,t)=>{var n,o;return(0,V.jsxs)(x.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,V.jsxs)(g.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,V.jsx)(N.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(n=e.Contact)||void 0===n?void 0:n.first_name," ").concat(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name)]}),(0,V.jsx)(x.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,V.jsx)(_.A,{type:"submit",variant:"contained",loading:ze,onClick:()=>Je(null===e||void 0===e?void 0:e.id),children:"Share"})})]},t)})):(0,V.jsx)(x.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,V.jsx)(y.A,{variant:"contained",onClick:()=>Pe(!0),startIcon:(0,V.jsx)(N.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})]})})}},20927:(e,t,n)=>{var o=n(70423),l=n(73267)(o);e.exports=l},56602:(e,t,n)=>{var o=n(20927),l=n(97840);e.exports=function(e,t){var n=-1,a=l(e)?Array(e.length):[];return o(e,(function(e,o,l){a[++n]=t(e,o,l)})),a}},28245:(e,t,n)=>{var o=n(61570),l=n(10052),a=n(15127),r=n(56602),i=n(67311),s=n(35639),d=n(68152),c=n(69002),u=n(12279);e.exports=function(e,t,n){t=t.length?o(t,(function(e){return u(e)?function(t){return l(t,1===e.length?e[0]:e)}:e})):[c];var p=-1;t=o(t,s(a));var m=r(e,(function(e,n,l){return{criteria:o(t,(function(t){return t(e)})),index:++p,value:e}}));return i(m,(function(e,t){return d(e,t,n)}))}},67311:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},656:(e,t,n)=>{var o=n(50184);e.exports=function(e,t){if(e!==t){var n=void 0!==e,l=null===e,a=e===e,r=o(e),i=void 0!==t,s=null===t,d=t===t,c=o(t);if(!s&&!c&&!r&&e>t||r&&i&&d&&!s&&!c||l&&i&&d||!n&&d||!a)return 1;if(!l&&!r&&!c&&e<t||c&&n&&a&&!l&&!r||s&&n&&a||!i&&a||!d)return-1}return 0}},68152:(e,t,n)=>{var o=n(656);e.exports=function(e,t,n){for(var l=-1,a=e.criteria,r=t.criteria,i=a.length,s=n.length;++l<i;){var d=o(a[l],r[l]);if(d)return l>=s?d:d*("desc"==n[l]?-1:1)}return e.index-t.index}},73267:(e,t,n)=>{var o=n(97840);e.exports=function(e,t){return function(n,l){if(null==n)return n;if(!o(n))return e(n,l);for(var a=n.length,r=t?a:-1,i=Object(n);(t?r--:++r<a)&&!1!==l(i[r],r,i););return n}}},10263:(e,t,n)=>{var o=n(28245),l=n(12279);e.exports=function(e,t,n,a){return null==e?[]:(l(t)||(t=null==t?[]:[t]),l(n=a?void 0:n)||(n=null==n?[]:[n]),o(e,t,n))}}}]);