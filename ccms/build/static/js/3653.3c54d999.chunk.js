"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[3653],{83653:(e,l,n)=>{n.r(l),n.d(l,{default:()=>re});var o=n(9950),a=n(60666),r=n(79537),t=n(48089),i=n(68367),s=n(84142),d=n(12257),c=n(6368),u=n(82053),v=n(74745),m=n(1320),h=n(15769),p=n(34075),x=n(91434),b=n(16497),g=n(37324),f=n(53984),j=n(73447),y=n(57191),A=n(60899),w=n(25979),_=n(3788),C=n(93523),S=n(2660),k=n(23266),O=n(93038),q=n(83563),P=n(40033),D=n(29031),R=n(73878),I=n(13564),T=n(9449),F=n(68654),N=n(28095),B=n(90260),L=n(46765),E=n(86608),V=n(38861),G=n(22704),M=(n(66075),n(44185)),W=n(63358),U=n(72870),Y=n(12480),z=n(32741),H=n(95074),J=n(42686),X=n(73561),Z=n(93076),K=n(20131),Q=n(62740),$=n(44414);const ee={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},le=["new","old"],ne=[{id:"status",label:"Order Status",align:"left",width:500},{id:"updated_at",label:"Date",align:"left",width:600},{id:"id",label:"Order No",align:"left",width:800},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""}],oe=[{api:"titleInsurance",label:"Title Insurance"},{api:"corpLienSearch",label:"Coop Lien Searches"},{api:"eaglepolicy",label:"Eagle 9 Policy"},{api:"offeringPlan",label:"Coop/Condo offering plans"},{api:"uccform",label:"UCC"},{api:"exchanger",label:"1031 Exchanges"},{api:"acricetax",label:"Acris E-Tax forms"},{api:"othersearch",label:"Other Search / Request"},{api:"",label:"Sightline\xae"}],ae={PaperProps:{style:{maxHeight:224,width:250}}};function re(){var e,l,n,re,te,ie,se,de,ce,ue,ve,me,he,pe,xe,be,ge,fe,je,ye,Ae,we,_e,Ce,Se,ke,Oe,qe,Pe,De,Re,Ie,Te,Fe,Ne,Be,Le,Ee;const{isOpenModal:Ve,selectedRange:Ge}=(0,R.d4)((e=>e.calendar)),[Me,We]=(0,o.useState)(!1),[Ue,Ye]=(0,o.useState)(),ze=()=>We(!1),[He,Je]=(0,o.useState)(!1),[Xe,Ze]=(0,o.useState)(),[Ke,Qe]=(0,o.useState)(!1),$e=()=>{ll((0,J.Oo)())},{themeStretch:el}=(0,E.A)(),ll=(0,R.wA)(),nl=(0,I.Zp)(),{enqueueSnackbar:ol}=(0,D.dh)(),{dense:al,page:rl,order:tl,orderBy:il,rowsPerPage:sl,setPage:dl,selected:cl,setSelected:ul,onSort:vl,onChangeDense:ml,onChangePage:hl,onChangeRowsPerPage:pl}=(0,V.Ay)({defaultOrderBy:"createDate"}),[xl,bl]=(0,o.useState)([]),[gl,fl]=(0,o.useState)(""),[jl,yl]=(0,o.useState)("new"),[Al,wl]=(0,o.useState)(null),[_l,Cl]=(0,o.useState)(null),{currentTab:Sl,onChangeTab:kl}=(0,L.A)("all"),[Ol,ql]=(0,o.useState)("Title Insurance"),[Pl,Dl]=(0,o.useState)(!1),[Rl,Il]=(0,o.useState)(""),[Tl,Fl]=(0,o.useState)(null),[Nl,Bl]=(0,o.useState)([]),[Ll,El]=(0,o.useState)(),{id:Vl}=(0,I.g)();(0,o.useEffect)((()=>{"Sightline\xae"!==Ol&&Gl(oe.find((e=>e.label===Ol)).api)}),[Ol]);const Gl=e=>{Dl(!0);try{z.A.get("user/all/".concat(e)).then((e=>{Dl(!1);const l=e.data;console.log(l,"Data"),200===e.status?(Il(l.filePath),bl(l.orders)):ol(l.message)}))}catch(l){if(Dl(!1),l.errors){Object.keys(l.errors).map((e=>ol(l.errors[e][0],{variant:"error"})))}}},Ml=function(e){let{tableData:l,comparator:n,filterName:o,filterStatus:a,filterService:r,filterStartDate:t,filterEndDate:i}=e;const s=l.map(((e,l)=>[e,l]));s.sort(((e,l)=>{const o=n(e[0],l[0]);return 0!==o?o:e[1]-l[1]})),l=s.map((e=>e[0])),o&&(l=l.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(o.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(o.toLowerCase()))));"all"!==a&&(l=l.filter((e=>e.status===a)));"new"!==r&&(l=l.filter((e=>e.status===r)));t&&i&&(l=l.filter((e=>e.updated_at.getTime()>=t.getTime()&&e.updated_at.getTime()<=i.getTime())));return l}({tableData:xl,comparator:(0,V.hz)(tl,il),filterName:gl,filterService:jl,filterStatus:Sl,filterStartDate:Al,filterEndDate:_l}),Wl=al?56:76,Ul=!Ml.length&&!!gl||!Ml.length&&!!Sl||!Ml.length&&!!jl||!Ml.length&&!!_l||!Ml.length&&!!Al,Yl=e=>xl.filter((l=>l.status===e)).length,zl=[{value:"all",label:"All",color:"info",count:xl.length},{value:"active",label:"Active",color:"info",count:Yl("active")},{value:"new",label:"New",color:"info",count:Yl("new")},{value:"placed",label:"Placed",color:"info",count:Yl("placed")},{value:"completed",label:"Completed",color:"success",count:Yl("completed")},{value:"on hold",label:"On Hold",color:"warning",count:Yl("on hold")},{value:"draft",label:"Draft",color:"default",count:Yl("draft")},{value:"cancelled",label:"Cancelled",color:"error",count:Yl("cancelled")}],Hl=a.Ik().shape({request:a.Yj().required("Request Description is required"),Request_type:a.Yj().required("Request Type is required")}),Jl=(0,o.useMemo)((()=>({request:"",Request_type:"",names:{buyers:[],sellers:[],borrowers:[],grantees:[],grantors:[],names:[],lender_attorney:null,buyer_attorney:null,seller_attorney:null,borrower_attorney:null,grantee_attorney:null,grantor_attorney:null}})),[]),Xl=(0,T.mN)({resolver:(0,F.t)(Hl),defaultValues:Jl}),{reset:Zl,watch:Kl,setValue:Ql,handleSubmit:$l,formState:{isSubmitting:en,errors:ln}}=Xl,nn=Kl();console.log(ln,"errors"),console.log(nn,"values");const on=(e,l,n)=>{const{value:o}=e.target;if("buyers"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.buyers",e)}if("sellers"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.sellers",e)}if("borrowers"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.borrowers",e)}if("names"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.names",e)}if("grantors"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.grantors",e)}if("grantees"===l){const e=o.map((e=>n.find((l=>l.id===e))));Ql("names.grantees",e)}},an=(e,l,n)=>{const{value:o}=e.target;Ql("names.".concat(l),n||null)};return(0,o.useEffect)((()=>{"certification"!==(null===nn||void 0===nn?void 0:nn.Request_type)&&"name_change"!==(null===nn||void 0===nn?void 0:nn.Request_type)||(async()=>{try{var e;const l=await z.A.get("user/requests/get_names/all/".concat(Ue));console.log(l,"All Name response"),El(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.names)}catch(l){console.log(l,"error")}})()}),[nn.Request_type]),(0,$.jsxs)(r.A,{maxWidth:!el&&"lg",children:[Pl&&(0,$.jsx)(H.A,{}),(0,$.jsx)(W.A,{heading:"All Orders",links:[{name:"Dashboard",href:B.nB.root},{name:"All Orders"}]}),(0,$.jsx)(t.A,{sx:{mb:5},children:(0,$.jsx)(i.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Ol,onChange:(e,l)=>ql(l),sx:{px:2,bgcolor:"#403390",color:"#fff"},children:oe.map((e=>(0,$.jsx)(s.A,{disableRipple:!0,value:e.label,label:(0,$.jsx)(d.A,{spacing:1,direction:"row",alignItems:"center",children:(0,$.jsx)("div",{children:e.label})}),sx:{color:Ol===e.label?"black":"white","&.Mui-selected":{color:"black"}}},e.label)))})}),(0,$.jsx)(c.A,{sx:{p:2},children:(0,$.jsx)(u.A,{variant:"h4",gutterBottom:!0,children:Ol.label})}),(0,$.jsxs)(t.A,{children:[(0,$.jsx)(i.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Sl,onChange:kl,sx:{px:2,bgcolor:"background.neutral"},children:zl.map((e=>(0,$.jsx)(s.A,{disableRipple:!0,value:e.value,label:(0,$.jsxs)(d.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,$.jsx)("div",{children:e.label})," ",(0,$.jsxs)(G.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,$.jsx)(v.A,{}),(0,$.jsx)(Y.F5,{filterName:gl,filterService:jl,filterStartDate:Al,filterEndDate:_l,onFilterName:e=>{fl(e),dl(0)},onFilterService:e=>{yl(e.target.value)},onFilterStartDate:e=>{wl(e)},onFilterEndDate:e=>{Cl(e)},optionsService:le}),(0,$.jsx)(M.A,{children:(0,$.jsx)(m.A,{sx:{minWidth:800,position:"relative"},children:(0,$.jsxs)(h.A,{size:al?"small":"medium",children:[(0,$.jsx)(U.er,{order:tl,orderBy:il,headLabel:ne,rowCount:xl.length,numSelected:cl.length,onSort:vl}),(0,$.jsxs)(p.A,{children:[Ml.slice(rl*sl,rl*sl+sl).map((e=>(0,$.jsx)(Y.oR,{row:e,onEditRow:()=>(e=>{We(!0),Ye(e)})(e.id),onShareRow:()=>(e=>{Qe(!0),Ze(e)})(null===e||void 0===e?void 0:e.id),onViewRow:()=>(e=>{"Title Insurance"===Ol&&nl(B.nB.viewOrders.titleInsuranceOrderView,{state:e}),"Coop Lien Searches"===Ol&&nl(B.nB.viewOrders.CoopLienSearchOrderView,{state:e}),"Eagle 9 Policy"===Ol&&nl(B.nB.viewOrders.eagle9PolicyOrderView,{state:e}),"Coop/Condo offering plans"===Ol&&nl(B.nB.viewOrders.coopCondoOfferinPlansOrderView,{state:e}),"1031 Exchanges"===Ol&&nl(B.nB.viewOrders.exchange1031OrderView,{state:e}),"Other Search / Request"===Ol&&nl(B.nB.viewOrders.otherSearchesOrderView,{state:e})})(e),onDownloadDocument:()=>(e=>{e?z.A.get("user/download/order_attachment/".concat(e),{responseType:"blob"}).then((e=>{console.log(e,"download api");const l=URL.createObjectURL(e.data),n=document.createElement("a");n.download="document",n.href=l,n.click()})).catch((e=>ol(e,{variant:"error"}))):ol("Document Not Found!",{variant:"error"})})(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return l=e.file_no,void ll((0,J.qO)(l));var l},onDeleteRow:()=>(e=>{Dl(!0);const l=oe.find((e=>e.label===Ol)).api;z.A.delete("user/".concat(l,"/").concat(e)).then((l=>{if(console.log("response",l),Dl(!1),200===l.status||201===l.status){const l=xl.filter((l=>l.id!==e));ul([]),bl(l),ol("Delete Successfully")}})).catch((e=>{Dl(!1),e.errors&&Object.keys(e.errors).map((l=>ol(e.errors[l][0],{variant:"error"})))}))})(e.id)},e.id))),(0,$.jsx)(U.dO,{height:Wl,emptyRows:(0,V.xl)(rl,sl,xl.length)}),(0,$.jsx)(U.Sm,{isNotFound:Ul})]})]})})}),(0,$.jsxs)(c.A,{sx:{position:"relative"},children:[(0,$.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Ml.length,rowsPerPage:sl,page:rl,onPageChange:hl,onRowsPerPageChange:pl}),(0,$.jsx)(b.A,{control:(0,$.jsx)(g.A,{checked:al,onChange:ml}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]}),(0,$.jsx)(f.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Me,onClose:ze,closeAfterTransition:!0,slots:{backdrop:j.A},slotProps:{backdrop:{timeout:500}},children:(0,$.jsx)(y.A,{in:Me,children:(0,$.jsx)(c.A,{sx:ee,children:(0,$.jsx)(X.Op,{methods:Xl,onSubmit:$l((async e=>{console.log(e.checkboxes,"request"),Je(!0);try{const l={descriptions:e.request,request_type:e.Request_type,name:e.names};await z.A.post("user/requests/create/".concat(Ue),l).then((e=>{if(Je(!1),200===e.status||201===e.status){const l=e.data;console.log(l,"sent request"),ol(l.message),ze()}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>ol(l.errors[e][0],{variant:"error"})))}}finally{Je(!1)}})),children:(0,$.jsxs)(A.Ay,{item:!0,xs:12,md:12,children:[(0,$.jsx)(u.A,{variant:"h5",sx:{mb:2},children:"Sent Request for edit your order"}),(0,$.jsxs)(c.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,$.jsxs)(X.tX,{name:"Request_type",label:"Select Request Type",children:[(0,$.jsx)("option",{value:""}),(0,$.jsx)("option",{value:"certification",children:"CERTIFICATION"}),(0,$.jsx)("option",{value:"name_change",children:"Name change"}),(0,$.jsx)("option",{value:"ppdate_effective_date",children:"Update effective date"}),(0,$.jsx)("option",{value:"other",children:"other"})]}),("certification"===(null===nn||void 0===nn?void 0:nn.Request_type)||"name_change"===(null===nn||void 0===nn?void 0:nn.Request_type))&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)(c.A,{sx:{display:"grid",columnGap:2,rowGap:1,mt:1,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(null===Ll||void 0===Ll||null===(e=Ll.buyers)||void 0===e?void 0:e.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Buyers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.buyers)||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"buyers",null===Ll||void 0===Ll?void 0:Ll.buyers),input:(0,$.jsx)(S.A,{label:"Buyers"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.buyers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(re=Ll.buyers)||void 0===re?void 0:re.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.buyers)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ll||void 0===Ll||null===(te=Ll.sellers)||void 0===te?void 0:te.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Sellers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(ie=nn.names)||void 0===ie||null===(se=ie.sellers)||void 0===se?void 0:se.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"sellers",null===Ll||void 0===Ll?void 0:Ll.sellers),input:(0,$.jsx)(S.A,{label:"Sellers"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.sellers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(de=Ll.sellers)||void 0===de?void 0:de.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.sellers)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ll||void 0===Ll||null===(ce=Ll.borrowers)||void 0===ce?void 0:ce.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Borrowers"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(ue=nn.names)||void 0===ue||null===(ve=ue.borrowers)||void 0===ve?void 0:ve.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"borrowers",null===Ll||void 0===Ll?void 0:Ll.borrowers),input:(0,$.jsx)(S.A,{label:"Borrowers"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.borrowers)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(me=Ll.borrowers)||void 0===me?void 0:me.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.borrowers)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ll||void 0===Ll||null===(he=Ll.names)||void 0===he?void 0:he.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Names"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(pe=nn.names)||void 0===pe||null===(xe=pe.names)||void 0===xe?void 0:xe.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"names",null===Ll||void 0===Ll?void 0:Ll.names),input:(0,$.jsx)(S.A,{label:"Names"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.names)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(be=Ll.names)||void 0===be?void 0:be.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.names)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ll||void 0===Ll||null===(ge=Ll.grantors)||void 0===ge?void 0:ge.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Grantors"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(fe=nn.names)||void 0===fe||null===(je=fe.grantors)||void 0===je?void 0:je.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"grantors",null===Ll||void 0===Ll?void 0:Ll.grantors),input:(0,$.jsx)(S.A,{label:"Grantors"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.grantors)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(ye=Ll.grantors)||void 0===ye?void 0:ye.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.grantors)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]}),(null===Ll||void 0===Ll||null===(Ae=Ll.grantees)||void 0===Ae?void 0:Ae.length)>0&&(0,$.jsxs)(w.A,{sx:{m:1,width:300},children:[(0,$.jsx)(_.A,{id:"demo-multiple-checkbox-label",children:"Grantees"}),(0,$.jsx)(C.A,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",multiple:!0,value:(null===nn||void 0===nn||null===(we=nn.names)||void 0===we||null===(_e=we.grantees)||void 0===_e?void 0:_e.map((e=>null===e||void 0===e?void 0:e.id)))||[],onChange:e=>on(e,"grantees",null===Ll||void 0===Ll?void 0:Ll.grantees),input:(0,$.jsx)(S.A,{label:"Grantees"}),renderValue:e=>e.map((e=>{var l;const n=null===Ll||void 0===Ll||null===(l=Ll.grantees)||void 0===l?void 0:l.find((l=>l.id===e));return"".concat((null===n||void 0===n?void 0:n.first_name)||""," ").concat((null===n||void 0===n?void 0:n.last_name)||"")})).join(", "),MenuProps:ae,children:null===Ll||void 0===Ll||null===(Ce=Ll.grantees)||void 0===Ce?void 0:Ce.map((e=>{var l,n;return(0,$.jsxs)(k.A,{value:null===e||void 0===e?void 0:e.id,children:[(0,$.jsx)(O.A,{checked:null===nn||void 0===nn||null===(l=nn.names)||void 0===l||null===(n=l.grantees)||void 0===n?void 0:n.some((l=>l.id===(null===e||void 0===e?void 0:e.id)))}),(0,$.jsx)(q.A,{primary:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name)})]},null===e||void 0===e?void 0:e.id)}))})]})]}),(0,$.jsxs)(c.A,{sx:{display:"grid",columnGap:2,rowGap:1,mt:1,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[null!==(null===Ll||void 0===Ll?void 0:Ll.buyer_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"Buyer Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Se=nn.names)||void 0===Se||!Se.buyer_attorney),onChange:e=>an(e,"buyer_attorney",null===Ll||void 0===Ll?void 0:Ll.buyer_attorney)}),label:(null===Ll||void 0===Ll||null===(ke=Ll.buyer_attorney)||void 0===ke?void 0:ke.firm_name)||"buyer attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.seller_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"Seller Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Oe=nn.names)||void 0===Oe||!Oe.seller_attorney),onChange:e=>an(e,"seller_attorney",null===Ll||void 0===Ll?void 0:Ll.seller_attorney)}),label:(null===Ll||void 0===Ll||null===(qe=Ll.seller_attorney)||void 0===qe?void 0:qe.firm_name)||"seller attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.borrower_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"Borrower Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Pe=nn.names)||void 0===Pe||!Pe.borrower_attorney),onChange:e=>an(e,"borrower_attorney",null===Ll||void 0===Ll?void 0:Ll.borrower_attorney)}),label:(null===Ll||void 0===Ll||null===(De=Ll.borrower_attorney)||void 0===De?void 0:De.firm_name)||"borrower attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.grantee_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"grantee Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Re=nn.names)||void 0===Re||!Re.borrower_attorney),onChange:e=>an(e,"grantee_attorney",null===Ll||void 0===Ll?void 0:Ll.grantee_attorney)}),label:(null===Ll||void 0===Ll||null===(Ie=Ll.grantee_attorney)||void 0===Ie?void 0:Ie.firm_name)||"grantee attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.grantor_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"grantor Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Te=nn.names)||void 0===Te||!Te.grantor_attorney),onChange:e=>an(e,"grantor_attorney",null===Ll||void 0===Ll?void 0:Ll.grantor_attorney)}),label:(null===Ll||void 0===Ll||null===(Fe=Ll.grantor_attorney)||void 0===Fe?void 0:Fe.firm_name)||"grantor attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.name_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"name Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Ne=nn.names)||void 0===Ne||!Ne.name_attorney),onChange:e=>an(e,"name_attorney",null===Ll||void 0===Ll?void 0:Ll.name_attorney)}),label:(null===Ll||void 0===Ll||null===(Be=Ll.name_attorney)||void 0===Be?void 0:Be.firm_name)||"name attornay"})]})}),null!==(null===Ll||void 0===Ll?void 0:Ll.lender_attorney)&&(0,$.jsx)($.Fragment,{children:(0,$.jsxs)(w.A,{fullWidth:!0,children:[(0,$.jsx)(u.A,{variant:"h6",children:"lender Attorney"}),(0,$.jsx)(b.A,{control:(0,$.jsx)(O.A,{checked:!(null===nn||void 0===nn||null===(Le=nn.names)||void 0===Le||!Le.lender_attorney),onChange:e=>an(e,"lender_attorney",null===Ll||void 0===Ll?void 0:Ll.lender_attorney)}),label:(null===Ll||void 0===Ll||null===(Ee=Ll.lender_attorney)||void 0===Ee?void 0:Ee.firm_name)||"lender attornay"})]})})]})]}),(0,$.jsx)(X.o3,{name:"request",label:"Please enter Desciption",multiline:!0,rows:3})]}),(0,$.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,$.jsx)(N.A,{type:"submit",variant:"contained",loading:He,children:"Send Request"})})]})})})})}),(0,$.jsx)(Z.A,{setShareOpen:Qe,open:Ke,FileId:Xe}),(0,$.jsxs)(K.ys,{open:Ve,onClose:$e,children:[(0,$.jsx)(P.A,{children:"Add Order Contin"}),(0,$.jsx)(Q.lM,{event:{},range:Ge,onCancel:$e,getDate:""})]})]})}},93076:(e,l,n)=>{n.d(l,{A:()=>C});var o=n(53984),a=n(73447),r=n(57191),t=n(6368),i=n(82053),s=n(60899),d=n(12257),c=n(8145),u=n(74745),v=n(75165),m=n(60666),h=n(9950),p=n(9449),x=n(68654),b=n(29031),g=n(28095),f=n(14650),j=n(66075),y=n(32741),A=n(73561),w=n(44414);const _={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},C=e=>{var l;let{setShareOpen:n,open:C,FileId:S}=e;const{enqueueSnackbar:k}=(0,b.dh)(),[O,q]=(0,h.useState)(),[P,D]=(0,h.useState)([]),[R,I]=(0,h.useState)(!1),[T,F]=(0,h.useState)([]),[N,B]=(0,h.useState)(!1);(0,h.useEffect)((()=>{(async()=>{try{var e;const n=await y.A.get("user/added/contacts");var l;console.log(n,"all your user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?D(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.currentUser):console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}})()}),[]);const L=(0,h.useRef)(null);console.log(T,"filterUser");const E=async e=>{B(!0);try{await y.A.post("user/share/order/".concat(e,"/").concat(S)).then((e=>{if(B(!1),200===e.status||201===e.status){const l=e.data;console.log(l,"share file"),k(l.message),n(!1),F()}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>k(l.errors[e][0],{variant:"error"})))}}finally{B(!1)}},V=m.Ik().shape({fname:m.Yj().required("First Name is required"),lname:m.Yj().required("Last Name is required"),email:m.Yj().required("Email is required")}),G=(0,h.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),M=(0,p.mN)({resolver:(0,x.t)(V),defaultValues:G}),{reset:W,watch:U,setValue:Y,handleSubmit:z,formState:{isSubmitting:H,errors:J}}=M,X=(U(),async(e,l,n)=>{try{var o;const t=new FormData;t.append("name","".concat(l," ").concat(n));const i=await y.A.post("user/contact/add/".concat(e),t);var a,r;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.status)k("User Add In Your List",{variant:"success"}),E(null===i||void 0===i||null===(a=i.data)||void 0===a||null===(r=a.contact)||void 0===r?void 0:r.id);else console.log("Status False in API")}catch(t){console.log(t,"add user in list api error")}});return(0,w.jsx)(o.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:C,onClose:()=>n(!1),closeAfterTransition:!0,slots:{backdrop:a.A},slotProps:{backdrop:{timeout:500}},children:(0,w.jsx)(r.A,{in:C,children:(0,w.jsxs)(t.A,{sx:_,children:[(0,w.jsx)(i.A,{variant:"h5",sx:{mb:2},onClick:()=>I(!1),children:R&&(0,w.jsx)(f.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,w.jsxs)(s.Ay,{item:!0,xs:12,md:12,children:[(0,w.jsx)(i.A,{variant:"h5",sx:{mb:2},children:R?"Add Contact":"Select User Into Your List"}),R?(0,w.jsxs)(A.Op,{methods:M,onSubmit:z((async e=>{console.log(e.request,"request"),B(!0);try{const l=new FormData;l.append("first_name",e.fname),l.append("last_name",e.lname),l.append("email",e.email),l.append("phone",e.phone),l.append("address",e.address),l.append("company_name",e.company),l.append("job_title",e.job),l.append("is_file_shared",!0),await y.A.post("user/contact/user/add",l).then((e=>{if(B(!1),200===e.status||201===e.status){var l,o,a;const r=e.data;console.log(r,"add user new"),k("successfully add new user"),n(!1),W(),X(null===r||void 0===r||null===(l=r.user)||void 0===l?void 0:l.id,null===r||void 0===r||null===(o=r.user)||void 0===o?void 0:o.first_name,null===r||void 0===r||null===(a=r.user)||void 0===a?void 0:a.last_name)}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>k(l.errors[e][0],{variant:"error"})))}}finally{B(!1)}})),children:[(0,w.jsxs)(t.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,w.jsx)(A.o3,{name:"fname",label:"First Name"}),(0,w.jsx)(A.o3,{name:"lname",label:"Last Name"}),(0,w.jsx)(A.o3,{name:"email",label:"Email"}),(0,w.jsx)(A.o3,{name:"phone",label:"Phone Nunber"}),(0,w.jsx)(A.o3,{name:"address",label:"Address"}),(0,w.jsx)(A.o3,{name:"company",label:"Company Name"}),(0,w.jsx)(A.o3,{name:"job",label:"Job title"})]}),(0,w.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,w.jsx)(g.A,{type:"submit",variant:"contained",loading:N,children:"Add Contact"})})]}):(0,w.jsxs)(t.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,w.jsx)(d.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,w.jsx)(c.A,{sx:{my:1,width:1},ref:L,label:"Search by first Name, Last Name & Email",value:(null===L||void 0===L||null===(l=L.current)||void 0===l?void 0:l.value)||"",onChange:e=>{const l=e.target.value.toLowerCase();if(L.current.value=l,console.log(L.current.value,"filterValue"),""===L.current.value)F([]);else{const e=P.filter((e=>{var n,o,a;return(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.first_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(a=e.Contact)||void 0===a?void 0:a.email.toLowerCase().includes(l))}));console.log(e,"filteredData"),F(e)}},size:"small"})}),(0,w.jsx)(u.A,{}),(null===T||void 0===T?void 0:T.length)>0?T.map(((e,l)=>{var n,o;return(0,w.jsxs)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,w.jsxs)(i.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,w.jsx)(j.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(n=e.Contact)||void 0===n?void 0:n.first_name," ").concat(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name)]}),(0,w.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,w.jsx)(g.A,{type:"submit",variant:"contained",loading:N,onClick:()=>E(null===e||void 0===e?void 0:e.id),children:"Share"})})]},l)})):(0,w.jsx)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,w.jsx)(v.A,{variant:"contained",onClick:()=>I(!0),startIcon:(0,w.jsx)(j.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})}}}]);