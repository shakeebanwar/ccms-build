"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[2543],{35407:(e,o,t)=>{t.r(o),t.d(o,{default:()=>ee});var l=t(9950),n=t(60666),a=t(48089),r=t(14857),i=t(79537),s=t(6368),d=t(1320),c=t(15769),u=t(34075),m=t(91434),v=t(53984),p=t(73447),h=t(57191),f=t(82053),g=t(60899),x=t(12257),A=t(8145),j=t(74745),w=t(75165),b=t(29031),y=t(13564),C=t(28095),S=t(7951),F=t(68654),D=t(9449),E=t(73878),_=t(14650),T=(t(61310),t(99425),t(1041),t(90260)),k=t(46765),B=t(86608),P=t(38861),N=t(30744),I=t(66075),L=t(44185),R=(t(63358),t(72870)),O=t(12480),W=(t(6768),t(32741)),V=t(95074),q=t(30818),M=t(73561),U=t(83752),Y=(t(22988),t(94906),t(24642),t(46631),t(64267),t(44414));T.nB.legalForms.acknowledgments,T.nB.legalForms.affidavitforCreditAgainst,T.nB.legalForms.affidavitinLieuofRegistration,T.nB.legalForms.affidavitinLieuofRegistration2009,T.nB.legalForms.carbonMonoxideDetectorAffidavit,T.nB.legalForms.certificationonNonForeignStatus,T.nB.legalForms.contractofSaleCondo,T.nB.legalForms.contractofSaleCoop,T.nB.legalForms.contractofSaleResidential,T.nB.legalForms.deedAdministrators,T.nB.legalForms.deedBargainandSalewithCovenants,T.nB.legalForms.deedBargainandSalewithoutCovenants,T.nB.legalForms.deedExecutors,T.nB.legalForms.deedQuitclaim,T.nB.legalForms.deedWarrantywithFullCovenants,T.nB.legalForms.it2663,T.nB.legalForms.it2664,T.nB.legalForms.nYStatutoryShortFormPOA,T.nB.legalForms.peconicBayRegionCommunityPreservationFund,T.nB.legalForms.RP5217,T.nB.legalForms.TP584;t(48812),t(29113);var z=t(33507),G=t(52294),Z=t(9213),J=t(21671),Q=t(93038),X=t(34437);t(22704),t(33949);function H(e){var o,t,n,a,i,s,d,c,u,m,v,p,h,f,g,x,A,j,w;let{row:b,selected:C,onSelectRow:S,onAssign:F,onViewRow:D,onDocumentUpload:E,onDownloadDocument:_,onDeleteRow:T,onShareRow:k,onEditRow:B,onOrderContin:P,onStatusChange:N,CreateOrderByPdf:I}=e;(0,r.A)();const{pathname:L}=(0,y.zy)(),R=(L.includes("admin"),(0,y.Zp)());console.log(b,"row");const{file_no:O,id:W,User:V,file_pdf:q}=b,M=null===q||void 0===q?void 0:q.split("/");console.log(M,"pdfName");const[U,z]=(0,l.useState)(null),[G,H]=(Boolean(U),(0,l.useState)(null)),K=()=>{R("/dashboard/filepreview/".concat(null===b||void 0===b?void 0:b.id),{state:{row:b}})};return(0,Y.jsxs)(Z.A,{selected:C,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(S||C)&&(0,Y.jsx)(J.A,{padding:"checkbox",children:(0,Y.jsx)(Q.A,{checked:C,onClick:S})}),(0,Y.jsx)(J.A,{sx:{color:"#DD9A19",textWrap:"nowrap",padding:"14px 2px"},align:"left",onClick:K,children:null!==O?O:"N/A"}),(0,Y.jsx)(J.A,{align:"left",onClick:K,sx:{textWrap:"nowrap",padding:"14px 15px"},children:(null===b||void 0===b||null===(o=b.orders)||void 0===o?void 0:o.length)>0&&(null!==(null===b||void 0===b||null===(t=b.orders[0])||void 0===t?void 0:t.subject_premise)||""!==(null===b||void 0===b||null===(n=b.orders[0])||void 0===n||null===(a=n.subject_premise)||void 0===a?void 0:a.property_location))?null===b||void 0===b||null===(i=b.orders[0])||void 0===i||null===(s=i.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.slice(0,50):"N/A"}),(0,Y.jsx)(J.A,{align:"left",sx:{padding:"14px 2px"},onClick:K,children:(null===b||void 0===b||null===(c=b.orders)||void 0===c?void 0:c.length)>0&&null!==(null===b||void 0===b||null===(u=b.orders[0])||void 0===u?void 0:u.COMPLETED_DATE)?(0,X.ts)(null===b||void 0===b||null===(m=b.orders[0])||void 0===m?void 0:m.COMPLETED_DATE):"N/A"}),(0,Y.jsx)(J.A,{align:"left",sx:{padding:"14px 2px",textWrap:"nowrap"},onClick:K,children:(null===b||void 0===b||null===(v=b.orders)||void 0===v?void 0:v.length)>0&&null!==(null===b||void 0===b||null===(p=b.orders[0])||void 0===p?void 0:p.EFFECTIVE_DATE)?(0,X.ts)(null===b||void 0===b||null===(h=b.orders[0])||void 0===h?void 0:h.EFFECTIVE_DATE):"N/A"}),(0,Y.jsx)(J.A,{align:"left",sx:{padding:"14px 2px",textWrap:"nowrap"},onClick:K,children:(null===b||void 0===b||null===(f=b.orders)||void 0===f?void 0:f.length)>0&&null!==(null===b||void 0===b||null===(g=b.orders[0])||void 0===g?void 0:g.NEW_EFFECTIVE_DATE)?(0,X.ts)(null===b||void 0===b||null===(x=b.orders[0])||void 0===x?void 0:x.NEW_EFFECTIVE_DATE):"N/A"}),(0,Y.jsx)(J.A,{align:"left",sx:{padding:"14px 2px"},children:(null===b||void 0===b||null===(A=b.orders)||void 0===A?void 0:A.length)>0&&null!==(null===b||void 0===b||null===(j=b.orders[0])||void 0===j?void 0:j.Total_Price)?null===b||void 0===b||null===(w=b.orders[0])||void 0===w?void 0:w.Total_Price:"N/A"})]})}const K=[{id:"file_no",label:"File No",align:"left",width:200},{id:"address",label:"Address",align:"left",width:100},{id:"COMPLETED_DATE",label:"Completed Date",align:"left",width:800},{id:"EFFECTIVE_DATE",label:"Effective Date",align:"left",width:500},{id:"NEW_EFFECTIVE_DATE",label:"New Effective Date",align:"left",width:500},{id:"Total_Price",label:"Invoice Price",align:"left",width:500}],$={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};(0,S.Ay)(a.A)((e=>{let{theme:o}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:o.palette.primary.lighter,[o.breakpoints.up("md")]:{display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between",height:"100%"}}}));function ee(e){var o;let{viewTabsRef:t}=e;(0,r.A)();const{user:S}=(0,z.A)(),{themeStretch:T}=(0,B.A)(),Z=(0,E.wA)(),J=(0,y.Zp)(),{enqueueSnackbar:Q}=(0,b.dh)(),{dense:X,page:ee,order:oe,orderBy:te,rowsPerPage:le,setPage:ne,selected:ae,setSelected:re,onSort:ie,onChangeDense:se,onChangePage:de,onChangeRowsPerPage:ce}=(0,P.Ay)({defaultOrderBy:"createDate"}),[ue,me]=(0,l.useState)([]),[ve,pe]=(0,l.useState)(""),[he,fe]=(0,l.useState)("new"),[ge,xe]=(0,l.useState)(null),[Ae,je]=(0,l.useState)([]),[we,be]=(0,l.useState)(null),{currentTab:ye,onChangeTab:Ce}=(0,k.A)("all"),[Se,Fe]=(0,l.useState)("Title Insurance"),[De,Ee]=(0,l.useState)(!1),[_e,Te]=(0,l.useState)(""),[ke,Be]=(0,l.useState)(!1),[Pe,Ne]=(0,l.useState)(!1),[Ie,Le]=(0,l.useState)(),[Re,Oe]=(0,l.useState)(),[We,Ve]=(0,l.useState)([]),[qe,Me]=(0,l.useState)(!1),[Ue,Ye]=(0,l.useState)(null),{file:ze,filterData:Ge}=(Boolean(Ue),(0,N.d4)((e=>e.File)));console.log(ze,"file details"),(0,l.useEffect)((()=>{Z((0,q.xg)())}),[]),(0,l.useEffect)((()=>{null!==ze&&void 0!==ze&&ze.length&&me(ze)}),[ze]);const Ze=e=>{Be(!0),Le(e),(async()=>{try{var e;const t=await W.A.get("user/added/contacts");var o;console.log(t,"all your user api"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.status?Ve(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.currentUser):console.log("Status False in API")}catch(t){console.log(t,"all your user api error")}})()},Je=function(e){var o;let{tableData:t,comparator:l,filterName:n,filterStatus:a,filterService:r,filterStartDate:i,filterEndDate:s}=e;const d=null===(o=t)||void 0===o?void 0:o.map(((e,o)=>[e,o]));d.sort(((e,o)=>{const t=l(e[0],o[0]);return 0!==t?t:e[1]-o[1]})),t=d.map((e=>e[0])),n&&(t=t.filter((e=>{var o,t,l;return-1!==e.file_no.toLowerCase().indexOf(n.toLowerCase())||-1!==(null===e||void 0===e||null===(o=e.orders[0])||void 0===o||null===(t=o.subject_premise)||void 0===t||null===(l=t.property_location)||void 0===l?void 0:l.toLowerCase().indexOf(n.toLowerCase()))})));"all"!==a&&(t=t.filter((e=>e.status===a)));"new"!==r&&(t=t.filter((e=>e.status===r)));i&&s&&(t=t.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return t}({tableData:ue,comparator:(0,P.hz)(oe,te),filterName:ve,filterService:he,filterStatus:ye,filterStartDate:ge,filterEndDate:we}),Qe=X?56:76,Xe=!Je.length&&!!ve||!Je.length&&!!ye||!Je.length&&!!he||!Je.length&&!!we||!Je.length&&!!ge,He=async e=>{Me(!0);try{await W.A.post("user/share/".concat(e,"/").concat(Ie)).then((e=>{if(Me(!1),200===e.status||201===e.status){const o=e.data;console.log(o,"share file"),Q(o.message),Be(!1),je()}}))}catch(o){if(console.error(o),o.errors){Object.keys(o.errors).map((e=>Q(o.errors[e][0],{variant:"error"})))}}finally{Me(!1)}},Ke=(0,l.useRef)(""),$e=n.Ik().shape({fname:n.Yj().required("First Name is required"),lname:n.Yj().required("Last Name is required"),email:n.Yj().required("Email is required")}),eo=(0,l.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),oo=(0,D.mN)({resolver:(0,F.t)($e),defaultValues:eo}),{reset:to,watch:lo,setValue:no,handleSubmit:ao,formState:{isSubmitting:ro,errors:io}}=oo,so=(lo(),async(e,o,t)=>{try{var l;const r=new FormData;r.append("name","".concat(o," ").concat(t));const i=await W.A.post("user/contact/add/".concat(e),r);var n,a;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.status)Q("User Add In Your List",{variant:"success"}),He(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(a=n.contact)||void 0===a?void 0:a.id);else console.log("Status False in API")}catch(r){console.log(r,"add user in list api error")}});return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(G.default,{}),(0,Y.jsxs)(i.A,{maxWidth:!T&&"xl",children:[(0,Y.jsx)(U.A,{files:ze}),De&&(0,Y.jsx)(V.A,{}),(0,Y.jsxs)(a.A,{sx:{mt:5},children:[(0,Y.jsx)(s.A,{sx:{p:2,width:"100%"},children:(0,Y.jsx)(O.F5,{filterName:ve,filterService:he,filterStartDate:ge,filterEndDate:we,onFilterName:e=>{pe(e),ne(0)},onFilterService:e=>{fe(e.target.value)},onFilterStartDate:e=>{xe(e)},onFilterEndDate:e=>{be(e)}})}),(0,Y.jsx)(L.A,{children:(0,Y.jsx)(d.A,{sx:{minWidth:800,position:"relative"},children:(0,Y.jsxs)(c.A,{size:X?"small":"medium",sx:{overflowX:"hidden"},children:[(0,Y.jsx)(R.er,{order:oe,orderBy:te,headLabel:K,rowCount:ue.length,numSelected:ae.length,onSort:ie}),(0,Y.jsxs)(u.A,{children:[Je.slice(ee*le,ee*le+le).map((e=>(0,Y.jsx)(H,{row:e,onViewRow:()=>(e=>{J("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:{row:e}})})(e),onShareRow:()=>Ze(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return o=e.id,void J("/dashboard/order/".concat(o));var o},onDeleteRow:()=>{return o=e.id,Ee(!0),void W.A.delete("user/user_file/".concat(o)).then((e=>{if(console.log("response",e),Ee(!1),200===e.status||201===e.status){const e=ue.filter((e=>e.id!==o));re([]),me(e),Q("Delete Successfully")}})).catch((e=>{Ee(!1),e.errors&&Object.keys(e.errors).map((o=>Q(e.errors[o][0],{variant:"error"})))}));var o},CreateOrderByPdf:()=>(async e=>{try{var o;const t=new FormData;t.append("file_id",e);const l=await W.A.post("user/corpLienSearch",t);console.log(l,"create order by pdf"),null!==l&&void 0!==l&&null!==(o=l.data)&&void 0!==o&&o.status?Q("Succesfully order created",{variant:"success"}):console.log("Status False API create order by pdf")}catch(t){console.log(t,"create order by pdf api error")}})(e.id)},e.id))),(0,Y.jsx)(R.dO,{height:Qe,emptyRows:(0,P.xl)(ee,le,ue.length)}),(0,Y.jsx)(R.Sm,{isNotFound:Xe})]})]})})}),(0,Y.jsx)(s.A,{sx:{position:"relative"},children:(0,Y.jsx)(m.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Je.length,rowsPerPage:le,page:ee,onPageChange:de,onRowsPerPageChange:ce})})]}),(0,Y.jsx)(v.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:ke,onClose:()=>Be(!1),closeAfterTransition:!0,slots:{backdrop:p.A},slotProps:{backdrop:{timeout:500}},children:(0,Y.jsx)(h.A,{in:ke,children:(0,Y.jsxs)(s.A,{sx:$,children:[(0,Y.jsx)(f.A,{variant:"h5",sx:{mb:2},onClick:()=>Ne(!1),children:Pe&&(0,Y.jsx)(_.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,Y.jsxs)(g.Ay,{item:!0,xs:12,md:12,children:[(0,Y.jsx)(f.A,{variant:"h5",sx:{mb:2},children:Pe?"Add Contact":"Select User Into Your List"}),Pe?(0,Y.jsxs)(M.Op,{methods:oo,onSubmit:ao((async e=>{console.log(e.request,"request"),Me(!0);try{const o=new FormData;o.append("first_name",e.fname),o.append("last_name",e.lname),o.append("email",e.email),o.append("phone",e.phone),o.append("address",e.address),o.append("company_name",e.company),o.append("job_title",e.job),o.append("is_file_shared",!0),await W.A.post("user/contact/user/add",o).then((e=>{if(Me(!1),200===e.status||201===e.status){var o,t,l;const n=e.data;console.log(n,"add user new"),Q("successfully add new user"),Be(!1),to(),so(null===n||void 0===n||null===(o=n.user)||void 0===o?void 0:o.id,null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.first_name,null===n||void 0===n||null===(l=n.user)||void 0===l?void 0:l.last_name)}}))}catch(o){if(console.error(o),o.errors){Object.keys(o.errors).map((e=>Q(o.errors[e][0],{variant:"error"})))}}finally{Me(!1)}})),children:[(0,Y.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,Y.jsx)(M.o3,{name:"fname",label:"First Name"}),(0,Y.jsx)(M.o3,{name:"lname",label:"Last Name"}),(0,Y.jsx)(M.o3,{name:"email",label:"Email"}),(0,Y.jsx)(M.o3,{name:"phone",label:"Phone Nunber"}),(0,Y.jsx)(M.o3,{name:"address",label:"Address"}),(0,Y.jsx)(M.o3,{name:"company",label:"Company Name"}),(0,Y.jsx)(M.o3,{name:"job",label:"Job title"})]}),(0,Y.jsx)(x.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,Y.jsx)(C.A,{type:"submit",variant:"contained",loading:qe,children:"Add Contact"})})]}):(0,Y.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,Y.jsx)(x.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,Y.jsx)(A.A,{sx:{my:1,width:1},ref:Ke,label:"Search by first Name, Last Name & Email",value:(null===Ke||void 0===Ke||null===(o=Ke.current)||void 0===o?void 0:o.value)||"",onChange:e=>{const o=e.target.value.toLowerCase();if(Ke.current.value=o,""===Ke.current.value)je([]);else{const e=We.filter((e=>{var t,l,n;return(null===e||void 0===e||null===(t=e.Contact)||void 0===t?void 0:t.first_name.toLowerCase().includes(o))||(null===e||void 0===e||null===(l=e.Contact)||void 0===l?void 0:l.last_name.toLowerCase().includes(o))||(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.email.toLowerCase().includes(o))}));console.log(e,"filteredData"),je(e)}},size:"small"})}),(0,Y.jsx)(j.A,{}),(null===Ae||void 0===Ae?void 0:Ae.length)>0?Ae.map(((e,o)=>{var t,l;return(0,Y.jsxs)(x.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,Y.jsxs)(f.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,Y.jsx)(I.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(t=e.Contact)||void 0===t?void 0:t.first_name," ").concat(null===e||void 0===e||null===(l=e.Contact)||void 0===l?void 0:l.last_name)]}),(0,Y.jsx)(x.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,Y.jsx)(C.A,{type:"submit",variant:"contained",loading:qe,onClick:()=>He(null===e||void 0===e?void 0:e.id),children:"Share"})})]},o)})):(0,Y.jsx)(x.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,Y.jsx)(w.A,{variant:"contained",onClick:()=>Ne(!0),startIcon:(0,Y.jsx)(I.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})]})]})}},52294:(e,o,t)=>{t.r(o),t.d(o,{default:()=>u});var l=t(14857),n=t(79537),a=t(60899),r=t(33507),i=t(86608),s=t(8279),d=t(48812),c=t(44414);function u(){const{user:e}=(0,r.A)(),o=(0,l.A)(),{themeStretch:t}=(0,i.A)();return(0,c.jsx)(s.A,{title:"Dashboard",children:(0,c.jsx)(n.A,{maxWidth:!t&&"xl",children:(0,c.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,c.jsx)(a.Ay,{item:!0,xs:12,md:12,children:(0,c.jsx)(d._o,{displayName:null===e||void 0===e?void 0:e.first_name})}),(0,c.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,c.jsx)(d.yi,{title:"Total Active Users",percent:80,total:18765,chartColor:o.palette.primary.main,chartData:[5,18,12,51,68,11,39,37,27,20],icon:"/icons/icon_yellow.png",color:"#FFA63C"})}),(0,c.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,c.jsx)(d.yi,{title:"Total Installed",percent:80,total:4876,chartColor:o.palette.chart.blue[0],chartData:[20,41,63,33,28,35,50,46,11,26],icon:"/icons/icon_red.png",color:"#FF562F"})}),(0,c.jsx)(a.Ay,{item:!0,xs:12,md:4,children:(0,c.jsx)(d.yi,{title:"Total Downloads",percent:80,total:678,chartColor:o.palette.chart.red[0],chartData:[8,9,31,8,16,37,8,33,46,31],icon:"/icons/icon_sky.png",color:"#2D99FFD9"})})]})})})}}}]);