"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4241,5180],{64241:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var a=t(9950),n=t(79537),r=t(48089),i=t(45180),l=t(6368),s=t(12257),d=t(8145),c=t(60899),u=t(50704),p=t(75165),v=t(9449),m=t(29031),f=t(48711),h=t(13564),x=t(64267),g=t.n(x),A=t(8279),y=t(30744),b=t(86608),C=t(90260),w=t(30818),j=t(32741),S=t(44414);const R=[{title:"Acknowledgments",path:C.nB.legalForms.acknowledgments},{title:"Affidavit for Credit Against",path:C.nB.legalForms.affidavitforCreditAgainst},{title:"Affidavit in Lieu of Registration",path:C.nB.legalForms.affidavitinLieuofRegistration},{title:"Affidavit in Lieu of Registration 2009",path:C.nB.legalForms.affidavitinLieuofRegistration2009}];function k(){var e;const{enqueueSnackbar:o}=(0,m.dh)(),{themeStretch:t}=(0,b.A)(),[x]=(0,a.useState)(R),[C,k]=(0,a.useState)(x),[N,M]=(0,a.useState)(),[L,F]=(0,a.useState)(),[I,_]=(0,a.useState)(null),[T,H]=(0,a.useState)(!1),[B,D]=(0,a.useState)([]),[U,z]=(0,a.useState)(!1),[P,E]=(0,a.useState)(!1),[O,V]=(0,a.useState)(),W=((0,h.Zp)(),(0,a.useRef)("")),{file:q}=(0,y.d4)((e=>e.File));console.log(q,"file details"),(0,a.useEffect)((()=>{(0,y.JD)((0,w.mv)())}),[]);const G=(0,v.mN)(),{setValue:J,getValues:Z}=G,K=g()((e=>{console.log(e,"value"),F(e)}),300),Q=(0,a.useMemo)((()=>{if(console.log("Searching for:",L),null===L||void 0===L||!L.trim())return q.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e?void 0:e.file_no,")"),value:null===e||void 0===e?void 0:e.id})));const e=L.toLowerCase();return q.filter((o=>{var t,a,n,r,i,l,s,d;return null!==(t=null===o||void 0===o||null===(a=o.file_name)||void 0===a?void 0:a.toLowerCase().includes(e))&&void 0!==t&&t||null!==(n=null===o||void 0===o||null===(r=o.file_no)||void 0===r?void 0:r.toLowerCase().includes(e))&&void 0!==n&&n||null!==(i=null===o||void 0===o||null===(l=o.DummyData)||void 0===l||null===(s=l.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.toLowerCase().includes(e))&&void 0!==i&&i})).map((e=>{var o,t;return{label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e?void 0:e.file_no,") - ").concat(null===e||void 0===e||null===(o=e.DummyData)||void 0===o||null===(t=o.subject_premise)||void 0===t?void 0:t.property_location),value:null===e||void 0===e?void 0:e.id}}))}),[L,q]);(0,a.useCallback)((e=>{if(e&&e.length>0){const o=e[0];console.log(o,"acceptedFile"),V(o.name),J("file",o)}}),[J]);return(0,S.jsx)(A.A,{title:"Invoices",children:(0,S.jsx)(n.A,{maxWidth:!t&&"lg",children:(0,S.jsxs)(r.A,{sx:{my:5},children:[(0,S.jsx)(i.A,{sx:{p:5,pb:3},title:"Invoices"}),(0,S.jsxs)(l.A,{sx:{px:2},children:[(0,S.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,px:2},children:[(0,S.jsx)(s.A,{sx:{my:3,width:"25%"},children:(0,S.jsx)(f.Ay,{options:Q,onInputChange:K,onChange:e=>{const o=e.value;console.log(o,"newFileId"),M(o)},isSearchable:"true",placeholder:"Select a File",className:"w-100 py-5",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"8px",border:o.isFocused?"2px solid #1976d2":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px rgba(25, 118, 210, 0.5)":"none","&:hover":{borderColor:"#1976d2"},minHeight:"48px"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999}),option:(e,o)=>({...e,backgroundColor:o.isFocused?"#f5f5f5":"white",color:"black",padding:"10px 15px","&:active":{backgroundColor:"#e0e0e0"}}),placeholder:e=>({...e,color:"#6c757d",fontSize:"16px"}),singleValue:e=>({...e,color:"#495057",fontSize:"16px"}),dropdownIndicator:(e,o)=>({...e,color:o.isFocused?"#1976d2":"#6c757d","&:hover":{color:"#1976d2"}}),indicatorSeparator:e=>({...e,display:"none"})}})}),(0,S.jsx)(s.A,{sx:{my:3,width:"75%"},children:(0,S.jsx)(d.A,{ref:W,label:"Search",value:(null===W||void 0===W||null===(e=W.current)||void 0===e?void 0:e.value)||"",onChange:e=>{const o=e.target.value.toLowerCase();W.current.value=o;const t=x.filter((e=>e.title.toLowerCase().includes(o)));k(t)},size:"medium",fullWidth:!0})})]}),(0,S.jsx)(c.Ay,{container:!0,spacing:2,margin:"auto",children:(0,S.jsx)(c.Ay,{item:!0,xs:12,md:12,children:(0,S.jsxs)(u.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:[(0,S.jsx)("img",{src:"/images/invoice.jpeg",style:{width:"500px",height:"500px",margin:"auto",border:"1px solid lightblue"},alt:"invoice"}),(0,S.jsx)(l.A,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:(0,S.jsx)(p.A,{variant:"contained",onClick:()=>(async()=>{H(!0);try{var e;const t=await j.A.post("employee/word/invoice_doc/".concat(N),{},{responseType:"blob"});if(console.log(t,"response"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===(null===(e=t.data)||void 0===e?void 0:e.type)){const e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),o=window.URL.createObjectURL(e),a=document.createElement("a");a.href=o,a.setAttribute("download","Invoice.docx"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(o),console.log("File downloaded successfully")}else o("this file  can not generate invoice",{variant:"error"})}catch(t){console.error("Error downloading file:",t),o("Need To Update Order Record!",{variant:"error"})}finally{H(!1),_(null)}})(),children:"Create Invoice"})})]})})})]})]})})})}},50704:(e,o,t)=>{t.d(o,{A:()=>f});var a=t(58168),n=t(98587),r=t(9950),i=t(2803),l=t(5747),s=t(7951),d=t(79859),c=t(37665);function u(e){return(0,c.A)("MuiCardContent",e)}(0,t(44245).A)("MuiCardContent",["root"]);var p=t(44414);const v=["className","component"],m=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),f=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCardContent"}),{className:r,component:s="div"}=t,c=(0,n.A)(t,v),f=(0,a.A)({},t,{component:s}),h=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"]},u,o)})(f);return(0,p.jsx)(m,(0,a.A)({as:s,className:(0,i.A)(h.root,r),ownerState:f,ref:o},c))}))},45180:(e,o,t)=>{t.d(o,{A:()=>y});var a=t(98587),n=t(58168),r=t(9950),i=t(2803),l=t(5747),s=t(82053),d=t(79859),c=t(7951),u=t(37665);function p(e){return(0,u.A)("MuiCardHeader",e)}const v=(0,t(44245).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=t(44414);const f=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],h=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,o)=>(0,n.A)({["& .".concat(v.title)]:o.title,["& .".concat(v.subheader)]:o.subheader},o.root)})({display:"flex",alignItems:"center",padding:16}),x=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,o)=>o.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),g=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,o)=>o.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,o)=>o.content})({flex:"1 1 auto"}),y=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCardHeader"}),{action:r,avatar:c,className:u,component:v="div",disableTypography:y=!1,subheader:b,subheaderTypographyProps:C,title:w,titleTypographyProps:j}=t,S=(0,a.A)(t,f),R=(0,n.A)({},t,{component:v,disableTypography:y}),k=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,o)})(R);let N=w;null==N||N.type===s.A||y||(N=(0,m.jsx)(s.A,(0,n.A)({variant:c?"body2":"h5",className:k.title,component:"span",display:"block"},j,{children:N})));let M=b;return null==M||M.type===s.A||y||(M=(0,m.jsx)(s.A,(0,n.A)({variant:c?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},C,{children:M}))),(0,m.jsxs)(h,(0,n.A)({className:(0,i.A)(k.root,u),as:v,ref:o,ownerState:R},S,{children:[c&&(0,m.jsx)(x,{className:k.avatar,ownerState:R,children:c}),(0,m.jsxs)(A,{className:k.content,ownerState:R,children:[N,M]}),r&&(0,m.jsx)(g,{className:k.action,ownerState:R,children:r})]}))}))},48089:(e,o,t)=>{t.d(o,{A:()=>h});var a=t(58168),n=t(98587),r=t(9950),i=t(2803),l=t(5747),s=t(7951),d=t(79859),c=t(70693),u=t(37665);function p(e){return(0,u.A)("MuiCard",e)}(0,t(44245).A)("MuiCard",["root"]);var v=t(44414);const m=["className","raised"],f=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({overflow:"hidden"}))),h=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCard"}),{className:r,raised:s=!1}=t,c=(0,n.A)(t,m),u=(0,a.A)({},t,{raised:s}),h=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"]},p,o)})(u);return(0,v.jsx)(f,(0,a.A)({className:(0,i.A)(h.root,r),elevation:s?8:void 0,ref:o,ownerState:u},c))}))}}]);