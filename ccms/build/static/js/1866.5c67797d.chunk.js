"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[1866],{47290:(e,o,n)=>{n.d(o,{A:()=>U});var t=n(9950),a=n(60666),l=n(79537),i=n(48089),s=n(68367),d=n(84142),r=n(12257),c=n(82053),p=n(1320),u=n(15769),x=n(34075),m=n(6368),g=n(91434),h=n(53984),v=n(73447),f=n(57191),A=n(60899),j=n(8145),b=n(25979),C=n(3788),y=n(93523),w=n(23266),S=n(28095),_=n(29031),k=n(13564),R=n(9449),B=n(68654),T=(n(8279),n(30744),n(86608)),D=n(38861),P=(n(63358),n(90260),n(66075),n(52401),n(30818),n(32741)),E=n(44185),z=n(72870),W=(n(12480),n(5568),n(93012)),N=n(46765),O=n(14857),F=n(9213),I=n(21671),M=n(25715),V=(n(22704),n(33949),n(44414));function q(e){let{row:o,selected:n,onSelectRow:a,onAssign:l,onViewRow:i,onDocumentUpload:s,onDownloadDocument:d,onDeleteRow:r,onShareRow:p,onEditRow:u,onOrderContin:x,onStatusChange:m}=e;(0,O.A)();const{pathname:g}=(0,k.zy)();g.includes("admin"),g.includes("employee"),(0,k.Zp)();console.log(o,"row");const{updated_at:h,email:v,company_name:f,last_name:A,middle_name:j,first_name:b,id:C,name:y,Contact:w}=o,[S,_]=(0,t.useState)(null),[R,B]=(Boolean(S),(0,t.useState)(null));return(0,V.jsxs)(F.A,{hover:!0,selected:n,children:[(0,V.jsx)(I.A,{align:"center",sx:{paddingTop:"5px",paddingBottom:"5px",fontSize:"12px"},onClick:()=>i(),children:(0,V.jsxs)(c.A,{sx:{color:"#fff",backgroundColor:(0,M.N)(),borderRadius:"15%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",null===w||void 0===w?void 0:w.id]})}),(0,V.jsx)(I.A,{align:"left",sx:{paddingTop:"5px",paddingBottom:"5px",fontSize:"12px"},children:y}),(0,V.jsx)(I.A,{align:"left",sx:{paddingTop:"5px",paddingBottom:"5px",fontSize:"12px"},children:null===w||void 0===w?void 0:w.email}),(0,V.jsx)(I.A,{align:"left",sx:{paddingTop:"5px",paddingBottom:"5px",cursor:"pointer",fontWeight:"bold"},onClick:()=>{u(),B(null)},children:"Edit"})]})}const L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};function U(){var e,o,n,O,F,I;const{themeStretch:M}=(0,T.A)(),{pathname:U}=(0,k.zy)(),Y=U.includes("employee"),[Z,G]=(0,t.useState)(!1),[H,J]=(0,t.useState)([]),[Q,K]=(0,t.useState)(),[X,$]=(0,t.useState)(!1),[ee,oe]=(0,t.useState)(""),[ne,te]=(0,t.useState)("new"),[ae,le]=(0,t.useState)(null),[ie,se]=(0,t.useState)(null),{currentTab:de,onChangeTab:re}=(0,N.A)("all"),ce=(0,k.Zp)(),{enqueueSnackbar:pe}=(0,_.dh)(),{dense:ue,page:xe,order:me,orderBy:ge,rowsPerPage:he,setPage:ve,selected:fe,setRowsPerPage:Ae,setSelected:je,onSort:be,onChangeDense:Ce,onChangePage:ye,onChangeRowsPerPage:we}=(0,D.Ay)({defaultOrderBy:"createDate"}),[Se,_e]=(0,t.useState)([]),[ke,Re]=(0,t.useState)(),[Be,Te]=(0,t.useState)({}),[De,Pe]=(0,t.useState)(!1);(0,t.useEffect)((()=>{Ae(3),(async()=>{try{var e;const n=await P.A.get("".concat(Y?"employee":"user","/exists/contacts"));var o;console.log(n,"all user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?J(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.users):console.log("Status False in API")}catch(n){console.log(n,"all user api error")}})()}),[]);const Ee=async()=>{try{var e;const n=await P.A.get("".concat(Y?"employee":"user","/added/contacts"));var o;if(console.log(n,"exist users api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status)_e(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.currentUser);else console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}};(0,t.useEffect)((()=>{Ee()}),[]);(0,t.useRef)("");const ze=a.Ik().shape({fname:a.Yj().required("First Name is required"),lname:a.Yj().required("Last Name is required"),email:a.Yj().required("Email is required"),phone:a.Yj().min(11).max(15).required("Phone number min 11 digit and max 15 digit is required")}),We=(0,t.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),Ne=(0,R.mN)({resolver:(0,B.t)(ze),defaultValues:We}),{reset:Oe,watch:Fe,setValue:Ie,handleSubmit:Me,formState:{isSubmitting:Ve,errors:qe}}=Ne,Le=(Fe(),e=>{const{name:o,value:n}=null===e||void 0===e?void 0:e.target;Te((e=>({...e,[o]:n})))});console.log(Be,"UpdatedData");const Ue=function(e){var o;let{tableData:n,comparator:t,filterName:a,filterStatus:l,filterService:i,filterStartDate:s,filterEndDate:d}=e;const r=null===(o=n)||void 0===o?void 0:o.map(((e,o)=>[e,o]));r.sort(((e,o)=>{const n=t(e[0],o[0]);return 0!==n?n:e[1]-o[1]})),n=r.map((e=>e[0])),a&&(n=n.filter((e=>{var o,n,t;return-1!==(null===(o=e.Contact)||void 0===o?void 0:o.first_name.toLowerCase().indexOf(a.toLowerCase()))||-1!==(null===(n=e.Contact)||void 0===n?void 0:n.last_name.toLowerCase().indexOf(a.toLowerCase()))||-1!==(null===(t=e.Contact)||void 0===t?void 0:t.email.toLowerCase().indexOf(a.toLowerCase()))})));"all"!==l&&(n=n.filter((e=>{var o;return(null===(o=e.Contact)||void 0===o?void 0:o.job_title)===l})));"new"!==i&&(n=n.filter((e=>e.status===i)));s&&d&&(n=n.filter((e=>e.updated_at.getTime()>=s.getTime()&&e.updated_at.getTime()<=d.getTime())));return n}({tableData:Se,comparator:(0,D.hz)(me,ge),filterName:ee,filterService:ne,filterStatus:de,filterStartDate:ae,filterEndDate:ie}),Ye=ue?56:76,Ze=!Ue.length&&!!ee||!Ue.length&&!!de||!Ue.length&&!!ne||!Ue.length&&!!ie||!Ue.length&&!!ae;return(0,V.jsxs)(l.A,{maxWidth:!M&&"lg",children:[(0,V.jsxs)(i.A,{sx:{borderRadius:"0px",marginTop:"10px"},children:[(0,V.jsxs)(s.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:de,onChange:re,sx:{px:2,bgcolor:"#e1e1e1"},children:[(0,V.jsx)(d.A,{disableRipple:!0,value:"all",label:(0,V.jsx)(r.A,{spacing:1,direction:"row",alignItems:"center",children:(0,V.jsx)("div",{children:"All"})}),sx:{color:"All"===de?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}}},"all"),(0,V.jsx)(d.A,{disableRipple:!0,value:"real_state_agent",label:(0,V.jsx)(r.A,{spacing:1,direction:"row",alignItems:"center",children:(0,V.jsx)("div",{children:"Real State Agents"})}),sx:{color:"real_state_agent"===de?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}}},"real_state_agent"),(0,V.jsx)(d.A,{disableRipple:!0,value:"mortage_broker",sx:{color:"mortage_broker"===de?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}},label:(0,V.jsx)(r.A,{spacing:1,direction:"row",alignItems:"center",children:(0,V.jsx)("div",{children:"Mortage Broker"})})},"mortage_broker"),(0,V.jsx)(d.A,{disableRipple:!0,value:"notray",sx:{color:"notray"===de?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}},label:(0,V.jsx)(r.A,{spacing:1,direction:"row",alignItems:"center",children:(0,V.jsx)("div",{children:"Notray"})})},"notray")]}),(0,V.jsx)(c.A,{variant:"h5",padding:"15px",children:"Add Contact"}),(0,V.jsx)(E.A,{children:(0,V.jsx)(p.A,{sx:{position:"relative"},children:(0,V.jsx)(u.A,{size:ue?"small":"medium",children:(0,V.jsxs)(x.A,{children:[Ue.slice(xe*he,xe*he+he).map((e=>(0,V.jsx)(q,{row:e,onShareRow:()=>{return o=e.id,void ce(Y?"/employee/usershared/".concat(o):"/dashboard/usershared/".concat(o));var o},onEditRow:()=>(async e=>{console.log(e,"edit row"),Re(e),Pe(!0),$(!0)})(e),onDeleteRow:()=>(async e=>{try{var o;const t=await P.A.get("".concat(Y?"employee":"user","/remove/contact/").concat(e));var n;console.log(t,"contact delete"),null!==t&&void 0!==t&&null!==(o=t.data)&&void 0!==o&&o.status?(pe(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,{variant:"success"}),Ee()):console.log("contact delete")}catch(t){console.log(t,"contact delete error")}})(null===e||void 0===e?void 0:e.id)},e.id))),(0,V.jsx)(z.dO,{height:Ye,emptyRows:(0,D.xl)(xe,he,Se.length)}),(0,V.jsx)(z.Sm,{isNotFound:Ze})]})})})}),(0,V.jsx)(m.A,{sx:{position:"relative"},children:(0,V.jsx)(g.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Ue.length,rowsPerPage:he,page:xe,onPageChange:ye,onRowsPerPageChange:we})})]}),(0,V.jsx)(h.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:X,onClose:()=>{$(!1),Pe(!1)},closeAfterTransition:!0,slots:{backdrop:v.A},slotProps:{backdrop:{timeout:500}},children:(0,V.jsx)(f.A,{in:X,children:(0,V.jsx)(m.A,{sx:L,children:De?(0,V.jsxs)(A.Ay,{item:!0,xs:12,md:12,children:[(0,V.jsx)(c.A,{variant:"h5",sx:{mb:2},children:"Edit Contact Details"}),(0,V.jsxs)(m.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,V.jsx)(j.A,{name:"fname",label:"First Name",value:null===Be||void 0===Be?void 0:Be.fname,defaultValue:null===ke||void 0===ke||null===(e=ke.Contact)||void 0===e?void 0:e.first_name,onChange:e=>Le(e)}),(0,V.jsx)(j.A,{name:"lname",label:"Last Name",value:null===Be||void 0===Be?void 0:Be.lname,defaultValue:null===ke||void 0===ke||null===(o=ke.Contact)||void 0===o?void 0:o.last_name,onChange:e=>Le(e)}),(0,V.jsx)(j.A,{name:"phone",label:"Phone Nunber",value:null===Be||void 0===Be?void 0:Be.phone,defaultValue:null===ke||void 0===ke||null===(n=ke.Contact)||void 0===n?void 0:n.phone,onChange:e=>Le(e)}),(0,V.jsx)(j.A,{name:"address",label:"Address",value:null===Be||void 0===Be?void 0:Be.address,defaultValue:null===ke||void 0===ke||null===(O=ke.Contact)||void 0===O?void 0:O.address,onChange:e=>Le(e)}),(0,V.jsx)(j.A,{name:"company",label:"Company Name",value:null===Be||void 0===Be?void 0:Be.company,defaultValue:null===ke||void 0===ke||null===(F=ke.Contact)||void 0===F?void 0:F.company_name,onChange:e=>Le(e)}),(0,V.jsxs)(b.A,{fullWidth:!0,children:[(0,V.jsx)(C.A,{id:"demo-simple-select-label",children:"Select Job Title"}),(0,V.jsxs)(y.A,{name:"job",labelId:"demo-simple-select-label",id:"demo-simple-select",value:null===Be||void 0===Be?void 0:Be.job,label:"Select Job Title",onChange:e=>Le(e),defaultValue:null===ke||void 0===ke||null===(I=ke.Contact)||void 0===I?void 0:I.job_title,children:[(0,V.jsx)(w.A,{value:"real_state_agent",children:"RealState Agent"}),(0,V.jsx)(w.A,{value:"mortage_broker",children:"Mortage Broker"}),(0,V.jsx)(w.A,{value:"notray",children:"Notray"})]})]})]}),(0,V.jsx)(r.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,V.jsx)(S.A,{type:"button",variant:"contained",loading:Z,onClick:()=>(async e=>{G(!0);try{var o,n,t,a,l,i,s;const d=new FormData;d.append("name","".concat(Be.fname," ").concat(Be.lname)||"".concat(null===ke||void 0===ke||null===(o=ke.Contact)||void 0===o?void 0:o.first_name," ").concat(null===ke||void 0===ke||null===(n=ke.Contact)||void 0===n?void 0:n.last_name)),d.append("phone",Be.phone||(null===ke||void 0===ke||null===(t=ke.Contact)||void 0===t?void 0:t.phone)),d.append("address",Be.address||(null===ke||void 0===ke||null===(a=ke.Contact)||void 0===a?void 0:a.address)),d.append("company_name",Be.company||(null===ke||void 0===ke||null===(l=ke.Contact)||void 0===l?void 0:l.company_name)),d.append("job_title",Be.job||(null===ke||void 0===ke||null===(i=ke.Contact)||void 0===i?void 0:i.job_title));const r=await P.A.post("".concat(Y?"employee":"user","/update/contact/").concat(e),d);console.log(r,"update user api"),null!==r&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.status?(pe("Contact Updated ",{variant:"success"}),G(!1),Pe(!1),Te({}),$(!1),Ee()):(console.log("Status False in API"),G(!1))}catch(d){G(!1),console.log(d,"add user in list api error")}})(null===ke||void 0===ke?void 0:ke.id),children:"Update Contact"})})]}):(0,V.jsx)(W.A,{getAllYourUser:Ee,setOpen:$,close:$})})})})]})}},162:(e,o,n)=>{n.d(o,{A:()=>p});var t=n(60899),a=n(48089),l=n(50704),i=n(82053),s=n(6368),d=n(62854),r=n(74745),c=n(44414);const p=()=>{const e=[{name:"Brian Griffin",message:"wants to collaborate",time:"1 day ago",avatar:"https://i.pravatar.cc/40?img=1"},{name:"Hey Peter",message:"We got a new user research opportunity for you. Alan from The Mayor\u2019s Office is looking for people like you.",time:"1 week ago",avatar:"https://i.pravatar.cc/40?img=2"},{name:"Hey Peter",message:"We got a new user research opportunity for you. Nate\u2019s is looking for people like you.",time:"1 week ago",avatar:"https://i.pravatar.cc/40?img=3"}];return(0,c.jsx)(t.Ay,{item:!0,xs:12,md:4,children:(0,c.jsx)(a.A,{sx:{borderRadius:2,boxShadow:2},children:(0,c.jsxs)(l.A,{sx:{padding:"0px"},children:[(0,c.jsx)(i.A,{variant:"h6",fontWeight:"bold",m:2,children:"Announcement"}),e.map(((o,n)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.A,{display:"flex",alignItems:"start",m:2,children:[(0,c.jsx)(d.A,{src:o.avatar,sx:{mr:2}}),(0,c.jsxs)(s.A,{children:[(0,c.jsx)(i.A,{children:o.name}),(0,c.jsx)(i.A,{sx:{fontSize:"12px",fontWeight:400},color:"textSecondary",children:o.message}),(0,c.jsx)(i.A,{variant:"caption",color:"textSecondary",children:o.time})]})]}),n<e.length-1&&(0,c.jsx)(r.A,{})]})))]})})})}},20798:(e,o,n)=>{n.d(o,{A:()=>f});var t=n(60899),a=n(48089),l=n(50704),i=n(82053),s=n(75165),d=n(27898),r=n(64085),c=n(58629),p=n(79196),u=n(11331),x=n(8499),m=n(26689),g=n(90260),h=n(44414);const v=[{label:"Overview",icon:(0,h.jsx)(d.A,{}),path:g.nB.general.app},{label:"Orders",icon:(0,h.jsx)(r.A,{}),path:g.nB.orders.allOrders},{label:"Documents",icon:(0,h.jsx)(c.A,{}),path:g.nB.legalForm},{label:"Calendar",icon:(0,h.jsx)(p.A,{}),path:g.nB.calendar},{label:"Calculate Closing costs",icon:(0,h.jsx)(u.A,{}),path:g.nB.calculateClosingCost},{label:"Create File",icon:(0,h.jsx)(x.A,{}),path:"/dashboard/addfile"}],f=()=>(0,h.jsx)(t.Ay,{item:!0,xs:12,md:4,children:(0,h.jsx)(a.A,{sx:{borderRadius:2,boxShadow:2,height:"333px"},children:(0,h.jsxs)(l.A,{children:[(0,h.jsx)(i.A,{variant:"h6",fontWeight:"bold",children:"Quick Links"}),(0,h.jsx)(t.Ay,{container:!0,spacing:2,mt:1,children:v.map(((e,o)=>(0,h.jsx)(t.Ay,{item:!0,xs:6,children:(0,h.jsxs)(s.A,{component:m.N_,to:e.path,fullWidth:!0,variant:"contained",sx:{bgcolor:"#4C32A7",color:"#fff",textTransform:"none",display:"flex",justifyContent:"flex-start",gap:1,fontWeight:200,textAlign:"start",fontSize:"12px",boxShadow:"none",padding:"12px 24px","&:hover":{bgcolor:"#3A238F"}},children:[e.icon,e.label]})},o)))})]})})})},5568:(e,o,n)=>{n.d(o,{A:()=>x});var t=n(9950),a=n(13564),l=n(14857),i=n(9213),s=n(21671),d=n(93038),r=n(23266),c=(n(90260),n(22704),n(33949),n(66075)),p=n(72870),u=n(44414);function x(e){let{row:o,selected:n,onSelectRow:x,onAssign:m,onViewRow:g,onDocumentUpload:h,onDownloadDocument:v,onDeleteRow:f,onShareRow:A,onEditRow:j,onOrderContin:b,onStatusChange:C}=e;(0,l.A)();const{pathname:y}=(0,a.zy)(),w=(y.includes("admin"),y.includes("employee"));(0,a.Zp)();console.log(o,"row");const{updated_at:S,email:_,company_name:k,last_name:R,middle_name:B,first_name:T,id:D,name:P,Contact:E}=o,[z,W]=(0,t.useState)(null),[N,O]=(Boolean(z),(0,t.useState)(null)),F=()=>{O(null)};return(0,u.jsxs)(i.A,{hover:!0,selected:n,children:[(x||n)&&(0,u.jsx)(s.A,{padding:"checkbox",children:(0,u.jsx)(d.A,{checked:n,onClick:x})}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===E||void 0===E?void 0:E.id}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:P}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===E||void 0===E?void 0:E.email}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400",color:"#00ab55"},children:null===E||void 0===E?void 0:E.phone}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===E||void 0===E?void 0:E.address}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===E||void 0===E?void 0:E.company_name}),(0,u.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===E||void 0===E?void 0:E.job_title}),(0,u.jsx)(s.A,{align:"right",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:(0,u.jsx)(p.ZE,{open:N,onOpen:e=>{O(e.currentTarget)},onClose:F,actions:(0,u.jsxs)(u.Fragment,{children:[A&&!w&&(0,u.jsxs)(r.A,{onClick:()=>{A(),F()},children:[(0,u.jsx)(c.A,{icon:"material-symbols:share"}),"All Share Orders"]}),f&&(0,u.jsxs)(r.A,{onClick:()=>{f(),F()},sx:{color:"error.main"},children:[(0,u.jsx)(c.A,{icon:"eva:trash-2-outline"}),"Delete"]}),j&&(0,u.jsxs)(r.A,{onClick:()=>{j(),F()},children:[(0,u.jsx)(c.A,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}},25715:(e,o,n)=>{n.d(o,{N:()=>t});const t=()=>{let e="#";for(let o=0;o<6;o++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}}}]);