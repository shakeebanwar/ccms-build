"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[2543],{83752:(e,l,t)=>{t.d(l,{A:()=>R});var o=t(37088),n=t(60228),a=t(9950),i=t(7951),r=t(19657),s=t(73447),d=t(12257),c=t(82053),u=t(74745),p=t(86608),m=t(61770),v=t(16243),f=t(66075),g=t(44185),h=t(20131),x=t(53065),b=t(44414);const A=(0,i.Ay)("span")((e=>{let{theme:l}=e;return{...(0,m.A)(l).bgBlur({opacity:.64}),right:0,top:"50%",position:"fixed",marginTop:l.spacing(-3),padding:l.spacing(.5),zIndex:l.zIndex.drawer+2,borderRadius:"24px 0 20px 24px",boxShadow:"-12px 12px 32px -4px ".concat((0,r.X4)("light"===l.palette.mode?l.palette.grey[600]:l.palette.common.black,.36))}})),y=(0,i.Ay)("span")((e=>{let{theme:l}=e;return{top:8,width:8,height:8,right:10,borderRadius:"50%",position:"absolute",backgroundColor:l.palette.error.main}}));function j(e){let{notDefault:l,open:t,onToggle:o}=e;return(0,b.jsxs)(A,{children:[l&&!t&&(0,b.jsx)(y,{}),(0,b.jsx)(x.A,{title:"Filter",placement:"left",children:(0,b.jsx)(h.ji,{color:"inherit",onClick:o,sx:{p:1.25,transition:e=>e.transitions.create("all"),"&:hover":{color:"primary.main",bgcolor:e=>(0,r.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},children:(0,b.jsx)(f.A,{icon:"material-symbols:filter-alt",width:20,height:20})})})]})}var _=t(60899),w=t(6368),C=t(8145),S=t(25979),D=t(3788),T=t(93523),B=t(23266),F=t(41205),L=t(43974),k=t(30744),E=t(30818),P=t(24642),N=t(32741);function I(e){let{files:l}=e;const t=(0,k.wA)();console.log(l,"files");const[o,n]=(0,a.useState)([]),[i,r]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[c,u]=(0,a.useState)({file_no:"",file_name:"",address:"",date:"",lender:"",transaction_type:"",buyers:"",sellers:""});(0,a.useEffect)((()=>{(async()=>{var e;const l=await N.A.get("user/file_buyers");console.log(l,"buyers"),n(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.buyers)})()}),[]);(0,a.useEffect)((()=>{(async()=>{var e;const l=await N.A.get("user/file_sellers");console.log(l,"sellers"),r(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.sellers)})()}),[]);const p=(e,l)=>{u((t=>({...t,[e]:l})))};return(0,a.useEffect)((()=>{const e=l.filter((e=>{var l,t,o,n,a,i;const r=null!==e&&void 0!==e&&e.updated_at?(0,L.A)(new Date(e.updated_at),"yyyy-MM-dd"):"",s=c.date?c.date:"",d=null!==e&&void 0!==e&&null!==(l=e.DummyData)&&void 0!==l&&l.buyers?e.DummyData.buyers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"",u=null!==e&&void 0!==e&&null!==(t=e.DummyData)&&void 0!==t&&t.sellers?e.DummyData.sellers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"";return(!c.file_no||e.file_no.toLowerCase().includes(c.file_no))&&(!c.file_name||e.file_name.toLowerCase().includes(c.file_name))&&(!c.address||(null===(o=e.DummyData)||void 0===o||null===(n=o.subject_premise)||void 0===n?void 0:n.property_location.toLowerCase().includes(c.address)))&&(!c.date||r===s)&&(!c.lender||(null===(a=e.DummyData)||void 0===a||null===(i=a.lender)||void 0===i?void 0:i.organization.toLowerCase().includes(c.lender)))&&(!c.transaction_type||e.transaction_type.toLowerCase().includes(c.transaction_type))&&(!c.buyers||d.includes(c.buyers.toLowerCase()))&&(!c.sellers||u.includes(c.sellers.toLowerCase()))}));d(e),console.log("Filtered Data:",e),t((0,E.AB)(e))}),[c,l]),console.log(c,"Filter"),(0,b.jsx)(_.Ay,{item:!0,xs:12,md:12,children:(0,b.jsxs)(w.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,b.jsx)(C.A,{name:"file_no",label:"File No #",value:c.file_no||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"file_name",label:"File Name",value:c.file_name||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"address",label:"Address",value:c.address||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(C.A,{name:"date",label:"Date",type:"date",value:c.date||"",onChange:e=>p(e.target.name,e.target.value),InputLabelProps:{shrink:!0}}),(0,b.jsx)(C.A,{name:"lender",label:"Lender",value:c.lender||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsxs)(S.A,{fullWidth:!0,children:[(0,b.jsx)(D.A,{id:"transaction-type-label",children:"Transaction Type"}),(0,b.jsx)(T.A,{name:"transaction_type",label:"Transaction Type",value:c.transaction_type||"",onChange:e=>p(e.target.name,e.target.value),labelId:"transaction-type-label",children:P.xW.map((e=>(0,b.jsx)(B.A,{value:e.value,children:e.label},e.value)))})]}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(F.A,{name:"buyers",options:o,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(C.A,{...e,label:"Search Buyer",variant:"outlined"}),value:o.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.buyers))||null,onChange:(e,l)=>{p("buyers","".concat(l.first_name," ").concat(l.last_name))},isOptionEqualToValue:(e,l)=>e.first_name===(null===l||void 0===l?void 0:l.first_name)&&e.last_name===(null===l||void 0===l?void 0:l.last_name)})}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(F.A,{name:"sellers",options:i,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(C.A,{...e,label:"Search Seller",variant:"outlined"}),value:i.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.sellers))||null,onChange:(e,l)=>{p("sellers","".concat(l.first_name," ").concat(l.last_name))},isOptionEqualToValue:(e,l)=>e.first_name===(null===l||void 0===l?void 0:l.first_name)&&e.last_name===(null===l||void 0===l?void 0:l.last_name)})})]})})}const O=(0,i.Ay)(o.m.div)((e=>{let{theme:l}=e;return{...(0,m.A)(l).bgBlur({color:l.palette.background.paper,opacity:.92}),top:0,right:0,bottom:0,display:"flex",position:"fixed",overflow:"hidden",width:v.LM.BASE_WIDTH,flexDirection:"column",margin:l.spacing(2),paddingBottom:l.spacing(3),zIndex:l.zIndex.drawer+3,borderRadius:1.5*Number(l.shape.borderRadius),boxShadow:"-24px 12px 32px -4px ".concat((0,r.X4)("light"===l.palette.mode?l.palette.grey[500]:l.palette.common.black,.16))}}));function R(e){let{files:l}=e;const{themeMode:t,themeDirection:o,themeColorPresets:i,themeStretch:r,themeLayout:m,onResetSetting:x}=(0,p.A)(),[A,y]=(0,a.useState)(!1),_=t!==v.L6.themeMode||o!==v.L6.themeDirection||i!==v.L6.themeColorPresets||m!==v.L6.themeLayout||r!==v.L6.themeStretch,w="rtl"!==o?(0,h.Sk)({distance:v.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inRight:(0,h.Sk)({distance:v.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inLeft;(0,a.useEffect)((()=>{document.body.style.overflow=A?"hidden":"unset"}),[A]);const C=()=>{y(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{open:A,onClick:C,sx:{background:"transparent",zIndex:e=>e.zIndex.drawer+1}}),!A&&(0,b.jsx)(j,{open:A,notDefault:_,onToggle:()=>{y((e=>!e))}}),(0,b.jsx)(n.N,{children:A&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(O,{...w,children:[(0,b.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,b.jsx)(c.A,{variant:"subtitle1",children:"Filters"}),(0,b.jsx)("div",{children:(0,b.jsx)(h.ji,{onClick:C,children:(0,b.jsx)(f.A,{icon:"eva:close-fill",width:20,height:20})})})]}),(0,b.jsx)(u.A,{sx:{borderStyle:"dashed"}}),(0,b.jsx)(g.A,{sx:{flexGrow:1},children:(0,b.jsx)(d.A,{spacing:3,sx:{p:3},children:(0,b.jsx)(I,{files:l})})})]})})})]})}},35407:(e,l,t)=>{t.r(l),t.d(l,{default:()=>oe});var o=t(9950),n=t(60666),a=t(48089),i=t(14857),r=t(79537),s=t(6368),d=t(68367),c=t(84142),u=t(12257),p=t(1320),m=t(15769),v=t(34075),f=t(91434),g=t(53984),h=t(73447),x=t(57191),b=t(82053),A=t(60899),y=t(8145),j=t(74745),_=t(75165),w=t(29031),C=t(13564),S=t(28095),D=t(7951),T=t(68654),B=t(9449),F=t(73878),L=t(14650),k=(t(61310),t(99425),t(1041),t(90260)),E=t(46765),P=t(86608),N=t(38861),I=t(30744),O=t(8279),R=t(66075),W=t(44185),z=t(63358),M=t(72870),q=t(12480),G=t(32741),U=t(95074),V=t(30818),Y=t(52401),X=(t(83752),t(22988),t(94906),t(24642),t(46631),t(64267),t(44414));k.nB.legalForms.acknowledgments,k.nB.legalForms.affidavitforCreditAgainst,k.nB.legalForms.affidavitinLieuofRegistration,k.nB.legalForms.affidavitinLieuofRegistration2009,k.nB.legalForms.carbonMonoxideDetectorAffidavit,k.nB.legalForms.certificationonNonForeignStatus,k.nB.legalForms.contractofSaleCondo,k.nB.legalForms.contractofSaleCoop,k.nB.legalForms.contractofSaleResidential,k.nB.legalForms.deedAdministrators,k.nB.legalForms.deedBargainandSalewithCovenants,k.nB.legalForms.deedBargainandSalewithoutCovenants,k.nB.legalForms.deedExecutors,k.nB.legalForms.deedQuitclaim,k.nB.legalForms.deedWarrantywithFullCovenants,k.nB.legalForms.it2663,k.nB.legalForms.it2664,k.nB.legalForms.nYStatutoryShortFormPOA,k.nB.legalForms.peconicBayRegionCommunityPreservationFund,k.nB.legalForms.RP5217,k.nB.legalForms.TP584;t(48812),t(29113);var H=t(33507),Z=t(9213),J=t(21671),Q=t(93038),K=t(34437);t(22704),t(33949);function $(e){var l,t,n,a,r,s,d,c,u,p,m,v,f,g,h,x,b,A,y,j,_,w,S,D,T,B,F,L;let{row:k,selected:E,onSelectRow:P,onAssign:N,onViewRow:I,onDocumentUpload:O,onDownloadDocument:R,onDeleteRow:W,onShareRow:z,onEditRow:M,onOrderContin:q,onStatusChange:G,CreateOrderByPdf:U}=e;(0,i.A)();const{pathname:V}=(0,C.zy)(),Y=(V.includes("admin"),(0,C.Zp)());console.log(k,"row");const{file_no:H,id:$,User:ee,file_pdf:le}=k,te=null===le||void 0===le?void 0:le.split("/");console.log(te,"pdfName");const[oe,ne]=(0,o.useState)(null),[ae,ie]=(Boolean(oe),(0,o.useState)(null)),re=()=>{Y("/dashboard/filepreview/".concat(null===k||void 0===k?void 0:k.id),{state:{row:k}})};return(0,X.jsxs)(Z.A,{hover:!0,selected:E,children:[(P||E)&&(0,X.jsx)(J.A,{padding:"checkbox",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(0,X.jsx)(Q.A,{checked:E,onClick:P})}),(0,X.jsx)(J.A,{sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},align:"left",onClick:re,children:null!==H?H:"N/A"}),(0,X.jsx)(J.A,{align:"left",onClick:re,sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(null===k||void 0===k||null===(l=k.orders)||void 0===l?void 0:l.length)>0&&(null!==(null===k||void 0===k||null===(t=k.orders[0])||void 0===t?void 0:t.subject_premise)||""!==(null===k||void 0===k||null===(n=k.orders[0])||void 0===n||null===(a=n.subject_premise)||void 0===a?void 0:a.property_location))?null===k||void 0===k||null===(r=k.orders[0])||void 0===r||null===(s=r.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.slice(0,50):"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:re,children:(null===k||void 0===k||null===(c=k.orders)||void 0===c?void 0:c.length)>0&&null!==(null===k||void 0===k||null===(u=k.orders[0])||void 0===u?void 0:u.CONTIN_COMPLETED_DATE)?(0,K.ts)(null===k||void 0===k||null===(p=k.orders[0])||void 0===p?void 0:p.CONTIN_COMPLETED_DATE):"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:re,children:(null===k||void 0===k||null===(m=k.orders)||void 0===m?void 0:m.length)>0&&null!==(null===k||void 0===k||null===(v=k.orders[0])||void 0===v?void 0:v.COMPLETED_DATE)?(0,K.ts)(null===k||void 0===k||null===(f=k.orders[0])||void 0===f?void 0:f.COMPLETED_DATE):"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:re,children:(null===k||void 0===k||null===(g=k.orders)||void 0===g?void 0:g.length)>0&&null!==(null===k||void 0===k||null===(h=k.orders[0])||void 0===h?void 0:h.order_payment)?(0,K.ts)(null===k||void 0===k||null===(x=k.orders[0])||void 0===x||null===(b=x.order_payment)||void 0===b?void 0:b.payment_date):"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:re,children:(null===k||void 0===k||null===(A=k.orders)||void 0===A?void 0:A.length)>0&&null!==(null===k||void 0===k||null===(y=k.orders[0])||void 0===y?void 0:y.order_payment)?null===k||void 0===k||null===(j=k.orders[0])||void 0===j||null===(_=j.order_payment)||void 0===_?void 0:_.payment_note:"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{color:"#DD9A19",textWrap:"nowrap",border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},onClick:re,children:(null===k||void 0===k||null===(w=k.orders)||void 0===w?void 0:w.length)>0&&null!==(null===k||void 0===k||null===(S=k.orders[0])||void 0===S?void 0:S.order_payment)?null!==k&&void 0!==k&&null!==(D=k.orders[0])&&void 0!==D&&null!==(T=D.order_payment)&&void 0!==T&&T.is_paid?"Paid":"false":"N/A"}),(0,X.jsx)(J.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"10px",paddingBottom:"10px",fontSize:"12px",fontWeight:"400"},children:(null===k||void 0===k||null===(B=k.orders)||void 0===B?void 0:B.length)>0&&null!==(null===k||void 0===k||null===(F=k.orders[0])||void 0===F?void 0:F.Total_Price)?null===k||void 0===k||null===(L=k.orders[0])||void 0===L?void 0:L.Total_Price:"N/A"})]})}const ee=[{id:"file_no",label:"File No",align:"left",width:200},{id:"address",label:"Address",align:"left",width:100},{id:"CONTIN_COMPLETED_DATE",label:"Contin Completed",align:"left",width:800},{id:"COMPLETED_DATE",label:"Completed Date",align:"left",width:800},{id:"payment_date",label:"Payment Date",align:"left",width:500},{id:"payment_date",label:"Notes",align:"left",width:500},{id:"is_paid",label:"Status",align:"left",width:500},{id:"Total_Price",label:"Invoice Price",align:"left",width:500}],le=[{api:"all",label:"All"},{api:"title_insurance",label:"Title Insurance"},{api:"coop_lien_search",label:"Coop Lien Searches"},{api:"eagle_9_policy",label:"Eagle 9 Policy"},{api:"coop_condo_offering_plans",label:"Coop/Condo offering plans"},{api:"ucc_create_file",label:"UCC"},{api:"exchange",label:"1031 Exchanges"},{api:"acris_e_tax_form",label:"Acris E-Tax forms"},{api:"other_searches",label:"Other Search / Request"},{api:"Sightline_Report",label:"Sightline\xae"}],te={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};(0,D.Ay)(a.A)((e=>{let{theme:l}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:l.palette.primary.lighter,[l.breakpoints.up("md")]:{display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between",height:"100%"}}}));function oe(e){var l;let{viewTabsRef:t}=e;(0,i.A)();const{user:D}=(0,H.A)(),{themeStretch:Z}=(0,P.A)(),J=(0,F.wA)(),Q=(0,C.Zp)(),{enqueueSnackbar:K}=(0,w.dh)(),{dense:oe,page:ne,order:ae,orderBy:ie,rowsPerPage:re,setPage:se,selected:de,setSelected:ce,onSort:ue,onChangeDense:pe,onChangePage:me,onChangeRowsPerPage:ve}=(0,N.Ay)({defaultOrderBy:"createDate"}),[fe,ge]=(0,o.useState)([]),[he,xe]=(0,o.useState)(""),[be,Ae]=(0,o.useState)("new"),[ye,je]=(0,o.useState)(null),[_e,we]=(0,o.useState)([]),[Ce,Se]=(0,o.useState)(null),{currentTab:De,onChangeTab:Te}=(0,E.A)("all"),[Be,Fe]=(0,o.useState)("All"),[Le,ke]=(0,o.useState)(!1),[Ee,Pe]=(0,o.useState)(""),[Ne,Ie]=(0,o.useState)(!1),[Oe,Re]=(0,o.useState)(!1),[We,ze]=(0,o.useState)(),[Me,qe]=(0,o.useState)(),[Ge,Ue]=(0,o.useState)([]),[Ve,Ye]=(0,o.useState)(!1),[Xe,He]=(0,o.useState)(null),{file:Ze,filterData:Je}=(Boolean(Xe),(0,I.d4)((e=>e.File)));console.log(Ze,"file details"),(0,o.useEffect)((()=>{"Sightline\xae"!==Be&&J((0,V.xg)(le.find((e=>e.label===Be)).api))}),[Be]),(0,o.useEffect)((()=>{null!==Ze&&void 0!==Ze&&Ze.length&&ge(Ze)}),[Ze]);const Qe=e=>{Ie(!0),ze(e),(async()=>{try{var e;const t=await G.A.get("user/added/contacts");var l;console.log(t,"all your user api"),null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.status?Ue(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.currentUser):console.log("Status False in API")}catch(t){console.log(t,"all your user api error")}})()},Ke=function(e){var l;let{tableData:t,comparator:o,filterName:n,filterStatus:a,filterService:i,filterStartDate:r,filterEndDate:s}=e;const d=null===(l=t)||void 0===l?void 0:l.map(((e,l)=>[e,l]));d.sort(((e,l)=>{const t=o(e[0],l[0]);return 0!==t?t:e[1]-l[1]})),t=d.map((e=>e[0])),n&&(t=t.filter((e=>{var l,t,o;return-1!==e.file_no.toLowerCase().indexOf(n.toLowerCase())||-1!==(null===e||void 0===e||null===(l=e.orders[0])||void 0===l||null===(t=l.subject_premise)||void 0===t||null===(o=t.property_location)||void 0===o?void 0:o.toLowerCase().indexOf(n.toLowerCase()))})));"all"!==a&&(t=t.filter((e=>e.status===a)));"new"!==i&&(t=t.filter((e=>e.status===i)));r&&s&&(t=t.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return t}({tableData:fe,comparator:(0,N.hz)(ae,ie),filterName:he,filterService:be,filterStatus:De,filterStartDate:ye,filterEndDate:Ce}),$e=oe?56:76,el=!Ke.length&&!!he||!Ke.length&&!!De||!Ke.length&&!!be||!Ke.length&&!!Ce||!Ke.length&&!!ye,ll=async e=>{Ye(!0);try{await G.A.post("user/share/".concat(e,"/").concat(We)).then((e=>{if(Ye(!1),200===e.status||201===e.status){const l=e.data;console.log(l,"share file"),K(l.message),Ie(!1),we()}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>K(l.errors[e][0],{variant:"error"})))}}finally{Ye(!1)}},tl=(0,o.useRef)(""),ol=n.Ik().shape({fname:n.Yj().required("First Name is required"),lname:n.Yj().required("Last Name is required"),email:n.Yj().required("Email is required")}),nl=(0,o.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),al=(0,B.mN)({resolver:(0,T.t)(ol),defaultValues:nl}),{reset:il,watch:rl,setValue:sl,handleSubmit:dl,formState:{isSubmitting:cl,errors:ul}}=al,pl=(rl(),async(e,l,t)=>{try{var o;const i=new FormData;i.append("name","".concat(l," ").concat(t));const r=await G.A.post("user/contact/add/".concat(e),i);var n,a;if(console.log(r,"add user in list api"),null!==r&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.status)K("User Add In Your List",{variant:"success"}),ll(null===r||void 0===r||null===(n=r.data)||void 0===n||null===(a=n.contact)||void 0===a?void 0:a.id);else console.log("Status False in API")}catch(i){console.log(i,"add user in list api error")}});return(0,X.jsx)(O.A,{title:"All Files",children:(0,X.jsxs)(r.A,{maxWidth:!Z&&"xl",children:[Le&&(0,X.jsx)(U.A,{}),(0,X.jsxs)(a.A,{sx:{borderRadius:"0px"},children:[(0,X.jsxs)(s.A,{sx:{width:"100%"},children:[(0,X.jsx)(d.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Be,onChange:(e,l)=>Fe(l),sx:{bgcolor:"#2e3c56",paddingLeft:"20px",paddingRight:"20px"},children:le.map((e=>(0,X.jsx)(c.A,{disableRipple:!0,value:e.label,label:(0,X.jsx)(u.A,{spacing:1,direction:"row",alignItems:"center",children:(0,X.jsx)("div",{children:e.label})}),sx:{color:"#fff","&.Mui-selected":{color:"#fff",borderBottom:"4px solid #4CAF50"}}},e.label)))}),(0,X.jsx)(q.F5,{filterName:he,filterService:be,filterStartDate:ye,filterEndDate:Ce,onFilterName:e=>{xe(e),se(0)},onFilterService:e=>{Ae(e.target.value)},onFilterStartDate:e=>{je(e)},onFilterEndDate:e=>{Se(e)}})]}),(0,X.jsx)(z.A,{sx:{paddingTop:"10px",paddingLeft:"20px"},links:[{name:"Dashboard",href:k.nB.root},{name:"All Files"}]}),(0,X.jsx)(W.A,{children:(0,X.jsx)(p.A,{sx:{minWidth:800,position:"relative"},children:(0,X.jsxs)(m.A,{size:oe?"small":"medium",sx:{overflowX:"hidden"},children:[(0,X.jsx)(M.er,{order:ae,orderBy:ie,headLabel:ee,rowCount:fe.length,numSelected:de.length,onSort:ue}),(0,X.jsxs)(v.A,{children:[Ke.slice(ne*re,ne*re+re).map((e=>(0,X.jsx)($,{row:e,onViewRow:()=>(e=>{Q("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:{row:e}})})(e),onShareRow:()=>Qe(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return l=e.id,void Q("/dashboard/order/".concat(l));var l},onDeleteRow:()=>{return l=e.id,ke(!0),void G.A.delete("user/user_file/".concat(l)).then((e=>{if(console.log("response",e),ke(!1),200===e.status||201===e.status){const e=fe.filter((e=>e.id!==l));ce([]),ge(e),K("Delete Successfully")}})).catch((e=>{ke(!1),e.errors&&Object.keys(e.errors).map((l=>K(e.errors[l][0],{variant:"error"})))}));var l},CreateOrderByPdf:()=>(async e=>{try{var l;const t=new FormData;t.append("file_id",e);const o=await G.A.post("user/corpLienSearch",t);console.log(o,"create order by pdf"),null!==o&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.status?K("Succesfully order created",{variant:"success"}):console.log("Status False API create order by pdf")}catch(t){console.log(t,"create order by pdf api error")}})(e.id)},e.id))),(0,X.jsx)(M.dO,{height:$e,emptyRows:(0,N.xl)(ne,re,fe.length)}),(0,X.jsx)(M.Sm,{isNotFound:el})]})]})})}),(0,X.jsx)(s.A,{sx:{position:"relative"},children:(0,X.jsx)(f.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Ke.length,rowsPerPage:re,page:ne,onPageChange:me,onRowsPerPageChange:ve})})]}),(0,X.jsx)(g.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Ne,onClose:()=>Ie(!1),closeAfterTransition:!0,slots:{backdrop:h.A},slotProps:{backdrop:{timeout:500}},children:(0,X.jsx)(x.A,{in:Ne,children:(0,X.jsxs)(s.A,{sx:te,children:[(0,X.jsx)(b.A,{variant:"h5",sx:{mb:2},onClick:()=>Re(!1),children:Oe&&(0,X.jsx)(L.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,X.jsxs)(A.Ay,{item:!0,xs:12,md:12,children:[(0,X.jsx)(b.A,{variant:"h5",sx:{mb:2},children:Oe?"Add Contact":"Select User Into Your List"}),Oe?(0,X.jsxs)(Y.Op,{methods:al,onSubmit:dl((async e=>{console.log(e.request,"request"),Ye(!0);try{const l=new FormData;l.append("first_name",e.fname),l.append("last_name",e.lname),l.append("email",e.email),l.append("phone",e.phone),l.append("address",e.address),l.append("company_name",e.company),l.append("job_title",e.job),l.append("is_file_shared",!0),await G.A.post("user/contact/user/add",l).then((e=>{if(Ye(!1),200===e.status||201===e.status){var l,t,o;const n=e.data;console.log(n,"add user new"),K("successfully add new user"),Ie(!1),il(),pl(null===n||void 0===n||null===(l=n.user)||void 0===l?void 0:l.id,null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.first_name,null===n||void 0===n||null===(o=n.user)||void 0===o?void 0:o.last_name)}}))}catch(l){if(console.error(l),l.errors){Object.keys(l.errors).map((e=>K(l.errors[e][0],{variant:"error"})))}}finally{Ye(!1)}})),children:[(0,X.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,X.jsx)(Y.o3,{name:"fname",label:"First Name"}),(0,X.jsx)(Y.o3,{name:"lname",label:"Last Name"}),(0,X.jsx)(Y.o3,{name:"email",label:"Email"}),(0,X.jsx)(Y.o3,{name:"phone",label:"Phone Nunber"}),(0,X.jsx)(Y.o3,{name:"address",label:"Address"}),(0,X.jsx)(Y.o3,{name:"company",label:"Company Name"}),(0,X.jsx)(Y.o3,{name:"job",label:"Job title"})]}),(0,X.jsx)(u.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,X.jsx)(S.A,{type:"submit",variant:"contained",loading:Ve,children:"Add Contact"})})]}):(0,X.jsxs)(s.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,X.jsx)(u.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,X.jsx)(y.A,{sx:{my:1,width:1},ref:tl,label:"Search by first Name, Last Name & Email",value:(null===tl||void 0===tl||null===(l=tl.current)||void 0===l?void 0:l.value)||"",onChange:e=>{const l=e.target.value.toLowerCase();if(tl.current.value=l,""===tl.current.value)we([]);else{const e=Ge.filter((e=>{var t,o,n;return(null===e||void 0===e||null===(t=e.Contact)||void 0===t?void 0:t.first_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name.toLowerCase().includes(l))||(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.email.toLowerCase().includes(l))}));console.log(e,"filteredData"),we(e)}},size:"small"})}),(0,X.jsx)(j.A,{}),(null===_e||void 0===_e?void 0:_e.length)>0?_e.map(((e,l)=>{var t,o;return(0,X.jsxs)(u.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,X.jsxs)(b.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,X.jsx)(R.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(t=e.Contact)||void 0===t?void 0:t.first_name," ").concat(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name)]}),(0,X.jsx)(u.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,X.jsx)(S.A,{type:"submit",variant:"contained",loading:Ve,onClick:()=>ll(null===e||void 0===e?void 0:e.id),children:"Share"})})]},l)})):(0,X.jsx)(u.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,X.jsx)(_.A,{variant:"contained",onClick:()=>Re(!0),startIcon:(0,X.jsx)(R.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})]})})}}}]);