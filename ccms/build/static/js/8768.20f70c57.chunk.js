"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[8768],{88768:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var i=a(9950),r=a(13564),l=a(79537),s=a(48089),n=a(68367),o=a(84142),d=a(12257),c=a(6368),u=a(82053),h=a(74745),g=a(1320),p=a(15769),f=a(34075),x=a(91434),S=a(16497),b=a(37324),w=a(29031),m=a(90260),v=a(46765),C=a(86608),R=a(38861),O=a(8279),j=(a(22704),a(66075),a(44185)),q=a(63358),A=a(72870),E=a(12480),_=a(32741),P=a(95074),y=a(44414);const D=["new","old"],T=[{id:"is_fullfiled",label:"Status",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"order_id",label:"Id",align:"left",width:500},{id:"file_no",label:"File No",align:"left",width:800},{id:"descriptions",label:"Request",align:"left",width:800},{id:"request_type",label:"Request Type",align:"left",width:800},{id:""}],k=[{api:"title_insurance",label:"Title Insurance"},{api:"coop_lien_search",label:"Coop Lien Searches"},{api:"acris_e_tax_form",label:"ACRIS E-Tax Forms"},{api:"eagle_9_policy",label:"Eagle 9 Policy"},{api:"ucc_create_file",label:"UCC"},{api:"other_searches",label:"Other Search / Request"},{api:"coop_condo_offering_plans",label:"Offering Plans"},{api:"exchange",label:"1031 Exchanges"},{api:"Sightline_Report",label:"Sightline\xae"}];function I(){const{themeStretch:e}=(0,C.A)(),{enqueueSnackbar:t}=(0,w.dh)(),a=(0,r.Zp)(),{dense:I,page:L,order:F,orderBy:N,rowsPerPage:V,setPage:B,selected:z,onSort:M,onChangeDense:U,onChangePage:W,onChangeRowsPerPage:Y}=(0,R.Ay)({defaultOrderBy:"createDate"}),[Z,G]=(0,i.useState)([]),[H,J]=(0,i.useState)(""),[K,Q]=(0,i.useState)("new"),[X,$]=(0,i.useState)(null),[ee,te]=(0,i.useState)(null),{currentTab:ae,onChangeTab:ie}=(0,v.A)("all"),[re,le]=(0,i.useState)("Title Insurance"),[se,ne]=(0,i.useState)(!1),[oe,de]=(0,i.useState)(!1);(0,i.useEffect)((()=>{"Sightline\xae"!==re&&"UCC"!==re&&ce(k.find((e=>e.label===re)).api)}),[re]);const ce=e=>{ne(!0);try{_.A.get("employee/requests/get/".concat(e)).then((e=>{ne(!1);const a=e.data;console.log(e,"request"),200===e.status?G(a.requests):t(a.message)}))}catch(a){if(ne(!1),a.errors){Object.keys(a.errors).map((e=>t(a.errors[e][0],{variant:"error"})))}}},ue=function(e){var t;let{tableData:a,comparator:i,filterName:r,filterStatus:l,filterService:s,filterStartDate:n,filterEndDate:o}=e;const d=null===(t=a)||void 0===t?void 0:t.map(((e,t)=>[e,t]));var c;null===d||void 0===d||d.sort(((e,t)=>{const a=i(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),a=null===d||void 0===d?void 0:d.map((e=>e[0])),r&&(a=null===(c=a)||void 0===c?void 0:c.filter((e=>-1!==e.orders.file_no.toLowerCase().indexOf(r.toLowerCase())||-1!==e.orders.type.toLowerCase().indexOf(r.toLowerCase()))));"all"!==l&&(a=a.filter((e=>e.status===l)));"new"!==s&&(a=a.filter((e=>e.status===s)));n&&o&&(a=a.filter((e=>e.updated_at.getTime()>=n.getTime()&&e.updated_at.getTime()<=o.getTime())));return a}({tableData:Z,comparator:(0,R.hz)(F,N),filterName:H,filterService:K,filterStatus:ae,filterStartDate:X,filterEndDate:ee}),he=I?56:76,ge=!ue.length&&!!H||!ue.length&&!!ae||!ue.length&&!!K||!ue.length&&!!ee||!ue.length&&!!X;return(0,y.jsxs)(O.A,{title:"Requests: Your Request",children:[se&&(0,y.jsx)(P.A,{}),(0,y.jsx)(l.A,{maxWidth:!e&&"lg",children:(0,y.jsxs)(s.A,{sx:{p:3},children:[(0,y.jsx)(q.A,{heading:"Your Requests",links:[{name:"Dashboard",href:m.i8.root},{name:"Requests"}]}),(0,y.jsx)(n.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:re,onChange:(e,t)=>{console.log(t,"value"),le(t)},sx:{px:2,bgcolor:"background.neutral"},children:k.map((e=>(0,y.jsx)(o.A,{disableRipple:!0,value:e.label,label:(0,y.jsx)(d.A,{spacing:1,direction:"row",alignItems:"center",children:(0,y.jsx)("div",{children:e.label})}),sx:{color:re===e.label?"#22C55E":"black","&.Mui-selected":{color:"#22C55E"}}},e.label)))}),(0,y.jsx)(c.A,{sx:{p:2},children:(0,y.jsx)(u.A,{variant:"h4",gutterBottom:!0,children:re.label})}),(0,y.jsx)(h.A,{}),(0,y.jsx)(E.F5,{filterName:H,filterService:K,filterStartDate:X,filterEndDate:ee,onFilterName:e=>{J(e),B(0)},onFilterService:e=>{Q(e.target.value)},onFilterStartDate:e=>{$(e)},onFilterEndDate:e=>{te(e)},optionsService:D}),(0,y.jsx)(j.A,{children:(0,y.jsx)(g.A,{sx:{minWidth:800,position:"relative"},children:(0,y.jsxs)(p.A,{size:I?"small":"medium",children:[(0,y.jsx)(A.er,{order:F,orderBy:N,headLabel:T,rowCount:Z.length,numSelected:z.length,onSort:M}),(0,y.jsxs)(f.A,{children:[ue.slice(L*V,L*V+V).map((e=>(0,y.jsx)(E.eN,{row:e,onViewRow:()=>(e=>{"Title Insurance"===re&&a(m.i8.viewRequest.titleInsuranceRequestView,{state:e}),"Coop Lien Searches"===re&&a(m.i8.viewRequest.CoopLienSearchRequestView,{state:e}),"Eagle 9 Policy"===re&&a(m.i8.viewRequest.eagle9PolicyRequestView,{state:e}),"Coop/Condo offering plans"===re&&a(m.i8.viewRequest.coopCondoOfferinPlansRequestView,{state:e}),"1031 Exchanges"===re&&a(m.i8.viewRequest.exchange1031RequestView,{state:e}),"Other Search / Request"===re&&a(m.i8.viewRequest.otherSearchesRequestView,{state:e})})(e),onEditRow:()=>{return t=null===e||void 0===e?void 0:e.order_id,"Title Insurance"===re&&a(m.i8.editOrders.titleInsuranceOrderEdit(t)),"Coop Lien Searches"===re&&a(m.i8.editOrders.CoopLienSearchOrderEdit(t)),"Eagle 9 Policy"===re&&a(m.i8.editOrders.eagle9PolicyOrderEdit(t)),"Offering Plans"===re&&a(m.i8.editOrders.coopCondoOfferinPlansOrderEdit(t)),"1031 Exchanges"===re&&a(m.i8.editOrders.exchange1031OrderEdit(t)),"ACRIS E-Tax Forms"===re&&a(m.i8.editOrders.acrisETaxOrderEdit(t)),void("Other Search / Request"===re&&a(m.i8.editOrders.otherSearchesOrderEdit(t)));var t}},e.id))),(0,y.jsx)(A.dO,{height:he,emptyRows:(0,R.xl)(L,V,Z.length)}),(0,y.jsx)(A.Sm,{isNotFound:ge})]})]})})}),(0,y.jsxs)(c.A,{sx:{position:"relative"},children:[(0,y.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:ue.length,rowsPerPage:V,page:L,onPageChange:W,onRowsPerPageChange:Y}),(0,y.jsx)(S.A,{control:(0,y.jsx)(b.A,{checked:I,onChange:U}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})})]})}}}]);