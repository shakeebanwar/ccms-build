"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[1158],{67258:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(9950),r=n(79537),l=n(12257),a=n(75165),i=n(6368),s=n(82053),c=n(48089),d=n(74745),h=n(1320),u=n(15769),p=n(34075),m=n(91434),g=n(29031),f=n(13564),x=n(26689),A=n(90260),j=n(46765),v=n(86608),y=n(38861),w=n(58738),S=n(66075),C=n(44185),b=n(63358),_=n(72870),B=n(12480),N=n(6768),k=n(32741),D=n(95074),R=n(98594),P=n(44414);const E=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transection Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}];function T(){const{themeStretch:e}=(0,v.A)(),t=(0,f.Zp)(),{enqueueSnackbar:n}=(0,g.dh)(),{dense:T,page:F,order:L,orderBy:O,rowsPerPage:M,setPage:z,selected:I,setSelected:U,onSort:V,onChangeDense:W,onChangePage:Z,onChangeRowsPerPage:q}=(0,y.Ay)({defaultOrderBy:"createDate"}),[K,H]=(0,o.useState)([]),[J,Y]=(0,o.useState)(""),[G,Q]=(0,o.useState)("new"),[X,$]=(0,o.useState)(null),[ee,te]=(0,o.useState)(null),{currentTab:ne,onChangeTab:oe}=(0,j.A)("all"),[re,le]=(0,o.useState)("Title Insurance"),[ae,ie]=(0,o.useState)(!1),[se,ce]=(0,o.useState)(""),[de,he]=(0,o.useState)(),[ue,pe]=(0,o.useState)([]),[me,ge]=(0,o.useState)(null);Boolean(me);(0,o.useEffect)((()=>{(async()=>{ie(!0);try{var e;const t=await k.A.get("employee/users/list");console.log(t,"all user"),pe(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.files),console.log(t,"autofill")}catch(t){console.log(t,"autofill")}finally{ie(!1)}})()}),[]);const{Employeefile:fe}=(0,w.d4)((e=>e.EmployeeFile));console.log(fe,"file details"),(0,o.useEffect)((()=>{null!==fe&&void 0!==fe&&fe.length&&de&&H(fe)}),[fe]);const xe=function(e){var t;let{tableData:n,comparator:o,filterName:r,filterStatus:l,filterService:a,filterStartDate:i,filterEndDate:s}=e;const c=null===(t=n)||void 0===t?void 0:t.map(((e,t)=>[e,t]));c.sort(((e,t)=>{const n=o(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),n=c.map((e=>e[0])),r&&(n=n.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(r.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(r.toLowerCase()))));"all"!==l&&(n=n.filter((e=>e.status===l)));"new"!==a&&(n=n.filter((e=>e.status===a)));i&&s&&(n=n.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:K,comparator:(0,y.hz)(L,O),filterName:J,filterService:G,filterStatus:ne,filterStartDate:X,filterEndDate:ee}),Ae=T?56:76,je=!xe.length&&!!J||!xe.length&&!!ne||!xe.length&&!!G||!xe.length&&!!ee||!xe.length&&!!X;return(0,P.jsxs)(r.A,{maxWidth:!e&&"lg",children:[ae&&(0,P.jsx)(D.A,{}),(0,P.jsx)(b.A,{heading:"Your Files",links:[{name:"Dashboard",href:A.nB.root},{name:"File"}],action:(0,P.jsx)(l.A,{gap:1,direction:"row",children:(0,P.jsx)(a.A,{variant:"contained",component:x.N_,to:A.i8.file.addfile,startIcon:(0,P.jsx)(S.A,{icon:"clarity:form-line"}),children:"New File"})})}),(0,P.jsx)(l.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"center",sx:{mb:3,width:"25%"},children:(0,P.jsxs)("select",{className:"form-select",name:"file",onChange:e=>{const t=e.target.value;(0,w.JD)((0,R.oc)(t)),he(t)},children:[(0,P.jsx)("option",{value:"",children:"Select User"}),null===ue||void 0===ue?void 0:ue.map(((e,t)=>(0,P.jsxs)("option",{value:null===e||void 0===e?void 0:e.id,children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]},t)))]})}),(0,P.jsx)(i.A,{sx:{p:2},children:(0,P.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:re.label})}),(0,P.jsxs)(c.A,{children:[(0,P.jsx)(d.A,{}),(0,P.jsx)(B.F5,{filterName:J,filterService:G,filterStartDate:X,filterEndDate:ee,onFilterName:e=>{Y(e),z(0)},onFilterService:e=>{Q(e.target.value)},onFilterStartDate:e=>{$(e)},onFilterEndDate:e=>{te(e)}}),(0,P.jsx)(C.A,{children:(0,P.jsx)(h.A,{sx:{minWidth:800,position:"relative"},children:(0,P.jsxs)(u.A,{size:T?"small":"medium",children:[(0,P.jsx)(_.er,{order:L,orderBy:O,headLabel:E,rowCount:K.length,numSelected:I.length,onSort:V}),(0,P.jsxs)(p.A,{children:[xe.slice(F*M,F*M+M).map((e=>(0,P.jsx)(N.A,{row:e,onEditRow:()=>(e=>{t(A.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{t(A.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return t=e.id,ie(!0),void k.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),ie(!1),200===e.status||201===e.status){const e=K.filter((e=>e.id!==t));U([]),H(e),n("Delete Successfully")}})).catch((e=>{ie(!1),e.errors&&Object.keys(e.errors).map((t=>n(e.errors[t][0],{variant:"error"})))}));var t}},e.id))),(0,P.jsx)(_.dO,{height:Ae,emptyRows:(0,y.xl)(F,M,K.length)}),(0,P.jsx)(_.Sm,{isNotFound:je})]})]})})}),(0,P.jsx)(i.A,{sx:{position:"relative"},children:(0,P.jsx)(m.A,{rowsPerPageOptions:[5,10,25],component:"div",count:xe.length,rowsPerPage:M,page:F,onPageChange:Z,onRowsPerPageChange:q})})]})]})}},6768:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(9950),r=n(13564),l=n(26689),a=n(14857),i=n(9213),s=n(21671),c=n(93038),d=n(75165),h=n(97591),u=n(23266),p=n(90260),m=n(34437),g=(n(22704),n(33949),n(66075)),f=n(72870),x=n(44414);function A(e){let{row:t,selected:n,onSelectRow:A,onAssign:j,onViewRow:v,onDocumentUpload:y,onDownloadDocument:w,onDeleteRow:S,onShareRow:C,onEditRow:b,onOrderContin:_,onStatusChange:B}=e;(0,a.A)();const{pathname:N}=(0,r.zy)(),{updated_at:k,property_type:D,transaction_type:R,purchase_price:P,file_no:E,file_name:T,id:F}=(N.includes("admin"),(0,r.Zp)(),t),[L,O]=(0,o.useState)(null),M=Boolean(L),[z,I]=(0,o.useState)(null),U=()=>{I(null)};return(0,x.jsxs)(i.A,{hover:!0,selected:n,children:[(A||n)&&(0,x.jsx)(s.A,{padding:"checkbox",children:(0,x.jsx)(c.A,{checked:n,onClick:A})}),(0,x.jsx)(s.A,{align:"left",children:E}),(0,x.jsx)(s.A,{align:"left",children:T}),(0,x.jsx)(s.A,{align:"left",children:k&&(0,m.ts)(k)}),(0,x.jsx)(s.A,{align:"left",children:D}),(0,x.jsx)(s.A,{align:"left",children:R}),(0,x.jsx)(s.A,{align:"left",children:P}),(0,x.jsx)(s.A,{align:"left",children:(0,x.jsx)(g.A,{icon:"tabler:eye-filled",onClick:()=>v()})}),(0,x.jsx)(s.A,{align:"left",children:_&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.A,{variant:"contained","aria-controls":M?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":M?"true":void 0,onClick:e=>{O(e.currentTarget)},children:"Order"}),(0,x.jsxs)(h.A,{id:"basic-menu",anchorEl:L,open:M,onClose:()=>{O(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.titleInsurance,"/").concat(F),children:"Title Insurance"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.coopLienSearch,"/").concat(F),children:"Coop Lien Search"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.eagle9Policy,"/").concat(F),children:"Eagle 9 Policy"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.coopCondoOfferinPlans,"/").concat(F),children:"Coop/Condo Offering Plans"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.uccCreateFile,"/").concat(F),children:"UCC - Create/File"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.exchange1031,"/").concat(F),children:"1031 Exchange"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.acrisETax,"/").concat(F),children:"Acris E-Tax Forms"}),(0,x.jsx)(u.A,{component:l.N_,to:"".concat(p.nB.orders.otherSearches,"/").concat(F),children:"Other Searches"})]})]})}),(0,x.jsx)(s.A,{align:"right",children:(0,x.jsx)(f.ZE,{open:z,onOpen:e=>{I(e.currentTarget)},onClose:U,actions:(0,x.jsxs)(x.Fragment,{children:[C&&(0,x.jsxs)(u.A,{onClick:()=>{C(),U()},children:[(0,x.jsx)(g.A,{icon:"material-symbols:share"}),"Share"]}),S&&(0,x.jsxs)(u.A,{onClick:()=>{S(),U()},sx:{color:"error.main"},children:[(0,x.jsx)(g.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,x.jsxs)(u.A,{onClick:()=>{b(),U()},children:[(0,x.jsx)(g.A,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}},52432:(e,t,n)=>{n.d(t,{A:()=>B});var o=n(58168),r=n(98587),l=n(9950),a=(n(26429),n(2803)),i=n(5747),s=n(7951),c=n(79859),d=n(82053),h=n(19657),u=n(65471),p=n(44414);const m=(0,u.A)((0,p.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var g=n(24184);const f=(0,s.Ay)(g.A)((e=>{let{theme:t}=e;return(0,o.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,o.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,o.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,h.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,h.tL)(t.palette.grey[600],.12)})})})),x=(0,s.Ay)(m)({width:24,height:16});const A=function(e){const t=e;return(0,p.jsx)("li",{children:(0,p.jsx)(f,(0,o.A)({focusRipple:!0},e,{ownerState:t,children:(0,p.jsx)(x,{ownerState:t})}))})};var j=n(37665);function v(e){return(0,j.A)("MuiBreadcrumbs",e)}const y=(0,n(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),w=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,s.Ay)(d.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(y.li)]:t.li},t.root]})({}),C=(0,s.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),b=(0,s.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function _(e,t,n,o){return e.reduce(((r,l,a)=>(a<e.length-1?r=r.concat(l,(0,p.jsx)(b,{"aria-hidden":!0,className:t,ownerState:o,children:n},"separator-".concat(a))):r.push(l),r)),[])}const B=l.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiBreadcrumbs"}),{children:s,className:d,component:h="nav",expandText:u="Show path",itemsAfterCollapse:m=1,itemsBeforeCollapse:g=1,maxItems:f=8,separator:x="/"}=n,j=(0,r.A)(n,w),[y,b]=l.useState(!1),B=(0,o.A)({},n,{component:h,expanded:y,expandText:u,itemsAfterCollapse:m,itemsBeforeCollapse:g,maxItems:f,separator:x}),N=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},v,t)})(B),k=l.useRef(null),D=l.Children.toArray(s).filter((e=>l.isValidElement(e))).map(((e,t)=>(0,p.jsx)("li",{className:N.li,children:e},"child-".concat(t))));return(0,p.jsx)(S,(0,o.A)({ref:t,component:h,color:"text.secondary",className:(0,a.A)(N.root,d),ownerState:B},j,{children:(0,p.jsx)(C,{className:N.ol,ref:k,ownerState:B,children:_(y||f&&D.length<=f?D:(e=>g+m>=e.length?e:[...e.slice(0,g),(0,p.jsx)(A,{"aria-label":u,onClick:()=>{b(!0);const e=k.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-m,e.length)])(D),N.separator,x,B)})}))}))},30099:(e,t,n)=>{n.d(t,{A:()=>l});n(9950);var o=n(65471),r=n(44414);const l=(0,o.A)((0,r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},88090:(e,t,n)=>{n.d(t,{A:()=>l});n(9950);var o=n(65471),r=n(44414);const l=(0,o.A)((0,r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}}]);