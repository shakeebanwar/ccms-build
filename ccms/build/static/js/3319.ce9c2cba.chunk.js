"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[3319],{19374:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(7951),i=n(6368),o=n(82053),s=n(63575),l=n(10463),a=n(44414);const d=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{height:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(8,2)}}));function c(e){let{title:t,description:n,img:r,...c}=e;return(0,a.jsxs)(d,{...c,children:[r?(0,a.jsx)(s.A,{disabledEffect:!0,visibleByDefault:!0,alt:"empty content",src:r,sx:{height:240,mb:3}}):(0,a.jsx)(i.A,{sx:{height:150},children:(0,a.jsx)(l.Ft,{})}),(0,a.jsx)(o.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,a.jsx)(o.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]})}},63358:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(56801),i=n.n(r),o=n(6368),s=n(82053),l=n(22707),a=n(26689),d=n(52432),c=n(44414);function h(e){let{links:t,activeLast:n=!1,...r}=e;const i=t[t.length-1].name,l=t.map((e=>(0,c.jsx)(u,{link:e},e.name))),a=t.map((e=>(0,c.jsx)("div",{children:e.name!==i?(0,c.jsx)(u,{link:e}):(0,c.jsx)(s.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:i})},e.name)));return(0,c.jsx)(d.A,{separator:(0,c.jsx)(o.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...r,children:n?l:a})}function u(e){let{link:t}=e;const{href:n,name:r,icon:i}=t;return(0,c.jsxs)(l.A,{variant:"body2",component:a.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[i&&(0,c.jsx)(o.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:i}),r]},r)}function x(e){let{links:t,action:n,heading:r,moreLink:a=[],sx:d,...u}=e;return(0,c.jsxs)(o.A,{sx:{mb:5,...d},children:[(0,c.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(o.A,{sx:{flexGrow:1},children:[(0,c.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:r}),(0,c.jsx)(h,{links:t,...u})]}),n&&(0,c.jsx)(o.A,{sx:{flexShrink:0},children:n})]}),(0,c.jsx)(o.A,{sx:{mt:2},children:i()(a)?(0,c.jsx)(l.A,{href:a,target:"_blank",rel:"noopener",variant:"body2",children:a}):a.map((e=>(0,c.jsx)(l.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},72870:(e,t,n)=>{n.d(t,{dO:()=>g,er:()=>w,ZE:()=>h,Sm:()=>l,r1:()=>y,Qv:()=>p});var r=n(9213),i=n(21671),o=n(19374),s=n(44414);function l(e){let{isNotFound:t}=e;return(0,s.jsx)(s.Fragment,{children:t?(0,s.jsx)(r.A,{children:(0,s.jsx)(i.A,{colSpan:9,children:(0,s.jsx)(o.A,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})})}):(0,s.jsx)(r.A,{children:(0,s.jsx)(i.A,{colSpan:9,sx:{p:0}})})})}var a=n(25333),d=n(66075),c=n(70458);function h(e){let{actions:t,open:n,onClose:r,onOpen:i}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.A,{onClick:i,children:(0,s.jsx)(d.A,{icon:"eva:more-vertical-fill",width:20,height:20})}),(0,s.jsx)(c.A,{open:Boolean(n),anchorEl:n,onClose:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:160,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75,"& svg":{mr:2,width:20,height:20}}},children:t})]})}var u=n(12257),x=n(82917);function p(e){let{...t}=e;return(0,s.jsx)(r.A,{...t,children:(0,s.jsx)(i.A,{colSpan:9,children:(0,s.jsxs)(u.A,{spacing:3,direction:"row",alignItems:"center",children:[(0,s.jsx)(x.A,{variant:"rectangular",width:40,height:40,sx:{borderRadius:1}}),(0,s.jsx)(x.A,{variant:"text",width:240,height:20}),(0,s.jsx)(x.A,{variant:"text",width:160,height:20}),(0,s.jsx)(x.A,{variant:"text",width:160,height:20}),(0,s.jsx)(x.A,{variant:"text",width:160,height:20}),(0,s.jsx)(x.A,{variant:"text",width:160,height:20})]})})})}function g(e){let{emptyRows:t,height:n}=e;return t?(0,s.jsx)(r.A,{sx:{...n&&{height:n*t}},children:(0,s.jsx)(i.A,{colSpan:9})}):null}var m=n(69780),f=n(93038),v=n(7251),j=n(6368);const A={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function w(e){let{order:t,orderBy:n,rowCount:o=0,headLabel:l,numSelected:a=0,onSort:d,onSelectAllRows:c,sx:h}=e;return(0,s.jsx)(m.A,{sx:h,children:(0,s.jsxs)(r.A,{children:[c&&(0,s.jsx)(i.A,{padding:"checkbox",children:(0,s.jsx)(f.A,{indeterminate:a>0&&a<o,checked:o>0&&a===o,onChange:e=>c(e.target.checked)})}),l.map((e=>(0,s.jsx)(i.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:d?(0,s.jsxs)(v.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>d(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,s.jsx)(j.A,{sx:{...A},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))]})})}var b=n(82053);function y(e){let{dense:t,actions:n,rowCount:r,numSelected:i,onSelectAllRows:o}=e;return(0,s.jsxs)(u.A,{direction:"row",alignItems:"center",sx:{px:2,top:0,right:8,zIndex:9,height:58,borderRadius:1,position:"absolute",width:"calc(100% - 16px)",bgcolor:"primary.lighter",...t&&{pl:1,height:38}},children:[(0,s.jsx)(f.A,{indeterminate:i>0&&i<r,checked:r>0&&i===r,onChange:e=>o(e.target.checked)}),(0,s.jsxs)(b.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[i," selected"]}),n&&n]})}},38861:(e,t,n)=>{n.d(t,{Ay:()=>i,hz:()=>s,xl:()=>l});var r=n(9950);function i(e){const[t,n]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),[i,o]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[s,l]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[a,d]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[c,h]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[u,x]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]);return{dense:t,order:s,page:a,setPage:d,orderBy:i,rowsPerPage:c,selected:u,setSelected:x,onSelectRow:e=>{const t=u.indexOf(e);let n=[];-1===t?n=n.concat(u,e):0===t?n=n.concat(u.slice(1)):t===u.length-1?n=n.concat(u.slice(0,-1)):t>0&&(n=n.concat(u.slice(0,t),u.slice(t+1))),x(n)},onSelectAllRows:(e,t)=>{x(e?t:[])},onSort:e=>{if(console.log("Sorting Clicked for:",e,"Current Order:",s),i===e&&"desc"===s)return console.log("Resetting Sorting to Default"),o("default"),void l("asc");l(i===e&&"asc"===s?"desc":"asc"),o(e)},onChangePage:(e,t)=>{d(t)},onChangeDense:e=>{n(e.target.checked)},onChangeRowsPerPage:e=>{h(parseInt(e.target.value,10)),d(0)}}}function o(e,t,n,r){var i,o,s,l,a,d,c,h;let u,x;switch(n){case"status":case"updated_at":case"order_no":default:u=e[n]||"",x=t[n]||"";break;case"requests":const p=e.requests&&"object"===typeof e.requests?e.requests:{},g=t.requests&&"object"===typeof t.requests?t.requests:{},m=Object.entries(p).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),f=Object.entries(g).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),v=m.reduce(((e,t)=>e+t),0),j=f.reduce(((e,t)=>e+t),0);return"asc"===r?v-j:j-v;case"property_type":u=(null===(i=e.order_title)||void 0===i?void 0:i.property_type)||"",x=(null===(o=t.order_title)||void 0===o?void 0:o.property_type)||"";break;case"purchase_type":u=(null===(s=e.order_title)||void 0===s?void 0:s.transaction_type)||"",x=(null===(l=t.order_title)||void 0===l?void 0:l.transaction_type)||"";break;case"user":u=(null===(a=e.user)||void 0===a?void 0:a.first_name)+" "+((null===(d=e.user)||void 0===d?void 0:d.last_name)||""),x=(null===(c=t.user)||void 0===c?void 0:c.first_name)+" "+((null===(h=t.user)||void 0===h?void 0:h.last_name)||"")}return"asc"===r?u.localeCompare?u.localeCompare(x):u-x:x.localeCompare?x.localeCompare(u):x-u}function s(e,t){return"default"===t?()=>0:"desc"===e?(n,r)=>o(n,r,t,e):(n,r)=>-o(n,r,t,e)}function l(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}},93319:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(9950),i=n(13564),o=n(79537),s=n(48089),l=n(1320),a=n(15769),d=n(60899),c=n(6368),h=n(91434),u=n(29031),x=n(90260),p=n(86608),g=n(38861),m=n(8279),f=n(44185),v=n(63358),j=n(72870),A=n(32741),w=n(50704),b=n(82053),y=n(28095),S=n(44414);function C(e){let{row:t}=e;const[n,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)([]),{user:l,name:a,id:d}=t;return console.log(o,"autofill"),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(w.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center"},children:[(0,S.jsx)("img",{src:"/images/red_icon.png",style:{width:"80px",height:"80px",margin:"auto"},alt:"Red icon"}),(0,S.jsx)(b.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:"".concat(null===a||void 0===a?void 0:a.slice(0,20),".pdf")}),(0,S.jsxs)(b.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[null===l||void 0===l?void 0:l.first_name," ",null===l||void 0===l?void 0:l.last_name]}),(0,S.jsx)(c.A,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,S.jsx)(y.A,{type:"buttom",sx:{backgroundColor:"#00AB55","&:hover":{backgroundColor:"#00AB55"}},loading:n,variant:"contained",onClick:async()=>{i(!0);try{const e=await A.A.get("/admin/download/user_pdf/".concat(d),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));if(console.log(t,"download"),s({id:d,url:t,name:a}),t){const e=document.createElement("a");e.href=t,e.setAttribute("download",a),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)}i(!1)}catch(e){i(!1),console.log(e,"autofill")}finally{i(!1)}},children:"Download"})})]})})}var k=n(12257),_=n(8145),P=n(2046),R=n(66075);function O(e){let{filterName:t,onFilterName:n}=e;return(0,S.jsx)(k.A,{spacing:2,direction:{xs:"column",sm:"row"},sx:{py:2.5,px:3},children:(0,S.jsx)(_.A,{fullWidth:!0,value:t,onChange:e=>n(e.target.value),placeholder:"Search File...",InputProps:{startAdornment:(0,S.jsx)(P.A,{position:"start",children:(0,S.jsx)(R.A,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}})})}function D(){const{dense:e,page:t,order:n,orderBy:w,rowsPerPage:b,setPage:y,selected:k,onSort:_,onChangePage:P,onChangeRowsPerPage:R}=(0,g.Ay)(),{enqueueSnackbar:D}=(0,u.dh)(),{themeStretch:B}=(0,p.A)(),[I,N]=((0,i.Zp)(),(0,r.useState)([])),[F,q]=(0,r.useState)("");(0,r.useEffect)((()=>{z()}),[]);const z=()=>{A.A.get("/admin/doc/user_pdf").then((e=>{console.log(e,"resp");const t=e.data;N(t.files)}))},L=function(e){let{tableData:t,comparator:n,filterName:r}=e;const i=t.map(((e,t)=>[e,t]));i.sort(((e,t)=>{const r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=i.map((e=>e[0])),r&&(t=t.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))));return t}({tableData:I,comparator:(0,g.hz)(n,w),filterName:F}),W=e?52:72,E=!L.length&&!!F;return(0,S.jsx)(m.A,{title:"Documents",children:(0,S.jsx)(o.A,{maxWidth:!B&&"lg",children:(0,S.jsxs)(s.A,{sx:{p:3},children:[(0,S.jsx)(v.A,{heading:"Documents",links:[{name:"Dashboard",href:x.RO.dashboard},{name:"Documents",href:x.RO.documents}]}),(0,S.jsx)(O,{filterName:F,onFilterName:e=>{q(e),y(0)}}),(0,S.jsx)(f.A,{children:(0,S.jsx)(l.A,{sx:{minWidth:800,position:"relative"},children:(0,S.jsx)(a.A,{size:e?"small":"medium",children:(0,S.jsxs)(d.Ay,{container:!0,spacing:2,children:[null===L||void 0===L?void 0:L.slice(t*b,t*b+b).map((e=>(0,S.jsx)(d.Ay,{xs:3,children:(0,S.jsx)(C,{row:e},e.id)}))),(0,S.jsx)(j.dO,{height:W,emptyRows:(0,g.xl)(t,b,I.length)}),(0,S.jsx)(j.Sm,{isNotFound:E})]})})})}),(0,S.jsx)(c.A,{sx:{position:"relative"},children:(0,S.jsx)(h.A,{rowsPerPageOptions:[5,10,25],component:"div",count:L.length,rowsPerPage:b,page:t,onPageChange:P,onRowsPerPageChange:R})})]})})})}}}]);