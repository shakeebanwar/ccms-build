"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[6185],{83752:(e,t,n)=>{n.d(t,{A:()=>O});var o=n(37088),a=n(60228),l=n(9950),i=n(7951),r=n(19657),s=n(73447),d=n(12257),c=n(82053),u=n(74745),p=n(86608),x=n(61770),h=n(16243),m=n(66075),f=n(44185),g=n(20131),v=n(53065),b=n(44414);const j=(0,i.Ay)("span")((e=>{let{theme:t}=e;return{...(0,x.A)(t).bgBlur({opacity:.64}),right:0,top:"50%",position:"fixed",marginTop:t.spacing(-3),padding:t.spacing(.5),zIndex:t.zIndex.drawer+2,borderRadius:"24px 0 20px 24px",boxShadow:"-12px 12px 32px -4px ".concat((0,r.X4)("light"===t.palette.mode?t.palette.grey[600]:t.palette.common.black,.36))}})),A=(0,i.Ay)("span")((e=>{let{theme:t}=e;return{top:8,width:8,height:8,right:10,borderRadius:"50%",position:"absolute",backgroundColor:t.palette.error.main}}));function y(e){let{notDefault:t,open:n,onToggle:o}=e;return(0,b.jsxs)(j,{children:[t&&!n&&(0,b.jsx)(A,{}),(0,b.jsx)(v.A,{title:"Filter",placement:"left",children:(0,b.jsx)(g.ji,{color:"inherit",onClick:o,sx:{p:1.25,transition:e=>e.transitions.create("all"),"&:hover":{color:"primary.main",bgcolor:e=>(0,r.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},children:(0,b.jsx)(m.A,{icon:"material-symbols:filter-alt",width:20,height:20})})})]})}var C=n(60899),w=n(6368),_=n(8145),S=n(25979),k=n(3788),D=n(93523),L=n(23266),T=n(41205),B=n(43974),I=n(34117),F=n(30818),P=n(24642),E=n(32741);function N(e){let{files:t}=e;const n=(0,I.wA)();console.log(t,"files");const[o,a]=(0,l.useState)([]),[i,r]=(0,l.useState)([]),[s,d]=(0,l.useState)([]),[c,u]=(0,l.useState)({file_no:"",file_name:"",address:"",date:"",lender:"",transaction_type:"",buyers:"",sellers:""});(0,l.useEffect)((()=>{(async()=>{var e;const t=await E.A.get("user/file_buyers");console.log(t,"buyers"),a(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.buyers)})()}),[]);(0,l.useEffect)((()=>{(async()=>{var e;const t=await E.A.get("user/file_sellers");console.log(t,"sellers"),r(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.sellers)})()}),[]);const p=(e,t)=>{u((n=>({...n,[e]:t})))};return(0,l.useEffect)((()=>{const e=t.filter((e=>{var t,n,o,a,l,i;const r=null!==e&&void 0!==e&&e.updated_at?(0,B.A)(new Date(e.updated_at),"yyyy-MM-dd"):"",s=c.date?c.date:"",d=null!==e&&void 0!==e&&null!==(t=e.DummyData)&&void 0!==t&&t.buyers?e.DummyData.buyers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"",u=null!==e&&void 0!==e&&null!==(n=e.DummyData)&&void 0!==n&&n.sellers?e.DummyData.sellers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"";return(!c.file_no||e.file_no.toLowerCase().includes(c.file_no))&&(!c.file_name||e.file_name.toLowerCase().includes(c.file_name))&&(!c.address||(null===(o=e.DummyData)||void 0===o||null===(a=o.subject_premise)||void 0===a?void 0:a.property_location.toLowerCase().includes(c.address)))&&(!c.date||r===s)&&(!c.lender||(null===(l=e.DummyData)||void 0===l||null===(i=l.lender)||void 0===i?void 0:i.organization.toLowerCase().includes(c.lender)))&&(!c.transaction_type||e.transaction_type.toLowerCase().includes(c.transaction_type))&&(!c.buyers||d.includes(c.buyers.toLowerCase()))&&(!c.sellers||u.includes(c.sellers.toLowerCase()))}));d(e),console.log("Filtered Data:",e),n((0,F.AB)(e))}),[c,t]),console.log(c,"Filter"),(0,b.jsx)(C.Ay,{item:!0,xs:12,md:12,children:(0,b.jsxs)(w.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,b.jsx)(_.A,{name:"file_no",label:"File No #",value:c.file_no||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(_.A,{name:"file_name",label:"File Name",value:c.file_name||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(_.A,{name:"address",label:"Address",value:c.address||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsx)(_.A,{name:"date",label:"Date",type:"date",value:c.date||"",onChange:e=>p(e.target.name,e.target.value),InputLabelProps:{shrink:!0}}),(0,b.jsx)(_.A,{name:"lender",label:"Lender",value:c.lender||"",onChange:e=>p(e.target.name,e.target.value)}),(0,b.jsxs)(S.A,{fullWidth:!0,children:[(0,b.jsx)(k.A,{id:"transaction-type-label",children:"Transaction Type"}),(0,b.jsx)(D.A,{name:"transaction_type",label:"Transaction Type",value:c.transaction_type||"",onChange:e=>p(e.target.name,e.target.value),labelId:"transaction-type-label",children:P.xW.map((e=>(0,b.jsx)(L.A,{value:e.value,children:e.label},e.value)))})]}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(T.A,{name:"buyers",options:o,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(_.A,{...e,label:"Search Buyer",variant:"outlined"}),value:o.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.buyers))||null,onChange:(e,t)=>{p("buyers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})}),(0,b.jsx)(S.A,{fullWidth:!0,children:(0,b.jsx)(T.A,{name:"sellers",options:i,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,b.jsx)(_.A,{...e,label:"Search Seller",variant:"outlined"}),value:i.find((e=>"".concat(e.first_name," ").concat(e.last_name)===c.sellers))||null,onChange:(e,t)=>{p("sellers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})})]})})}const R=(0,i.Ay)(o.m.div)((e=>{let{theme:t}=e;return{...(0,x.A)(t).bgBlur({color:t.palette.background.paper,opacity:.92}),top:0,right:0,bottom:0,display:"flex",position:"fixed",overflow:"hidden",width:h.LM.BASE_WIDTH,flexDirection:"column",margin:t.spacing(2),paddingBottom:t.spacing(3),zIndex:t.zIndex.drawer+3,borderRadius:1.5*Number(t.shape.borderRadius),boxShadow:"-24px 12px 32px -4px ".concat((0,r.X4)("light"===t.palette.mode?t.palette.grey[500]:t.palette.common.black,.16)),background:"white"}}));function O(e){let{files:t}=e;const{themeMode:n,themeDirection:o,themeColorPresets:i,themeStretch:r,themeLayout:x,onResetSetting:v}=(0,p.A)(),[j,A]=(0,l.useState)(!1),C=n!==h.L6.themeMode||o!==h.L6.themeDirection||i!==h.L6.themeColorPresets||x!==h.L6.themeLayout||r!==h.L6.themeStretch,w="rtl"!==o?(0,g.Sk)({distance:h.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inRight:(0,g.Sk)({distance:h.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inLeft;(0,l.useEffect)((()=>{document.body.style.overflow=j?"hidden":"unset"}),[j]);const _=()=>{A(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.A,{open:j,onClick:_,sx:{background:"transparent",zIndex:e=>e.zIndex.drawer+1}}),!j&&(0,b.jsx)(y,{open:j,notDefault:C,onToggle:()=>{A((e=>!e))}}),(0,b.jsx)(a.N,{children:j&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(R,{...w,children:[(0,b.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,b.jsx)(c.A,{variant:"subtitle1",children:"Filters"}),(0,b.jsx)("div",{children:(0,b.jsx)(g.ji,{onClick:_,children:(0,b.jsx)(m.A,{icon:"eva:close-fill",width:20,height:20})})})]}),(0,b.jsx)(u.A,{sx:{borderStyle:"dashed"}}),(0,b.jsx)(f.A,{sx:{flexGrow:1},children:(0,b.jsx)(d.A,{spacing:3,sx:{p:3},children:(0,b.jsx)(N,{files:t})})})]})})})]})}},78097:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var o=n(9950),a=n(60666),l=n(48089),i=n(14857),r=n(79537),s=n(60899),d=n(12257),c=n(45180),u=n(75165),p=n(6368),x=n(68367),h=n(84142),m=n(1320),f=n(15769),g=n(34075),v=n(91434),b=n(53984),j=n(73447),A=n(57191),y=n(82053),C=n(8145),w=n(74745),_=n(29031),S=n(13564),k=n(26689),D=n(28095),L=n(7951),T=n(68654),B=n(9449),I=n(73878),F=n(14650),P=(n(61310),n(99425),n(1041),n(55858)),E=(n(90260),n(46765)),N=n(86608),R=n(38861),O=n(34117),z=n(66075),W=n(44185),q=(n(63358),n(72870)),M=(n(12480),n(6768)),G=n(32741),U=n(95074),V=n(30818),Y=n(52401),X=n(83752),H=(n(22988),n(71675),n(48812),n(29113)),Z=n(33507),J=(n(162),n(20798),n(4695),n(41397),n(8279),n(22704),n(33949),n(44414));P.A;var K=n(50704);const Q=e=>{let{name:t}=e;return(0,J.jsx)(l.A,{sx:{borderRadius:2,boxShadow:2,bgcolor:"#F5F7FF",padding:1,height:"203px"},children:(0,J.jsxs)(K.A,{children:[(0,J.jsxs)(y.A,{variant:"h4",color:"#4C32A7",children:["Welcome back, ",(0,J.jsxs)("span",{style:{color:"#4C32A7",fontWeight:"bold"},children:[t,"!"]})," \ud83d\udc4b"]}),(0,J.jsx)(y.A,{variant:"body2",color:"#172b4c",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."}),(0,J.jsxs)(y.A,{variant:"body2",color:"#172b4c",children:["Progress is ",(0,J.jsx)("span",{style:{color:"#ff9920",fontWeight:"bold"},children:"very good!"})]})]})})},$=(0,o.memo)(Q);n(47290);const ee=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"address",label:"Address",align:"left",width:1e3},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"county",label:"County",align:"left",width:500},{id:"purchase_price",label:"Price",align:"left",width:400},{id:"file_pdf",label:"Contract",align:"left",width:500},{id:"Edit",label:"",align:"center",width:100},{id:"Edit",label:"Edit",align:"left",width:50},{id:"Delete",label:"Delete",align:"left",width:50},{id:"",label:(0,J.jsx)(P.A,{color:"red"}),align:"center",width:40}],te=[{api:"all",label:"All"},{api:"title_insurance",label:"Title Insurance"},{api:"coop_lien_search",label:"Coop Lien Searches"},{api:"eagle_9_policy",label:"Eagle 9 Policy"},{api:"coop_condo_offering_plans",label:"Coop/Condo offering plans"},{api:"ucc_create_file",label:"UCC"},{api:"exchange",label:"1031 Exchanges"},{api:"acris_e_tax_form",label:"Acris E-Tax forms"},{api:"other_searches",label:"Other Search / Request"},{api:"Sightline_Report",label:"Sightline\xae"}],ne={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4};(0,L.Ay)(l.A)((e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:t.palette.primary.lighter,[t.breakpoints.up("md")]:{display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between",height:"100%"}}}));function oe(e){var t;let{viewTabsRef:n}=e;(0,i.A)();const{user:L}=(0,Z.A)(),{themeStretch:P}=(0,N.A)(),K=(0,I.wA)(),Q=(0,S.Zp)(),{enqueueSnackbar:oe}=(0,_.dh)(),{dense:ae,page:le,order:ie,orderBy:re,rowsPerPage:se,setPage:de,selected:ce,setSelected:ue,onSort:pe,onChangeDense:xe,onChangePage:he,onChangeRowsPerPage:me}=(0,R.Ay)({defaultOrderBy:"createDate"}),[fe,ge]=(0,o.useState)([]),[ve,be]=(0,o.useState)(""),[je,Ae]=(0,o.useState)("new"),[ye,Ce]=(0,o.useState)(null),[we,_e]=(0,o.useState)([]),[Se,ke]=(0,o.useState)(null),{currentTab:De,onChangeTab:Le}=(0,E.A)("all"),[Te,Be]=(0,o.useState)("All"),[Ie,Fe]=(0,o.useState)(!1),[Pe,Ee]=(0,o.useState)(""),[Ne,Re]=(0,o.useState)(!1),[Oe,ze]=(0,o.useState)(!1),[We,qe]=(0,o.useState)([]),[Me,Ge]=(0,o.useState)(),[Ue,Ve]=(0,o.useState)(),[Ye,Xe]=(0,o.useState)([]),[He,Ze]=(0,o.useState)(!1),[Je,Ke]=(0,o.useState)(null),{filterData:Qe}=(Boolean(Je),(0,O.d4)((e=>e.File)));console.log(Qe,"file details"),(0,o.useEffect)((()=>{"Sightline\xae"!==Te&&$e(te.find((e=>e.label===Te)).api)}),[Te]);const $e=async e=>{try{var t;const n=await G.A.get("user/user_file/by_type/".concat(e));console.log(n,"files"),qe(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.files)}catch(n){console.log(n,"files")}};(0,o.useEffect)((()=>{K((0,V.oc)())}),[]),(0,o.useEffect)((()=>{null!==We&&void 0!==We&&We.length&&ge((null===Qe||void 0===Qe?void 0:Qe.length)>0?Qe:We)}),[We,Qe]);const et=e=>{Re(!0),Ge(e),(async()=>{try{var e;const n=await G.A.get("user/added/contacts");var t;console.log(n,"all your user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?Xe(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.currentUser):console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}})()},tt=function(e){var t;let{tableData:n,comparator:o,filterName:a,filterStatus:l,filterService:i,filterStartDate:r,filterEndDate:s}=e;const d=null===(t=n)||void 0===t?void 0:t.map(((e,t)=>[e,t]));d.sort(((e,t)=>{const n=o(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),n=d.map((e=>e[0])),a&&(n=n.filter((e=>-1!==e.file_name.toLowerCase().indexOf(a.toLowerCase())||-1!==e.DummyData.subject_premise.property_location.toLowerCase().indexOf(a.toLowerCase()))));"all"!==l&&(n=n.filter((e=>e.status===l)));"new"!==i&&(n=n.filter((e=>e.status===i)));r&&s&&(n=n.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:fe,comparator:(0,R.hz)(ie,re),filterName:ve,filterService:je,filterStatus:De,filterStartDate:ye,filterEndDate:Se}),nt=ae?56:76,ot=!tt.length&&!!ve||!tt.length&&!!De||!tt.length&&!!je||!tt.length&&!!Se||!tt.length&&!!ye,at=async e=>{Ze(!0);try{await G.A.post("user/share/".concat(e,"/").concat(Me)).then((e=>{if(Ze(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"share file"),oe(t.message),Re(!1),_e()}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>oe(t.errors[e][0],{variant:"error"})))}}finally{Ze(!1)}},lt=(0,o.useRef)(""),it=a.Ik().shape({fname:a.Yj().required("First Name is required"),lname:a.Yj().required("Last Name is required"),email:a.Yj().required("Email is required")}),rt=(0,o.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),st=(0,B.mN)({resolver:(0,T.t)(it),defaultValues:rt}),{reset:dt,watch:ct,setValue:ut,handleSubmit:pt,formState:{isSubmitting:xt,errors:ht}}=st,mt=(ct(),async(e,t,n)=>{try{var o;const i=new FormData;i.append("name","".concat(t," ").concat(n));const r=await G.A.post("user/contact/add/".concat(e),i);var a,l;if(console.log(r,"add user in list api"),null!==r&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.status)oe("User Add In Your List",{variant:"success"}),at(null===r||void 0===r||null===(a=r.data)||void 0===a||null===(l=a.contact)||void 0===l?void 0:l.id);else console.log("Status False in API")}catch(i){console.log(i,"add user in list api error")}});return(0,J.jsx)(J.Fragment,{children:(0,J.jsxs)(r.A,{maxWidth:!P&&"xl",children:[(0,J.jsx)(X.A,{files:We}),Ie&&(0,J.jsx)(U.A,{}),(0,J.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,J.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,J.jsx)($,{name:null===L||void 0===L?void 0:L.first_name})}),(0,J.jsx)(s.Ay,{item:!0,xs:12,md:8,children:(0,J.jsx)(H.Fu,{})})]}),(0,J.jsx)(s.Ay,{container:!0,spacing:2,sx:{marginBlock:"10px"}}),(0,J.jsxs)(l.A,{sx:{mt:5,borderRadius:"0px"},children:[(0,J.jsxs)(d.A,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row",pr:3},children:[(0,J.jsx)(c.A,{title:"Files",sx:{fontSize:"5rem"}}),(0,J.jsx)(u.A,{variant:"contained",component:k.N_,to:"/dashboard/addfile",startIcon:(0,J.jsx)(z.A,{icon:"clarity:form-line"}),sx:{backgroundColor:"#313131","&:hover":{backgroundColor:"#313131"},borderRadious:"0px"},children:"New File"})]}),(0,J.jsx)(p.A,{sx:{display:"flex",justifyContent:"right",alignItems:"center",p:2},children:(0,J.jsx)(x.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Te,onChange:(e,t)=>Be(t),sx:{bgcolor:"#2e3c56",paddingLeft:"20px",paddingRight:"20px"},children:te.map((e=>(0,J.jsx)(h.A,{disableRipple:!0,value:e.label,label:(0,J.jsx)(d.A,{spacing:1,direction:"row",alignItems:"center",children:(0,J.jsx)("div",{children:e.label})}),sx:{color:"#fff","&.Mui-selected":{color:"#fff",borderBottom:"4px solid #4CAF50"}}},e.label)))})}),(0,J.jsx)(W.A,{children:(0,J.jsx)(m.A,{sx:{minWidth:800,position:"relative"},children:(0,J.jsxs)(f.A,{size:ae?"small":"medium",sx:{overflowX:"hidden"},children:[(0,J.jsx)(q.er,{order:ie,orderBy:re,headLabel:ee,rowCount:fe.length,numSelected:ce.length,onSort:pe}),(0,J.jsxs)(g.A,{children:[tt.slice(le*se,le*se+se).map((e=>(0,J.jsx)(M.A,{row:e,onViewRow:()=>(e=>{Q("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:{row:e}})})(e),onShareRow:()=>et(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return t=e.id,void Q("/dashboard/order/".concat(t));var t},onDeleteRow:()=>(e=>{var t;(null===e||void 0===e||null===(t=e.orders)||void 0===t?void 0:t.length)>0?oe("this file was ordered, please go to the order section",{variant:"error"}):(Fe(!0),G.A.delete("user/user_file/".concat(null===e||void 0===e?void 0:e.id)).then((t=>{if(console.log("response",t),Fe(!1),200===t.status||201===t.status){const t=fe.filter((t=>t.id!==(null===e||void 0===e?void 0:e.id)));ue([]),ge(t),oe("Delete Successfully")}})).catch((e=>{Fe(!1),e.errors&&Object.keys(e.errors).map((t=>oe(e.errors[t][0],{variant:"error"})))})))})(e),CreateOrderByPdf:()=>(async e=>{try{var t;const n=new FormData;n.append("file_id",e);const o=await G.A.post("user/corpLienSearch",n);console.log(o,"create order by pdf"),null!==o&&void 0!==o&&null!==(t=o.data)&&void 0!==t&&t.status?oe("Succesfully order created",{variant:"success"}):console.log("Status False API create order by pdf")}catch(n){console.log(n,"create order by pdf api error")}})(e.id)},e.id))),(0,J.jsx)(q.dO,{height:nt,emptyRows:(0,R.xl)(le,se,fe.length)}),(0,J.jsx)(q.Sm,{isNotFound:ot})]})]})})}),(0,J.jsx)(p.A,{sx:{position:"relative"},children:(0,J.jsx)(v.A,{rowsPerPageOptions:[5,10,25],component:"div",count:tt.length,rowsPerPage:se,page:le,onPageChange:he,onRowsPerPageChange:me})})]}),(0,J.jsx)(b.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Ne,onClose:()=>Re(!1),closeAfterTransition:!0,slots:{backdrop:j.A},slotProps:{backdrop:{timeout:500}},children:(0,J.jsx)(A.A,{in:Ne,children:(0,J.jsxs)(p.A,{sx:ne,children:[(0,J.jsx)(y.A,{variant:"h5",sx:{mb:2},onClick:()=>ze(!1),children:Oe&&(0,J.jsx)(F.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,J.jsxs)(s.Ay,{item:!0,xs:12,md:12,children:[(0,J.jsx)(y.A,{variant:"h5",sx:{mb:2},children:Oe?"Add Contact":"Select User Into Your List"}),Oe?(0,J.jsxs)(Y.Op,{methods:st,onSubmit:pt((async e=>{console.log(e.request,"request"),Ze(!0);try{const t=new FormData;t.append("first_name",e.fname),t.append("last_name",e.lname),t.append("email",e.email),t.append("phone",e.phone),t.append("address",e.address),t.append("company_name",e.company),t.append("job_title",e.job),t.append("is_file_shared",!0),await G.A.post("user/contact/user/add",t).then((e=>{if(Ze(!1),200===e.status||201===e.status){var t,n,o;const a=e.data;console.log(a,"add user new"),oe("successfully add new user"),Re(!1),dt(),mt(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.id,null===a||void 0===a||null===(n=a.user)||void 0===n?void 0:n.first_name,null===a||void 0===a||null===(o=a.user)||void 0===o?void 0:o.last_name)}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>oe(t.errors[e][0],{variant:"error"})))}}finally{Ze(!1)}})),children:[(0,J.jsxs)(p.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,J.jsx)(Y.o3,{name:"fname",label:"First Name"}),(0,J.jsx)(Y.o3,{name:"lname",label:"Last Name"}),(0,J.jsx)(Y.o3,{name:"email",label:"Email"}),(0,J.jsx)(Y.o3,{name:"phone",label:"Phone Nunber"}),(0,J.jsx)(Y.o3,{name:"address",label:"Address"}),(0,J.jsx)(Y.o3,{name:"company",label:"Company Name"}),(0,J.jsx)(Y.o3,{name:"job",label:"Job title"})]}),(0,J.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,J.jsx)(D.A,{type:"submit",variant:"contained",loading:He,children:"Add Contact"})})]}):(0,J.jsxs)(p.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,J.jsx)(d.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,J.jsx)(C.A,{sx:{my:1,width:1},ref:lt,label:"Search by first Name, Last Name & Email",value:(null===lt||void 0===lt||null===(t=lt.current)||void 0===t?void 0:t.value)||"",onChange:e=>{const t=e.target.value.toLowerCase();if(lt.current.value=t,""===lt.current.value)_e([]);else{const e=Ye.filter((e=>{var n,o,a;return(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.first_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(a=e.Contact)||void 0===a?void 0:a.email.toLowerCase().includes(t))}));console.log(e,"filteredData"),_e(e)}},size:"small"})}),(0,J.jsx)(w.A,{}),(null===we||void 0===we?void 0:we.length)>0?we.map(((e,t)=>{var n,o;return(0,J.jsxs)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,J.jsxs)(y.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,J.jsx)(z.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(n=e.Contact)||void 0===n?void 0:n.first_name," ").concat(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name)]}),(0,J.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,J.jsx)(D.A,{type:"submit",variant:"contained",loading:He,onClick:()=>at(null===e||void 0===e?void 0:e.id),children:"Share"})})]},t)})):(0,J.jsx)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,J.jsx)(u.A,{variant:"contained",onClick:()=>ze(!0),startIcon:(0,J.jsx)(z.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})]})})}},6768:(e,t,n)=>{n.d(t,{A:()=>b});var o=n(9950),a=n(13564),l=n(26689),i=n(14857),r=n(9213),s=n(21671),d=n(93038),c=n(75165),u=n(97591),p=n(23266),x=n(82053),h=n(90260),m=(n(22704),n(33949),n(66075)),f=n(72870),g=n(98632),v=n(44414);function b(e){var t,n,b;let{row:j,selected:A,onSelectRow:y,onAssign:C,onViewRow:w,onDocumentUpload:_,onDownloadDocument:S,onDeleteRow:k,onShareRow:D,onEditRow:L,onOrderContin:T,onStatusChange:B,CreateOrderByPdf:I}=e;(0,i.A)();const{pathname:F}=(0,a.zy)(),P=F.includes("employee"),E=(0,a.Zp)();console.log(j,"row");const{updated_at:N,DummyData:R,transaction_type:O,purchase_price:z,file_no:W,file_name:q,id:M,_count:G,orders:U,user:V,file_pdf:Y,orders_type:X}=j,H=null===Y||void 0===Y?void 0:Y.split("/");console.log(H,"pdfName");const[Z,J]=(0,o.useState)(null),K=Boolean(Z),Q=()=>{J(null)},[$,ee]=(0,o.useState)(null),te=()=>{ee(null)},ne=()=>{P||E("/dashboard/filepreview/".concat(null===j||void 0===j?void 0:j.id),{state:{row:j}})};return(0,v.jsxs)(r.A,{selected:A,hover:!0,children:[(y||A)&&(0,v.jsx)(s.A,{padding:"checkbox",children:(0,v.jsx)(d.A,{checked:A,onClick:y})}),(0,v.jsx)(s.A,{sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400",color:"#dd9419"},align:"left",onClick:ne,children:W}),(0,v.jsx)(s.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:q}),(0,v.jsx)(s.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===R||void 0===R||null===(t=R.subject_premise)||void 0===t||null===(n=t.property_location)||void 0===n?void 0:n.slice(0,13)}),(0,v.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:ne,children:O}),(0,v.jsx)(s.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===R||void 0===R||null===(b=R.subject_premise)||void 0===b?void 0:b.county}),(0,v.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:z}),(0,v.jsx)(s.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:ne,children:Y?H[2]:null}),!P&&(0,v.jsx)(s.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:T&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.A,{variant:"contained",onClick:()=>(e=>{const t=null===g.orderType||void 0===g.orderType?void 0:g.orderType.find((t=>(null===t||void 0===t?void 0:t.value)===e));E("/dashboard/orders/".concat(null===t||void 0===t?void 0:t.route,"/").concat(M),{state:j})})(X),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===U||void 0===U?void 0:U.length)>0?"Ordered":"Order"}),null===Y?(0,v.jsxs)(u.A,{id:"basic-menu",anchorEl:Z,open:K,onClose:Q,MenuListProps:{"aria-labelledby":"basic-button"},children:[null===Y&&(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.titleInsurance,"/").concat(M),children:"Title Insurance"}),(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.coopLienSearch,"/").concat(M),children:"Coop Lien Search"}),null===Y&&(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.eagle9Policy,"/").concat(M),children:"Eagle 9 Policy"}),null===Y&&(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.coopCondoOfferinPlans,"/").concat(M),children:"Coop/Condo Offering Plans"}),(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.uccCreateFile,"/").concat(M),children:"UCC - Create/File"}),null===Y&&(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.exchange1031,"/").concat(M),children:"1031 Exchange"}),null===Y&&(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.acrisETax,"/").concat(M),children:"Acris E-Tax Forms"}),(0,v.jsx)(p.A,{component:l.N_,to:"".concat(h.nB.orders.otherSearches,"/").concat(M),children:"Other Searches"})]}):(0,v.jsxs)(u.A,{id:"basic-menu",anchorEl:Z,open:K,onClose:Q,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,v.jsx)(p.A,{onClick:()=>I(),children:"Coop Lien Search"}),(0,v.jsx)(p.A,{onClick:()=>I(),children:"UCC - Create/File"}),(0,v.jsx)(p.A,{onClick:()=>I(),children:"Other Searches"})]})]})}),(0,v.jsx)(s.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,v.jsxs)(x.A,{onClick:ne,sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,v.jsx)(m.A,{icon:"material-symbols:edit",color:"#4C32A7"})]})}),(0,v.jsx)(s.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,v.jsxs)(x.A,{onClick:()=>{k(),te()},sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,v.jsx)(m.A,{icon:"eva:trash-2-outline",color:"Black"})]})}),(0,v.jsx)(s.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,v.jsx)(f.ZE,{open:$,onOpen:e=>{ee(e.currentTarget)},onClose:te,actions:(0,v.jsxs)(v.Fragment,{children:[w&&(0,v.jsxs)(p.A,{onClick:()=>{w(),te()},children:[(0,v.jsx)(m.A,{icon:"tabler:eye-filled"}),"View"]}),D&&(0,v.jsxs)(p.A,{onClick:()=>{D(),te()},children:[(0,v.jsx)(m.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);