"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7258],{46765:(e,n,l)=>{l.d(n,{A:()=>t});var o=l(9950);function t(e){const[n,l]=(0,o.useState)(e||"");return{currentTab:n,onChangeTab:(e,n)=>{l(n)},setCurrentTab:l}}},67258:(e,n,l)=>{l.r(n),l.d(n,{default:()=>O});var o=l(9950),t=l(79537),i=l(12257),a=l(75165),r=l(6368),s=l(82053),c=l(48089),d=l(74745),u=l(1320),h=l(15769),f=l(34075),g=l(91434),v=l(29031),x=l(13564),p=l(26689),m=l(89791),A=l(90260),j=l(46765),w=l(86608),C=l(38861),b=l(30744),S=l(66075),y=l(44185),_=l(63358),k=l(72870),D=l(12480),P=l(6768),T=l(32741),F=l(95074),N=l(98594),B=l(44414);const E=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:800},{id:"updated_at",label:"Date",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:""},{id:""},{id:""}];function O(){const{themeStretch:e}=(0,w.A)(),n=(0,x.Zp)(),{enqueueSnackbar:l}=(0,v.dh)(),{dense:O,page:R,order:L,orderBy:I,rowsPerPage:M,setPage:z,selected:U,setSelected:V,onSort:Z,onChangeDense:W,onChangePage:q,onChangeRowsPerPage:J}=(0,C.Ay)({defaultOrderBy:"createDate"}),[Y,G]=(0,o.useState)([]),[H,K]=(0,o.useState)(""),[Q,X]=(0,o.useState)("new"),[$,ee]=(0,o.useState)(null),[ne,le]=(0,o.useState)(null),{currentTab:oe,onChangeTab:te}=(0,j.A)("all"),[ie,ae]=(0,o.useState)("Title Insurance"),[re,se]=(0,o.useState)(!1),[ce,de]=(0,o.useState)(""),[ue,he]=(0,o.useState)(),[fe,ge]=(0,o.useState)(),[ve,xe]=(0,o.useState)([]),[pe,me]=(0,o.useState)(null);Boolean(pe);(0,o.useEffect)((()=>{(async()=>{se(!0);try{var e;const n=await T.A.get("employee/users/list");console.log(n,"all user"),xe(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.files),console.log(n,"autofill")}catch(n){console.log(n,"autofill")}finally{se(!1)}})()}),[]);const{Employeefile:Ae}=(0,b.d4)((e=>e.EmployeeFile));console.log(Ae,"file details"),(0,o.useEffect)((()=>{null!==Ae&&void 0!==Ae&&Ae.length&&ue&&G(Ae)}),[Ae]);const je=function(e){var n;let{tableData:l,comparator:o,filterName:t,filterStatus:i,filterService:a,filterStartDate:r,filterEndDate:s}=e;const c=null===(n=l)||void 0===n?void 0:n.map(((e,n)=>[e,n]));c.sort(((e,n)=>{const l=o(e[0],n[0]);return 0!==l?l:e[1]-n[1]})),l=c.map((e=>e[0])),t&&(l=l.filter((e=>-1!==e.file_name.toLowerCase().indexOf(t.toLowerCase())||-1!==e.file_no.toLowerCase().indexOf(t.toLowerCase()))));"all"!==i&&(l=l.filter((e=>e.status===i)));"new"!==a&&(l=l.filter((e=>e.status===a)));r&&s&&(l=l.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return l}({tableData:Y,comparator:(0,C.hz)(L,I),filterName:H,filterService:Q,filterStatus:oe,filterStartDate:$,filterEndDate:ne}),we=O?56:76,Ce=!je.length&&!!H||!je.length&&!!oe||!je.length&&!!Q||!je.length&&!!ne||!je.length&&!!$;return(0,B.jsxs)(t.A,{maxWidth:!e&&"lg",children:[re&&(0,B.jsx)(F.A,{}),(0,B.jsx)(_.A,{heading:"Your Files",links:[{name:"Dashboard",href:A.nB.root},{name:"File"}],action:(0,B.jsx)(i.A,{gap:1,direction:"row",children:(0,B.jsx)(a.A,{variant:"contained",component:p.N_,to:A.i8.file.addfile,startIcon:(0,B.jsx)(S.A,{icon:"clarity:form-line"}),children:"New File"})})}),(0,B.jsx)(i.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"center",sx:{mb:3,width:"25%"},children:(0,B.jsx)(m.Ay,{options:null===ve||void 0===ve?void 0:ve.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))),value:fe,onChange:e=>{console.log(e,"newFileId"),(0,b.JD)((0,N.oc)(e.value)),he(e.value),ge(e)},isSearchable:"true",placeholder:"Select a User"})}),(0,B.jsx)(r.A,{sx:{p:2},children:(0,B.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:ie.label})}),(0,B.jsxs)(c.A,{children:[(0,B.jsx)(d.A,{}),(0,B.jsx)(D.F5,{filterName:H,filterService:Q,filterStartDate:$,filterEndDate:ne,onFilterName:e=>{K(e),z(0)},onFilterService:e=>{X(e.target.value)},onFilterStartDate:e=>{ee(e)},onFilterEndDate:e=>{le(e)}}),(0,B.jsx)(y.A,{children:(0,B.jsx)(u.A,{sx:{minWidth:800,position:"relative"},children:(0,B.jsxs)(h.A,{size:O?"small":"medium",children:[(0,B.jsx)(k.er,{order:L,orderBy:I,headLabel:E,rowCount:Y.length,numSelected:U.length,onSort:Z}),(0,B.jsxs)(f.A,{children:[je.slice(R*M,R*M+M).map((e=>(0,B.jsx)(P.A,{row:e,onEditRow:()=>(e=>{n(A.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{n(A.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return n=e.id,se(!0),void T.A.delete("user/user_file/".concat(n)).then((e=>{if(console.log("response",e),se(!1),200===e.status||201===e.status){const e=Y.filter((e=>e.id!==n));V([]),G(e),l("Delete Successfully")}})).catch((e=>{se(!1),e.errors&&Object.keys(e.errors).map((n=>l(e.errors[n][0],{variant:"error"})))}));var n}},e.id))),(0,B.jsx)(k.dO,{height:we,emptyRows:(0,C.xl)(R,M,Y.length)}),(0,B.jsx)(k.Sm,{isNotFound:Ce})]})]})})}),(0,B.jsx)(r.A,{sx:{position:"relative"},children:(0,B.jsx)(g.A,{rowsPerPageOptions:[5,10,25],component:"div",count:je.length,rowsPerPage:M,page:R,onPageChange:q,onRowsPerPageChange:J})})]})]})}},6768:(e,n,l)=>{l.d(n,{A:()=>m});var o=l(9950),t=l(13564),i=l(26689),a=l(14857),r=l(9213),s=l(21671),c=l(93038),d=l(23266),u=l(75165),h=l(97591),f=l(90260),g=l(34437),v=(l(22704),l(33949),l(66075)),x=l(72870),p=l(44414);function m(e){var n,l,m,A,j,w,C,b,S,y;let{row:_,selected:k,onSelectRow:D,onAssign:P,onViewRow:T,onDocumentUpload:F,onDownloadDocument:N,onDeleteRow:B,onShareRow:E,onEditRow:O,onOrderContin:R,onStatusChange:L}=e;(0,a.A)();const{pathname:I}=(0,t.zy)(),M=(I.includes("admin"),(0,t.Zp)());console.log(_,"row");const{updated_at:z,DummyData:U,transaction_type:V,purchase_price:Z,file_no:W,file_name:q,id:J}=_,[Y,G]=(0,o.useState)(null),H=Boolean(Y),[K,Q]=(0,o.useState)(null),X=()=>{Q(null)},$=()=>{M("/dashboard/filepreview/".concat(null===_||void 0===_?void 0:_.id),{state:{row:_}})};return(0,p.jsxs)(r.A,{selected:k,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(D||k)&&(0,p.jsx)(s.A,{padding:"checkbox",children:(0,p.jsx)(c.A,{checked:k,onClick:D})}),(0,p.jsx)(s.A,{sx:{color:"#DD9A19"},align:"left",onClick:$,children:W}),(0,p.jsx)(s.A,{align:"left",onClick:$,children:q}),(0,p.jsx)(s.A,{align:"left",onClick:$,children:null===U||void 0===U||null===(n=U.subject_premise)||void 0===n?void 0:n.property_location}),(0,p.jsx)(s.A,{align:"left",onClick:$,children:z&&(0,g.ts)(z)}),(0,p.jsxs)(s.A,{align:"left",onClick:$,children:[(null===U||void 0===U||null===(l=U.buyers)||void 0===l?void 0:l.length)>0&&(null===U||void 0===U||null===(m=U.buyers[0])||void 0===m?void 0:m.first_name)," ",(null===U||void 0===U||null===(A=U.buyers)||void 0===A?void 0:A.length)>0&&(null===U||void 0===U||null===(j=U.buyers[0])||void 0===j?void 0:j.last_name)]}),(0,p.jsxs)(s.A,{align:"left",onClick:$,children:[(null===U||void 0===U||null===(w=U.sellers)||void 0===w?void 0:w.length)>0&&(null===U||void 0===U||null===(C=U.sellers[0])||void 0===C?void 0:C.first_name)," ",(null===U||void 0===U||null===(b=U.sellers)||void 0===b?void 0:b.length)>0&&(null===U||void 0===U||null===(S=U.sellers[0])||void 0===S?void 0:S.last_name)]}),(0,p.jsx)(s.A,{align:"left",onClick:$,children:V}),(0,p.jsx)(s.A,{align:"left",onClick:$,children:null===U||void 0===U||null===(y=U.lender)||void 0===y?void 0:y.organization}),(0,p.jsx)(s.A,{align:"left",children:(0,p.jsx)(d.A,{onClick:()=>{B(),X()},sx:{color:"error.main"},children:(0,p.jsx)(v.A,{icon:"eva:trash-2-outline"})})}),(0,p.jsx)(s.A,{align:"left",children:R&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.A,{variant:"contained","aria-controls":H?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":H?"true":void 0,onClick:e=>{G(e.currentTarget)},sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Order"}),(0,p.jsxs)(h.A,{id:"basic-menu",anchorEl:Y,open:H,onClose:()=>{G(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.titleInsurance,"/").concat(J),children:"Title Insurance"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.coopLienSearch,"/").concat(J),children:"Coop Lien Search"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.eagle9Policy,"/").concat(J),children:"Eagle 9 Policy"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.coopCondoOfferinPlans,"/").concat(J),children:"Coop/Condo Offering Plans"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.uccCreateFile,"/").concat(J),children:"UCC - Create/File"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.exchange1031,"/").concat(J),children:"1031 Exchange"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.acrisETax,"/").concat(J),children:"Acris E-Tax Forms"}),(0,p.jsx)(d.A,{component:i.N_,to:"".concat(f.nB.orders.otherSearches,"/").concat(J),children:"Other Searches"})]})]})}),(0,p.jsx)(s.A,{align:"right",children:(0,p.jsx)(x.ZE,{open:K,onOpen:e=>{Q(e.currentTarget)},onClose:X,actions:(0,p.jsxs)(p.Fragment,{children:[T&&(0,p.jsxs)(d.A,{onClick:()=>{T(),X()},children:[(0,p.jsx)(v.A,{icon:"tabler:eye-filled"}),"View"]}),E&&(0,p.jsxs)(d.A,{onClick:()=>{E(),X()},children:[(0,p.jsx)(v.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);