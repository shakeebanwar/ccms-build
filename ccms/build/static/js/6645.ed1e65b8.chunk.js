(self.webpackChunkccms=self.webpackChunkccms||[]).push([[6645],{27502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var r=n(99288),i=n.n(r),o=n(9950),l=n(13564),a=n(26689),s=n(14857),c=n(79537),d=n(75165),u=n(48089),h=n(12257),A=n(74745),p=n(68367),v=n(84142),x=n(1320),f=n(53065),m=n(25333),g=n(15769),j=n(34075),w=n(6368),b=n(91434),S=n(16497),y=n(37324),D=n(90260),C=n(46765),R=n(86608),k=n(38861),P=n(24642),N=n(8279),B=n(22704),T=n(66075),I=n(44185),L=n(63358),O=n(72870),z=n(46639),E=n(82053),F=n(63477),Z=n(44414);function M(e){let{title:t,total:n,icon:r,color:i,percent:o,price:l}=e;return(0,Z.jsxs)(h.A,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,Z.jsxs)(h.A,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,Z.jsx)(T.A,{icon:r,sx:{color:i,width:24,height:24,position:"absolute"}}),(0,Z.jsx)(z.A,{variant:"determinate",value:o,size:56,thickness:4,sx:{color:i,opacity:.48}}),(0,Z.jsx)(z.A,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,Z.jsxs)(h.A,{spacing:.5,sx:{ml:2},children:[(0,Z.jsx)(E.A,{variant:"h6",children:t}),(0,Z.jsxs)(E.A,{variant:"subtitle2",children:[(0,F.Rn)(n)," ",(0,Z.jsx)(w.A,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,Z.jsx)(E.A,{variant:"subtitle2",sx:{color:i},children:(0,F.KZ)(l)})]})]})}var W=n(12480);const U=["all","full stack development","backend development","ui design","ui/ux design","front end development"],$=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function K(){const e=(0,s.A)(),{themeStretch:t}=(0,R.A)(),n=(0,l.Zp)(),{dense:r,page:z,order:E,orderBy:F,rowsPerPage:K,setPage:V,selected:_,setSelected:q,onSelectRow:G,onSelectAllRows:H,onSort:J,onChangeDense:Q,onChangePage:X,onChangeRowsPerPage:Y}=(0,k.Ay)({defaultOrderBy:"createDate"}),[ee,te]=(0,o.useState)(P.U8),[ne,re]=(0,o.useState)(""),[ie,oe]=(0,o.useState)("all"),[le,ae]=(0,o.useState)(null),[se,ce]=(0,o.useState)(null),{currentTab:de,onChangeTab:ue}=(0,C.A)("all"),he=function(e){let{tableData:t,comparator:n,filterName:r,filterStatus:i,filterService:o,filterStartDate:l,filterEndDate:a}=e;const s=t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=s.map((e=>e[0])),r&&(t=t.filter((e=>-1!==e.invoiceNumber.toLowerCase().indexOf(r.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(r.toLowerCase()))));"all"!==i&&(t=t.filter((e=>e.status===i)));"all"!==o&&(t=t.filter((e=>e.items.some((e=>e.service===o)))));l&&a&&(t=t.filter((e=>e.createDate.getTime()>=l.getTime()&&e.createDate.getTime()<=a.getTime())));return t}({tableData:ee,comparator:(0,k.hz)(E,F),filterName:ne,filterService:ie,filterStatus:de,filterStartDate:le,filterEndDate:se}),Ae=r?56:76,pe=!he.length&&!!ne||!he.length&&!!de||!he.length&&!!ie||!he.length&&!!se||!he.length&&!!le,ve=e=>ee.filter((t=>t.status===e)).length,xe=e=>i()(ee.filter((t=>t.status===e)),"totalPrice"),fe=e=>ve(e)/ee.length*100,me=[{value:"all",label:"All",color:"info",count:ee.length},{value:"paid",label:"Paid",color:"success",count:ve("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:ve("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:ve("overdue")},{value:"draft",label:"Draft",color:"default",count:ve("draft")}];return(0,Z.jsx)(N.A,{title:"Invoice: List",children:(0,Z.jsxs)(c.A,{maxWidth:!t&&"lg",children:[(0,Z.jsx)(L.A,{heading:"Invoice List",links:[{name:"Dashboard",href:D.nB.root},{name:"Invoices",href:D.nB.invoice.root},{name:"List"}],action:(0,Z.jsx)(d.A,{variant:"contained",component:a.N_,to:D.nB.invoice.new,startIcon:(0,Z.jsx)(T.A,{icon:"eva:plus-fill"}),children:"New Invoice"})}),(0,Z.jsx)(u.A,{sx:{mb:5},children:(0,Z.jsx)(I.A,{children:(0,Z.jsxs)(h.A,{direction:"row",divider:(0,Z.jsx)(A.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,Z.jsx)(M,{title:"Total",total:ee.length,percent:100,price:i()(ee,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,Z.jsx)(M,{title:"Paid",total:ve("paid"),percent:fe("paid"),price:xe("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,Z.jsx)(M,{title:"Unpaid",total:ve("unpaid"),percent:fe("unpaid"),price:xe("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,Z.jsx)(M,{title:"Overdue",total:ve("overdue"),percent:fe("overdue"),price:xe("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,Z.jsx)(M,{title:"Draft",total:ve("draft"),percent:fe("draft"),price:xe("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,Z.jsxs)(u.A,{children:[(0,Z.jsx)(p.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:de,onChange:ue,sx:{px:2,bgcolor:"background.neutral"},children:me.map((e=>(0,Z.jsx)(v.A,{disableRipple:!0,value:e.value,label:(0,Z.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,Z.jsx)("div",{children:e.label})," ",(0,Z.jsxs)(B.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,Z.jsx)(A.A,{}),(0,Z.jsx)(W.F5,{filterName:ne,filterService:ie,filterStartDate:le,filterEndDate:se,onFilterName:e=>{re(e),V(0)},onFilterService:e=>{oe(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{ce(e)},optionsService:U}),(0,Z.jsx)(I.A,{children:(0,Z.jsxs)(x.A,{sx:{minWidth:800,position:"relative"},children:[_.length>0&&(0,Z.jsx)(O.r1,{dense:r,numSelected:_.length,rowCount:ee.length,onSelectAllRows:e=>H(e,ee.map((e=>e.id))),actions:(0,Z.jsxs)(h.A,{spacing:1,direction:"row",children:[(0,Z.jsx)(f.A,{title:"Sent",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"ic:round-send"})})}),(0,Z.jsx)(f.A,{title:"Download",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"eva:download-outline"})})}),(0,Z.jsx)(f.A,{title:"Print",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"eva:printer-fill"})})}),(0,Z.jsx)(f.A,{title:"Delete",children:(0,Z.jsx)(m.A,{color:"primary",onClick:()=>(e=>{const t=ee.filter((t=>!e.includes(t.id)));q([]),te(t)})(_),children:(0,Z.jsx)(T.A,{icon:"eva:trash-2-outline"})})})]})}),(0,Z.jsxs)(g.A,{size:r?"small":"medium",children:[(0,Z.jsx)(O.er,{order:E,orderBy:F,headLabel:$,rowCount:ee.length,numSelected:_.length,onSort:J,onSelectAllRows:e=>H(e,ee.map((e=>e.id)))}),(0,Z.jsxs)(j.A,{children:[he.slice(z*K,z*K+K).map((e=>(0,Z.jsx)(W.oR,{row:e,selected:_.includes(e.id),onSelectRow:()=>G(e.id),onViewRow:()=>{return t=e.id,void n(D.nB.invoice.view(t));var t},onEditRow:()=>{return t=e.id,void n(D.nB.invoice.edit(t));var t},onDeleteRow:()=>(e=>{const t=ee.filter((t=>t.id!==e));q([]),te(t)})(e.id)},e.id))),(0,Z.jsx)(O.dO,{height:Ae,emptyRows:(0,k.xl)(z,K,ee.length)}),(0,Z.jsx)(O.Sm,{isNotFound:pe})]})]})]})}),(0,Z.jsxs)(w.A,{sx:{position:"relative"},children:[(0,Z.jsx)(b.A,{rowsPerPageOptions:[5,10,25],component:"div",count:he.length,rowsPerPage:K,page:z,onPageChange:X,onRowsPerPageChange:Y}),(0,Z.jsx)(S.A,{control:(0,Z.jsx)(y.A,{checked:r,onChange:Q}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},48089:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(58168),i=n(98587),o=n(9950),l=n(2803),a=n(5747),s=n(7951),c=n(79859),d=n(70693),u=n(37665);function h(e){return(0,u.A)("MuiCard",e)}(0,n(44245).A)("MuiCard",["root"]);var A=n(44414);const p=["className","raised"],v=(0,s.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),x=o.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiCard"}),{className:o,raised:s=!1}=n,d=(0,i.A)(n,p),u=(0,r.A)({},n,{raised:s}),x=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},h,t)})(u);return(0,A.jsx)(v,(0,r.A)({className:(0,l.A)(x.root,o),elevation:s?8:void 0,ref:t,ownerState:u},d))}))},58835:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(56712),i=n(50624),o=n(98889),l=n(78397),a=n(66922);function s(e,t){if((0,l.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,a.A)(t.years):0,s=t.months?(0,a.A)(t.months):0,c=t.weeks?(0,a.A)(t.weeks):0,d=t.days?(0,a.A)(t.days):0,u=t.hours?(0,a.A)(t.hours):0,h=t.minutes?(0,a.A)(t.minutes):0,A=t.seconds?(0,a.A)(t.seconds):0,p=(0,o.A)(e),v=s||n?(0,i.A)(p,s+12*n):p,x=d||c?(0,r.A)(v,d+7*c):v,f=1e3*(A+60*(h+60*u));return new Date(x.getTime()+f)}},51790:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(66922),i=n(56712),o=n(78397);var l=n(50624);function a(e,t){if((0,o.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,r.A)(t.years):0,a=t.months?(0,r.A)(t.months):0,s=t.weeks?(0,r.A)(t.weeks):0,c=t.days?(0,r.A)(t.days):0,d=t.hours?(0,r.A)(t.hours):0,u=t.minutes?(0,r.A)(t.minutes):0,h=t.seconds?(0,r.A)(t.seconds):0,A=function(e,t){(0,o.A)(2,arguments);var n=(0,r.A)(t);return(0,l.A)(e,-n)}(e,a+12*n),p=function(e,t){(0,o.A)(2,arguments);var n=(0,r.A)(t);return(0,i.A)(e,-n)}(A,c+7*s),v=1e3*(h+60*(u+60*d));return new Date(p.getTime()-v)}},99288:(e,t,n)=>{var r=n(15127),i=n(12863);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):0}},61565:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});function r(e){return e.toLowerCase()}var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function l(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,l=void 0===n?i:n,s=t.stripRegexp,c=void 0===s?o:s,d=t.transform,u=void 0===d?r:d,h=t.delimiter,A=void 0===h?" ":h,p=a(a(e,l,"$1\0$2"),c,"\0"),v=0,x=p.length;"\0"===p.charAt(v);)v++;for(;"\0"===p.charAt(x-1);)x--;return p.slice(v,x).split("\0").map(u).join(A)}function a(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}}}]);