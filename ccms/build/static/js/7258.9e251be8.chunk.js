"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7258],{67258:(e,o,n)=>{n.r(o),n.d(o,{default:()=>R});var l=n(9950),t=n(79537),i=n(48089),r=n(6368),a=n(12257),d=n(75165),s=n(1320),c=n(15769),p=n(34075),x=n(91434),f=n(29031),h=n(99532),u=n(13564),g=n(26689),m=n(48711),b=n(55858),j=n(90260),v=n(46765),A=n(86608),C=n(38861),w=n(34117),S=(n(66075),n(44185)),y=n(63358),_=n(72870),k=(n(12480),n(6768)),B=n(32741),T=n(95074),P=n(98594),D=n(44414);const N=[{id:"file_no",label:"File No",align:"left",width:800},{id:"file_name",label:"File Name",align:"left",width:1e3},{id:"property_location",label:"address",align:"left",width:600},{id:"property_type",label:"Property Type",align:"left",width:400},{id:"county",label:"County",align:"left",width:400},{id:"purchse_price",label:"Purchase Price",align:"left",width:400},{id:"update_by_pdf",label:"Contract",align:"left",width:400},{id:"",label:"Edit",align:"left",width:100},{id:"",label:"Delete",align:"left",width:100},{id:"",label:(0,D.jsx)(b.A,{color:"#e9eff4"}),align:"center",width:100}];function R(){const{themeStretch:e}=(0,A.A)(),o=(0,u.Zp)(),{enqueueSnackbar:n}=(0,f.dh)(),{dense:b,page:R,order:E,orderBy:O,rowsPerPage:F,setPage:L,selected:z,setSelected:W,onSort:I,onChangeDense:V,onChangePage:U,onChangeRowsPerPage:Z}=(0,C.Ay)({defaultOrderBy:"createDate"}),[M,q]=(0,l.useState)([]),[H,J]=(0,l.useState)(""),[G,K]=(0,l.useState)("new"),[Q,X]=(0,l.useState)(null),[Y,$]=(0,l.useState)(null),{currentTab:ee,onChangeTab:oe}=(0,v.A)("all"),[ne,le]=(0,l.useState)("All"),[te,ie]=(0,l.useState)(!1),[re,ae]=(0,l.useState)(""),[de,se]=(0,l.useState)(),[ce,pe]=(0,l.useState)(),[xe,fe]=(0,l.useState)([]),[he,ue]=(0,l.useState)(null);Boolean(he);(0,l.useEffect)((()=>{(async()=>{ie(!0);try{var e;const o=await B.A.get("employee/users/list");console.log(o,"all user"),fe(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.files),console.log(o,"autofill")}catch(o){console.log(o,"autofill")}finally{ie(!1)}})()}),[]);const{Employeefile:ge}=(0,w.d4)((e=>e.EmployeeFile));console.log(ge,"file details"),(0,l.useEffect)((()=>{null!==ge&&void 0!==ge&&ge.length&&de&&q(ge)}),[ge]);const me=function(e){var o;let{tableData:n,comparator:l,filterName:t,filterStatus:i,filterService:r,filterStartDate:a,filterEndDate:d}=e;const s=null===(o=n)||void 0===o?void 0:o.map(((e,o)=>[e,o]));s.sort(((e,o)=>{const n=l(e[0],o[0]);return 0!==n?n:e[1]-o[1]})),n=s.map((e=>e[0])),t&&(n=n.filter((e=>-1!==e.file_name.toLowerCase().indexOf(t.toLowerCase())||-1!==e.file_no.toLowerCase().indexOf(t.toLowerCase()))));"all"!==i&&(n=n.filter((e=>e.status===i)));"new"!==r&&(n=n.filter((e=>e.status===r)));a&&d&&(n=n.filter((e=>e.updated_at.getTime()>=a.getTime()&&e.updated_at.getTime()<=d.getTime())));return n}({tableData:M,comparator:(0,C.hz)(E,O),filterName:H,filterService:G,filterStatus:ee,filterStartDate:Q,filterEndDate:Y}),be=b?56:76,je=!me.length&&!!H||!me.length&&!!ee||!me.length&&!!G||!me.length&&!!Y||!me.length&&!!Q;return(0,D.jsxs)(t.A,{maxWidth:!e&&"xl",children:[te&&(0,D.jsx)(T.A,{}),(0,D.jsxs)(i.A,{sx:{borderRadius:"0px"},children:[(0,D.jsxs)(r.A,{sx:{bgcolor:"#2e3c56",paddingLeft:"20px",paddingRight:"20px",display:"flex",justifyContent:"space-between",padding:"5px"},children:[(0,D.jsx)(a.A,{gap:1,sx:{width:"25%"},children:(0,D.jsx)(m.Ay,{options:null===xe||void 0===xe?void 0:xe.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.first_name," ").concat(null===e||void 0===e?void 0:e.last_name),value:null===e||void 0===e?void 0:e.id}))),value:ce,onChange:e=>{console.log(e,"newFileId"),(0,w.JD)((0,P.oc)(e.value)),se(e.value),pe(e)},isSearchable:"true",placeholder:"Search user",className:"w-100 py-3",styles:{control:e=>({...e,backgroundColor:"#4e596f",color:"white",border:"none",borderRadius:"0px",minHeight:"48px"}),menu:e=>({...e,backgroundColor:"#4e596f",color:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"}),option:(e,o)=>({...e,backgroundColor:o.isFocused?"#333":"#4e596f",color:"white",padding:"10px 15px","&:active":{backgroundColor:"#444"}}),singleValue:e=>({...e,color:"white"}),placeholder:e=>({...e,color:"#aaa"}),dropdownIndicator:e=>({...e,color:"#aaa","&:hover":{color:"#fff"}}),indicatorSeparator:e=>({...e,display:"none"})}})}),(0,D.jsx)(a.A,{children:(0,D.jsx)(g.N_,{to:j.i8.file.addfile,style:{textDecoration:"none"},children:(0,D.jsx)(d.A,{sx:{color:"#fff",bgcolor:"#2e3c56",boxShadow:"none",margin:"4px","&:hover":{bgcolor:"#2e3c56"}},variant:"contained",startIcon:(0,D.jsx)(h.A,{}),children:"New File"})})})]}),(0,D.jsx)(y.A,{sx:{paddingTop:"10px",paddingLeft:"20px"},links:[{name:"Dashboard",href:j.nB.root},{name:"Files"}]}),(0,D.jsx)(S.A,{children:(0,D.jsx)(s.A,{sx:{minWidth:800,position:"relative"},children:(0,D.jsxs)(c.A,{size:b?"small":"medium",children:[(0,D.jsx)(_.er,{order:E,orderBy:O,headLabel:N,rowCount:M.length,numSelected:z.length,onSort:I}),(0,D.jsxs)(p.A,{children:[me.slice(R*F,R*F+F).map((e=>(0,D.jsx)(k.A,{row:e,onEditRow:()=>(e=>{o(j.i8.file.editfile(null===e||void 0===e?void 0:e.id),{state:e})})(e),onViewRow:()=>(e=>{o(j.i8.file.filepreview(null===e||void 0===e?void 0:e.id),{state:e})})(e),onDeleteRow:()=>{return o=e.id,ie(!0),void B.A.delete("user/user_file/".concat(o)).then((e=>{if(console.log("response",e),ie(!1),200===e.status||201===e.status){const e=M.filter((e=>e.id!==o));W([]),q(e),n("Delete Successfully")}})).catch((e=>{ie(!1),e.errors&&Object.keys(e.errors).map((o=>n(e.errors[o][0],{variant:"error"})))}));var o}},e.id))),(0,D.jsx)(_.dO,{height:be,emptyRows:(0,C.xl)(R,F,M.length)}),(0,D.jsx)(_.Sm,{isNotFound:je})]})]})})}),(0,D.jsx)(r.A,{sx:{position:"relative"},children:(0,D.jsx)(x.A,{rowsPerPageOptions:[5,10,25],component:"div",count:me.length,rowsPerPage:F,page:R,onPageChange:U,onRowsPerPageChange:Z})})]})]})}},6768:(e,o,n)=>{n.d(o,{A:()=>j});var l=n(9950),t=n(13564),i=n(26689),r=n(14857),a=n(9213),d=n(21671),s=n(93038),c=n(75165),p=n(97591),x=n(23266),f=n(82053),h=n(90260),u=(n(22704),n(33949),n(66075)),g=n(72870),m=n(98632),b=n(44414);function j(e){var o,n,j;let{row:v,selected:A,onSelectRow:C,onAssign:w,onViewRow:S,onDocumentUpload:y,onDownloadDocument:_,onDeleteRow:k,onShareRow:B,onEditRow:T,onOrderContin:P,onStatusChange:D,CreateOrderByPdf:N}=e;(0,r.A)();const{pathname:R}=(0,t.zy)(),E=R.includes("employee"),O=(0,t.Zp)();console.log(v,"row");const{updated_at:F,DummyData:L,transaction_type:z,purchase_price:W,file_no:I,file_name:V,id:U,_count:Z,orders:M,user:q,file_pdf:H,orders_type:J}=v,G=null===H||void 0===H?void 0:H.split("/");console.log(G,"pdfName");const[K,Q]=(0,l.useState)(null),X=Boolean(K),Y=()=>{Q(null)},[$,ee]=(0,l.useState)(null),oe=()=>{ee(null)},ne=()=>{E||O("/dashboard/filepreview/".concat(null===v||void 0===v?void 0:v.id),{state:{row:v}})};return(0,b.jsxs)(a.A,{selected:A,hover:!0,children:[(C||A)&&(0,b.jsx)(d.A,{padding:"checkbox",children:(0,b.jsx)(s.A,{checked:A,onClick:C})}),(0,b.jsx)(d.A,{sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400",color:"#dd9419"},align:"left",onClick:ne,children:I}),(0,b.jsx)(d.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:V}),(0,b.jsx)(d.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===L||void 0===L||null===(o=L.subject_premise)||void 0===o||null===(n=o.property_location)||void 0===n?void 0:n.slice(0,13)}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:ne,children:z}),(0,b.jsx)(d.A,{align:"left",onClick:ne,sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:null===L||void 0===L||null===(j=L.subject_premise)||void 0===j?void 0:j.county}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:W}),(0,b.jsx)(d.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:ne,children:H?G[2]:null}),!E&&(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:P&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.A,{variant:"contained",onClick:()=>(e=>{const o=null===m.orderType||void 0===m.orderType?void 0:m.orderType.find((o=>(null===o||void 0===o?void 0:o.value)===e));O("/dashboard/orders/".concat(null===o||void 0===o?void 0:o.route,"/").concat(U),{state:v})})(J),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===M||void 0===M?void 0:M.length)>0?"Ordered":"Order"}),null===H?(0,b.jsxs)(p.A,{id:"basic-menu",anchorEl:K,open:X,onClose:Y,MenuListProps:{"aria-labelledby":"basic-button"},children:[null===H&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.titleInsurance,"/").concat(U),children:"Title Insurance"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.coopLienSearch,"/").concat(U),children:"Coop Lien Search"}),null===H&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.eagle9Policy,"/").concat(U),children:"Eagle 9 Policy"}),null===H&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.coopCondoOfferinPlans,"/").concat(U),children:"Coop/Condo Offering Plans"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.uccCreateFile,"/").concat(U),children:"UCC - Create/File"}),null===H&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.exchange1031,"/").concat(U),children:"1031 Exchange"}),null===H&&(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.acrisETax,"/").concat(U),children:"Acris E-Tax Forms"}),(0,b.jsx)(x.A,{component:i.N_,to:"".concat(h.nB.orders.otherSearches,"/").concat(U),children:"Other Searches"})]}):(0,b.jsxs)(p.A,{id:"basic-menu",anchorEl:K,open:X,onClose:Y,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,b.jsx)(x.A,{onClick:()=>N(),children:"Coop Lien Search"}),(0,b.jsx)(x.A,{onClick:()=>N(),children:"UCC - Create/File"}),(0,b.jsx)(x.A,{onClick:()=>N(),children:"Other Searches"})]})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsxs)(f.A,{onClick:ne,sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,b.jsx)(u.A,{icon:"material-symbols:edit",color:"#4C32A7"})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsxs)(f.A,{onClick:()=>{k(),oe()},sx:{color:"#fff",backgroundColor:"#e1eaf9",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",margin:"2px"},children:[" ",(0,b.jsx)(u.A,{icon:"eva:trash-2-outline",color:"Black"})]})}),(0,b.jsx)(d.A,{align:"center",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px"},children:(0,b.jsx)(g.ZE,{open:$,onOpen:e=>{ee(e.currentTarget)},onClose:oe,actions:(0,b.jsxs)(b.Fragment,{children:[S&&(0,b.jsxs)(x.A,{onClick:()=>{S(),oe()},children:[(0,b.jsx)(u.A,{icon:"tabler:eye-filled"}),"View"]}),B&&(0,b.jsxs)(x.A,{onClick:()=>{B(),oe()},children:[(0,b.jsx)(u.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);