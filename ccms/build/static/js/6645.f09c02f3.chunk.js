(self.webpackChunkccms=self.webpackChunkccms||[]).push([[6645],{27502:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var i=n(99288),r=n.n(i),l=n(9950),o=n(13564),a=n(26689),s=n(14857),c=n(79537),d=n(75165),u=n(48089),h=n(12257),p=n(74745),A=n(68367),x=n(84142),v=n(1320),f=n(53065),m=n(25333),g=n(15769),j=n(34075),w=n(6368),b=n(91434),S=n(16497),y=n(37324),D=n(90260),C=n(46765),k=n(86608),P=n(38861),R=n(24642),N=n(8279),B=n(22704),T=n(66075),I=n(44185),L=n(63358),O=n(72870),z=n(46639),E=n(82053),F=n(63477),Z=n(44414);function W(e){let{title:t,total:n,icon:i,color:r,percent:l,price:o}=e;return(0,Z.jsxs)(h.A,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,Z.jsxs)(h.A,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,Z.jsx)(T.A,{icon:i,sx:{color:r,width:24,height:24,position:"absolute"}}),(0,Z.jsx)(z.A,{variant:"determinate",value:l,size:56,thickness:4,sx:{color:r,opacity:.48}}),(0,Z.jsx)(z.A,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,Z.jsxs)(h.A,{spacing:.5,sx:{ml:2},children:[(0,Z.jsx)(E.A,{variant:"h6",children:t}),(0,Z.jsxs)(E.A,{variant:"subtitle2",children:[(0,F.Rn)(n)," ",(0,Z.jsx)(w.A,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,Z.jsx)(E.A,{variant:"subtitle2",sx:{color:r},children:(0,F.KZ)(o)})]})]})}var U=n(12480);const $=["all","full stack development","backend development","ui design","ui/ux design","front end development"],K=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"sent",label:"Sent",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function M(){const e=(0,s.A)(),{themeStretch:t}=(0,k.A)(),n=(0,o.Zp)(),{dense:i,page:z,order:E,orderBy:F,rowsPerPage:M,setPage:V,selected:_,setSelected:q,onSelectRow:G,onSelectAllRows:H,onSort:J,onChangeDense:Q,onChangePage:X,onChangeRowsPerPage:Y}=(0,P.Ay)({defaultOrderBy:"createDate"}),[ee,te]=(0,l.useState)(R.U8),[ne,ie]=(0,l.useState)(""),[re,le]=(0,l.useState)("all"),[oe,ae]=(0,l.useState)(null),[se,ce]=(0,l.useState)(null),{currentTab:de,onChangeTab:ue}=(0,C.A)("all"),he=function(e){let{tableData:t,comparator:n,filterName:i,filterStatus:r,filterService:l,filterStartDate:o,filterEndDate:a}=e;const s=t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=s.map((e=>e[0])),i&&(t=t.filter((e=>-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase()))));"all"!==r&&(t=t.filter((e=>e.status===r)));"all"!==l&&(t=t.filter((e=>e.items.some((e=>e.service===l)))));o&&a&&(t=t.filter((e=>e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime())));return t}({tableData:ee,comparator:(0,P.hz)(E,F),filterName:ne,filterService:re,filterStatus:de,filterStartDate:oe,filterEndDate:se}),pe=i?56:76,Ae=!he.length&&!!ne||!he.length&&!!de||!he.length&&!!re||!he.length&&!!se||!he.length&&!!oe,xe=e=>ee.filter((t=>t.status===e)).length,ve=e=>r()(ee.filter((t=>t.status===e)),"totalPrice"),fe=e=>xe(e)/ee.length*100,me=[{value:"all",label:"All",color:"info",count:ee.length},{value:"paid",label:"Paid",color:"success",count:xe("paid")},{value:"unpaid",label:"Unpaid",color:"warning",count:xe("unpaid")},{value:"overdue",label:"Overdue",color:"error",count:xe("overdue")},{value:"draft",label:"Draft",color:"default",count:xe("draft")}];return(0,Z.jsx)(N.A,{title:"Invoice: List",children:(0,Z.jsxs)(c.A,{maxWidth:!t&&"lg",children:[(0,Z.jsx)(L.A,{heading:"Invoice List",links:[{name:"Dashboard",href:D.nB.root},{name:"Invoices",href:D.nB.invoice.root},{name:"List"}],action:(0,Z.jsx)(d.A,{variant:"contained",component:a.N_,to:D.nB.invoice.new,startIcon:(0,Z.jsx)(T.A,{icon:"eva:plus-fill"}),children:"New Invoice"})}),(0,Z.jsx)(u.A,{sx:{mb:5},children:(0,Z.jsx)(I.A,{children:(0,Z.jsxs)(h.A,{direction:"row",divider:(0,Z.jsx)(p.A,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,Z.jsx)(W,{title:"Total",total:ee.length,percent:100,price:r()(ee,"totalPrice"),icon:"ic:round-receipt",color:e.palette.info.main}),(0,Z.jsx)(W,{title:"Paid",total:xe("paid"),percent:fe("paid"),price:ve("paid"),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,Z.jsx)(W,{title:"Unpaid",total:xe("unpaid"),percent:fe("unpaid"),price:ve("unpaid"),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,Z.jsx)(W,{title:"Overdue",total:xe("overdue"),percent:fe("overdue"),price:ve("overdue"),icon:"eva:bell-fill",color:e.palette.error.main}),(0,Z.jsx)(W,{title:"Draft",total:xe("draft"),percent:fe("draft"),price:ve("draft"),icon:"eva:file-fill",color:e.palette.text.secondary})]})})}),(0,Z.jsxs)(u.A,{children:[(0,Z.jsx)(A.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:de,onChange:ue,sx:{px:2,bgcolor:"background.neutral"},children:me.map((e=>(0,Z.jsx)(x.A,{disableRipple:!0,value:e.value,label:(0,Z.jsxs)(h.A,{spacing:1,direction:"row",alignItems:"center",children:[(0,Z.jsx)("div",{children:e.label})," ",(0,Z.jsxs)(B.A,{color:e.color,children:[" ",e.count," "]})]})},e.value)))}),(0,Z.jsx)(p.A,{}),(0,Z.jsx)(U.F5,{filterName:ne,filterService:re,filterStartDate:oe,filterEndDate:se,onFilterName:e=>{ie(e),V(0)},onFilterService:e=>{le(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{ce(e)},optionsService:$}),(0,Z.jsx)(I.A,{children:(0,Z.jsxs)(v.A,{sx:{minWidth:800,position:"relative"},children:[_.length>0&&(0,Z.jsx)(O.r1,{dense:i,numSelected:_.length,rowCount:ee.length,onSelectAllRows:e=>H(e,ee.map((e=>e.id))),actions:(0,Z.jsxs)(h.A,{spacing:1,direction:"row",children:[(0,Z.jsx)(f.A,{title:"Sent",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"ic:round-send"})})}),(0,Z.jsx)(f.A,{title:"Download",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"eva:download-outline"})})}),(0,Z.jsx)(f.A,{title:"Print",children:(0,Z.jsx)(m.A,{color:"primary",children:(0,Z.jsx)(T.A,{icon:"eva:printer-fill"})})}),(0,Z.jsx)(f.A,{title:"Delete",children:(0,Z.jsx)(m.A,{color:"primary",onClick:()=>(e=>{const t=ee.filter((t=>!e.includes(t.id)));q([]),te(t)})(_),children:(0,Z.jsx)(T.A,{icon:"eva:trash-2-outline"})})})]})}),(0,Z.jsxs)(g.A,{size:i?"small":"medium",children:[(0,Z.jsx)(O.er,{order:E,orderBy:F,headLabel:K,rowCount:ee.length,numSelected:_.length,onSort:J,onSelectAllRows:e=>H(e,ee.map((e=>e.id)))}),(0,Z.jsxs)(j.A,{children:[he.slice(z*M,z*M+M).map((e=>(0,Z.jsx)(U.oR,{row:e,selected:_.includes(e.id),onSelectRow:()=>G(e.id),onViewRow:()=>{return t=e.id,void n(D.nB.invoice.view(t));var t},onEditRow:()=>{return t=e.id,void n(D.nB.invoice.edit(t));var t},onDeleteRow:()=>(e=>{const t=ee.filter((t=>t.id!==e));q([]),te(t)})(e.id)},e.id))),(0,Z.jsx)(O.dO,{height:pe,emptyRows:(0,P.xl)(z,M,ee.length)}),(0,Z.jsx)(O.Sm,{isNotFound:Ae})]})]})]})}),(0,Z.jsxs)(w.A,{sx:{position:"relative"},children:[(0,Z.jsx)(b.A,{rowsPerPageOptions:[5,10,25],component:"div",count:he.length,rowsPerPage:M,page:z,onPageChange:X,onRowsPerPageChange:Y}),(0,Z.jsx)(S.A,{control:(0,Z.jsx)(y.A,{checked:i,onChange:Q}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},58835:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(56712),r=n(50624),l=n(98889),o=n(78397),a=n(66922);function s(e,t){if((0,o.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,a.A)(t.years):0,s=t.months?(0,a.A)(t.months):0,c=t.weeks?(0,a.A)(t.weeks):0,d=t.days?(0,a.A)(t.days):0,u=t.hours?(0,a.A)(t.hours):0,h=t.minutes?(0,a.A)(t.minutes):0,p=t.seconds?(0,a.A)(t.seconds):0,A=(0,l.A)(e),x=s||n?(0,r.A)(A,s+12*n):A,v=d||c?(0,i.A)(x,d+7*c):x,f=1e3*(p+60*(h+60*u));return new Date(v.getTime()+f)}},51790:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(66922),r=n(56712),l=n(78397);var o=n(50624);function a(e,t){if((0,l.A)(2,arguments),!t||"object"!==typeof t)return new Date(NaN);var n=t.years?(0,i.A)(t.years):0,a=t.months?(0,i.A)(t.months):0,s=t.weeks?(0,i.A)(t.weeks):0,c=t.days?(0,i.A)(t.days):0,d=t.hours?(0,i.A)(t.hours):0,u=t.minutes?(0,i.A)(t.minutes):0,h=t.seconds?(0,i.A)(t.seconds):0,p=function(e,t){(0,l.A)(2,arguments);var n=(0,i.A)(t);return(0,o.A)(e,-n)}(e,a+12*n),A=function(e,t){(0,l.A)(2,arguments);var n=(0,i.A)(t);return(0,r.A)(e,-n)}(p,c+7*s),x=1e3*(h+60*(u+60*d));return new Date(A.getTime()-x)}},99288:(e,t,n)=>{var i=n(15127),r=n(12863);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):0}},61565:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});function i(e){return e.toLowerCase()}var r=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],l=/[^A-Z0-9]+/gi;function o(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,o=void 0===n?r:n,s=t.stripRegexp,c=void 0===s?l:s,d=t.transform,u=void 0===d?i:d,h=t.delimiter,p=void 0===h?" ":h,A=a(a(e,o,"$1\0$2"),c,"\0"),x=0,v=A.length;"\0"===A.charAt(x);)x++;for(;"\0"===A.charAt(v-1);)v--;return A.slice(x,v).split("\0").map(u).join(p)}function a(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}}}]);