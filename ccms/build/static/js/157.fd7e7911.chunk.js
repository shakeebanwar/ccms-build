"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[157],{80157:(e,s,n)=>{n.r(s),n.d(s,{default:()=>N});var r=n(26689),i=n(79537),a=n(6368),t=n(75165),o=n(82053),d=n(7951),l=n(35954),c=n(90260),p=n(66075),h=n(8279),m=n(9950),u=n(60666),x=n(13564),w=n(29031),f=n(68654),j=n(9449),A=n(12257),g=n(2046),y=n(25333),b=n(28095),P=n(52401),k=n(33507),v=n(44414);function C(){const{resetPassword:e}=(0,k.A)(),s=(0,x.Zp)(),{state:{varificationCode:n}}=(0,x.zy)(),{enqueueSnackbar:r}=(0,w.dh)(),[i,a]=(0,m.useState)(!1),[t,o]=(0,m.useState)(!1),d=u.Ik().shape({password:u.Yj().required("New Password is required"),confirm_password:u.Yj().oneOf([u.KR("password"),null],"Passwords don't match!").required("Confirm New Password is required")}),l=(0,j.mN)({resolver:(0,f.t)(d),defaultValues:{token:n}}),{handleSubmit:h,formState:{isSubmitting:C}}=l;return(0,v.jsx)(P.Op,{methods:l,onSubmit:h((async n=>{try{const i=(await e(n)).data;r("Password Change Successfully!"),"admin"===i.role?s(c.pi.adminLogin,{replace:!0}):"employee"===i.role?s(c.pi.employeeLogin,{replace:!0}):s(c.pi.login,{replace:!0})}catch(i){console.error(i)}})),children:(0,v.jsxs)(A.A,{spacing:3,children:[(0,v.jsx)(P.o3,{name:"password",label:"New Password",type:i?"text":"password",InputProps:{endAdornment:(0,v.jsx)(g.A,{position:"end",children:(0,v.jsx)(y.A,{onClick:()=>a(!i),edge:"end",children:(0,v.jsx)(p.A,{icon:i?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,v.jsx)(P.o3,{name:"confirm_password",label:"Confirm New Password",type:i?"text":"password",InputProps:{endAdornment:(0,v.jsx)(g.A,{position:"end",children:(0,v.jsx)(y.A,{onClick:()=>o(!t),edge:"end",children:(0,v.jsx)(p.A,{icon:t?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,v.jsx)(b.A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:C,children:"Change Password"})]})})}const S=(0,d.Ay)("div")((e=>{let{theme:s}=e;return{display:"flex",height:"100%",alignItems:"center",padding:s.spacing(12,0)}}));function N(){return(0,v.jsx)(h.A,{title:"Verify",sx:{height:1},children:(0,v.jsxs)(S,{children:[(0,v.jsx)(l.A,{}),(0,v.jsx)(i.A,{children:(0,v.jsxs)(a.A,{sx:{maxWidth:480,mx:"auto"},children:[(0,v.jsx)(t.A,{size:"small",component:r.N_,to:c.pi.resetPassword,startIcon:(0,v.jsx)(p.A,{icon:"eva:arrow-ios-back-fill",width:20,height:20}),sx:{mb:3},children:"Back"}),(0,v.jsx)(o.A,{variant:"h3",paragraph:!0,children:"Please enter new password!"}),(0,v.jsx)(a.A,{sx:{mt:5,mb:3},children:(0,v.jsx)(C,{})})]})})]})})}}}]);