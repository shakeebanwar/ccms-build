(self.webpackChunkccms=self.webpackChunkccms||[]).push([[9868],{60254:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var o=n(9950),l=n(79537),r=n(6368),i=n(82053),a=n(29031),s=n(13564),d=(n(73114),n(8279)),c=n(30818),u=n(34117),y=n(86608),m=n(32741),h=n(48089),p=n(12257),v=n(8145),x=n(74745),g=n(73878),b=(n(87307),n(28095)),f=n(14650),_=(n(52401),n(44414));const j=e=>{let{docID:t,FileId:n,data:l,fileName:i}=e;const{enqueueSnackbar:d}=(0,a.dh)(),[u,y]=(0,o.useState)(null===l||void 0===l?void 0:l.title_name),[j,A]=(0,o.useState)([]),w=(0,s.Zp)(),S=(0,g.wA)(),{file:C}=(0,g.d4)((e=>e.File));null===C||void 0===C||C.find((e=>(null===e||void 0===e?void 0:e.id)===Number(n)));console.log(l,"file details"),(0,o.useEffect)((()=>{S((0,c.oc)())}),[]);const k=(0,o.useRef)(null),[N,L]=(0,o.useState)(!1),[B,I]=(0,o.useState)(!1),[D,R]=(0,o.useState)("");(0,o.useEffect)((()=>{(async()=>{try{var e;const o=await m.A.get("user/download/html_user_pdf/".concat(t,"/1"));if(null!==o&&void 0!==o&&null!==(e=o.data)&&void 0!==e&&e.status){var n;const e=null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.pdf_text;console.log(e,"htmlContent"),k.current&&(k.current.innerHTML=e)}}catch(o){console.log(o)}})().then((()=>{(()=>{if(!k.current)return;const e=k.current;e.querySelectorAll("img"),e.querySelectorAll("p"),e.querySelectorAll("h1, h2, h3").forEach((e=>{e.style.color="#403390",e.style.fontWeight="bold",e.style.borderBottom="2px solid #403390"})),e.querySelectorAll("a").forEach((e=>{e.style.color="#0056b3",e.style.textDecoration="underline"}))})()}))}),[]);const E=(e,t)=>{e.dataTransfer.setData("text",t)},F=e=>{A((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e])),document.execCommand(e,!1,null)},z=e=>{const t="heading".concat(e);A((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t])),document.execCommand("formatBlock",!1,"<h".concat(e,">"))},M=e=>({border:"none",borderRadius:"10px",padding:"5px",backgroundColor:j.includes(e)?"#403390":"transparent",color:j.includes(e)?"white":"black"});return(0,_.jsx)(h.A,{sx:{mb:5,p:2,height:"130vh",width:"110%"},children:(0,_.jsxs)(r.A,{sx:{px:2},children:[(0,_.jsx)(p.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3,width:"100%"},children:(0,_.jsx)(b.A,{loading:B,variant:"contained",onClick:async()=>{I(!0);try{var e;const l=k.current.innerHTML;console.log(l,"htmlContent");const r=new FormData;r.append("html_content",l);const i=await m.A.post("user/update/text_user_pdf/".concat(t),r);var n,o;if(null!==i&&void 0!==i&&null!==(e=i.data)&&void 0!==e&&e.status)d(null===i||void 0===i?void 0:i.data.message),console.log(null===i||void 0===i||null===(n=i.data)||void 0===n||null===(o=n.file)||void 0===o?void 0:o.html_content,"upload html"),w(-1)}catch(l){I(!1),console.log(l)}},sx:{mt:"20px"},children:"Save"})}),(0,_.jsxs)(p.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:3,width:"100%"},children:[(0,_.jsx)(v.A,{label:"Enter File Name",value:u,defaultValue:i,onChange:e=>y(e.target.value),sx:{width:"100%"}}),(0,_.jsx)(b.A,{loading:N,variant:"contained",onClick:async()=>{L(!0);try{var e,n;const l=new FormData;l.append("title_name",u);const r=await m.A.post("user/update_title/".concat(t),l);var o;if(console.log(r,"update Name"),null!==r&&void 0!==r&&null!==(e=r.data)&&void 0!==e&&null!==(n=e.upload)&&void 0!==n&&n.status)L(!1),d(null===r||void 0===r||null===(o=r.data.upload)||void 0===o?void 0:o.message)}catch(l){L(!1),console.log(l)}},sx:{mt:"20px"},children:"Rename"})]}),(0,_.jsxs)(p.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",children:[(0,_.jsxs)(p.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"97vh",width:"100%",overflow:"hidden"},children:[(0,_.jsx)("div",{style:{borderRadius:"10px",padding:"10px",minHeight:"10vh",width:"100%",fontSize:"12px",overflowY:"hidden",outline:"none",boxShadow:"none",outlineStyle:"none",outlineColor:"transparent",MozOutlineStyle:"none",WebkitBoxShadow:"none",outlineWidth:0},children:(0,_.jsxs)(p.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",flexWrap:"wrap",sx:{mb:2},children:[(0,_.jsx)("button",{onClick:()=>F("bold"),style:M("bold"),children:(0,_.jsx)(f.In,{icon:"material-symbols:format-bold",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("italic"),style:M("italic"),children:(0,_.jsx)(f.In,{icon:"mingcute:italic-fill",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("underline"),style:M("underline"),children:(0,_.jsx)(f.In,{icon:"mingcute:underline-fill",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("justifyLeft"),style:M("justifyLeft"),children:(0,_.jsx)(f.In,{icon:"line-md:align-left",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("justifyCenter"),style:M("justifyCenter"),children:(0,_.jsx)(f.In,{icon:"line-md:align-center",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("justifyRight"),style:M("justifyRight"),children:(0,_.jsx)(f.In,{icon:"line-md:align-right",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("insertblockquote"),style:M("insertblockquote"),children:(0,_.jsx)(f.In,{icon:"tabler:quote",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("insertOrderedList"),style:M("insertOrderedList"),children:(0,_.jsx)(f.In,{icon:"system-uicons:list-numbered",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>F("insertUnorderedList"),style:M("insertUnorderedList"),children:(0,_.jsx)(f.In,{icon:"clarity:bullet-list-line",width:"1.2em",height:"1.2em"})}),(0,_.jsx)("button",{onClick:()=>z(1),style:M("heading1"),children:"H1"}),(0,_.jsx)("button",{onClick:()=>z(2),style:M("heading2"),children:"H2"}),(0,_.jsx)("button",{onClick:()=>z(3),style:M("heading3"),children:"H3"}),(0,_.jsx)("button",{onClick:()=>z(4),style:M("heading4"),children:"H4"}),(0,_.jsx)("button",{onClick:()=>z(5),style:M("heading5"),children:"H5"}),(0,_.jsx)("button",{onClick:()=>z(6),style:M("heading6"),children:"H6"})]})}),(0,_.jsx)(x.A,{}),(0,_.jsx)("div",{style:{borderRadius:"10px",padding:"10px",height:"100vh",width:"100%",fontSize:"12px",overflowY:"auto",outline:"none",outlineStyle:"none",outlineColor:"transparent",MozOutlineStyle:"none",WebkitBoxShadow:"none",outlineWidth:0},children:(0,_.jsx)("div",{ref:k,contentEditable:"true",onDrop:e=>{e.preventDefault();const t=e.dataTransfer.getData("text"),n=document.createElement("span");n.contentEditable="false",n.style.display="inline-block",n.style.color="#000",n.style.fontSize="12px",n.style.margin="0 0px",n.style.width="auto",n.style.height="auto",n.innerText=t;const o=k.current,l=window.getSelection();if(!l.rangeCount)return;const r=l.getRangeAt(0);let i=r.startContainer;for(;i;){if(i.nodeType===Node.ELEMENT_NODE&&"SPAN"===i.tagName)return;i=i.parentNode}r.insertNode(n),r.setStartAfter(n),l.removeAllRanges(),l.addRange(r),o.focus()},onDragOver:e=>{e.preventDefault()},dangerouslySetInnerHTML:D?{__html:D}:void 0})})]}),(0,_.jsxs)(p.A,{gap:1,direction:"column",alignItems:"center",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",overflowY:"auto",width:"25%",border:"3px solid #403390",borderRadius:"10px"},children:[(0,_.jsx)("h6",{children:"Subject Premises"}),(0,_.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"column",width:"60%",gap:"10px",marginBottom:"20px"},children:[{id:1,content:"{{subject_premise.property_location}} {{subject_premise.city_village}} {{subject_premise.county}} {{subject_premise.zipcode}}",value:"Full Address"},{id:2,content:"{{subject_premise.property_location}}",value:"address"},{id:3,content:"{{subject_premise.block}}",value:"Block"},{id:4,content:"{{subject_premise.city_village}}",value:"City"},{id:5,content:"{{subject_premise.county}}",value:"County"},{id:6,content:"{{subject_premise.district}}",value:"District"},{id:7,content:"{{subject_premise.lot}}",value:"Lot"},{id:8,content:"{{subject_premise.section}}",value:"Section"},{id:9,content:"{{subject_premise.zipcode}}",value:"Zipcode"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>E(t,e.content,e.value),style:{border:"1px solid #403390",color:"white",borderRadius:"10px",padding:"1px 1px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#403390",whiteSpace:"nowrap",fontSize:"10px"},children:e.value},e.id)))}),(0,_.jsx)("h4",{children:"Property"}),(0,_.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"column",width:"60%",gap:"10px",marginBottom:"20px"},children:[{id:1,content:"{{order_title.property_type}}",value:"Property Type"},{id:2,content:"{{order_title.transaction_type}}",value:"Transaction Type"},{id:3,content:"{{order_title.purchase_price}}",value:"Purchase Price"},{id:4,content:"{{loan_amount.amount}}",value:"Loan Amount"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>E(t,e.content,e.value),style:{border:"1px solid #403390",color:"white",borderRadius:"10px",padding:"1px 1px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#403390",whiteSpace:"nowrap",fontSize:"10px"},children:e.value},e.id)))}),(0,_.jsx)("h4",{children:"Names"}),(0,_.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"column",width:"70%",gap:"10px",marginBottom:"20px"},children:[{id:1,content:"{{buyers.type}}",value:"Buyer Type"},{id:2,content:"{{buyers.first_name}} {{buyers.middle_name}} {{buyers.last_name}}",value:"Buyer Full Name"},{id:3,content:"{{buyers.first_name}}",value:"Buyer First Name"},{id:4,content:"{{buyers.middle_name}}",value:"Buyer Middle Name"},{id:5,content:"{{buyers.last_name}}",value:"Buyer Last Name"},{id:6,content:"{{buyer_attorney.address}} {{buyer_attorney.city}} {{buyer_attorney.state}} {{buyer_attorney.zipcode}}",value:"Buyer Attorney Full Address"},{id:7,content:"{{buyer_attorney.address}}",value:"Buyer Attorney Address"},{id:8,content:"{{buyer_attorney.city}}",value:"Buyer Attorney City"},{id:9,content:"{{buyer_attorney.attorney_name}}",value:"Buyer Attorney Name"},{id:10,content:"{{buyer_attorney.email}}",value:"Buyer Attorney Email"},{id:11,content:"{{buyer_attorney.firm_name}}",value:"Buyer Attorney Firm Name"},{id:12,content:"{{buyer_attorney.phone_number}}",value:"Buyer Attorney Number"},{id:13,content:"{{buyer_attorney.state}}",value:"Buyer Attorney State"},{id:14,content:"{{buyer_attorney.zipcode}}",value:"Buyer Attorney Zipcode"},{id:15,content:"{{sellers.type}}",value:"Seller Type"},{id:16,content:"{{sellers.first_name}} {{sellers.middle_name}} {{sellers.last_name}}",value:"Sellers Full Name"},{id:17,content:"{{sellers.first_name}}",value:"Seller First Name"},{id:18,content:"{{sellers.middle_name}}",value:"Seller Middle Name"},{id:19,content:"{{sellers.last_name}}",value:"Seller Last Name"},{id:20,content:"{{seller_attorney.address}} {{seller_attorney.city}} {{seller_attorney.state}} {{seller_attorney.zipcode}}",value:"Seller Attorney Full Address"},{id:21,content:"{{seller_attorney.address}}",value:"Seller Attorney Address"},{id:22,content:"{{seller_attorney.city}}",value:"Seller Attorney City"},{id:23,content:"{{seller_attorney.attorney_name}}",value:"Seller Attorney Name"},{id:24,content:"{{seller_attorney.email}}",value:"Seller Attorney Email"},{id:25,content:"{{seller_attorney.firm_name}}",value:"Seller Attorney Firm Name"},{id:26,content:"{{seller_attorney.phone_number}}",value:"Seller Attorney Number"},{id:27,content:"{{seller_attorney.state}}",value:"Seller Attorney State"},{id:28,content:"{{seller_attorney.zipcode}}",value:"Seller Attorney Zipcode"},{id:1,content:"{{lender.address}}",value:"Lender Address"},{id:2,content:"{{lender.city}}",value:"Lender City"},{id:3,content:"{{lender.organization}}",value:"Lender Organization"},{id:4,content:"{{lender.state}}",value:"Lender State"},{id:5,content:"{{lender_attorney.address}} {{lender_attorney.city}} {{lender_attorney.state}} {{lender_attorney.zipcode}}",value:"Lender Attorney Full Address"},{id:6,content:"{{lender_attorney.city}}",value:"Lender Attorney City"},{id:7,content:"{{lender_attorney.address}}",value:"Lender Attorney Address"},{id:8,content:"{{lender_attorney.attorney_name}}",value:"Lender Attorney Name"},{id:9,content:"{{lender_attorney.email}}",value:"Lender Attorney Email"},{id:10,content:"{{lender_attorney.firm_name}}",value:"Lender Attorney Firm Name"},{id:11,content:"{{lender_attorney.phone_number}}",value:"Lender Attorney Number"},{id:12,content:"{{lender_attorney.state}}",value:"Lender Attorney State"},{id:13,content:"{{lender_attorney.zipcode}}",value:"Lender Attorney Zipcode"},{id:14,content:"{{real_estate_agents.rea_first_name}}",value:"Real Estate Agents First Name"},{id:15,content:"{{real_estate_agents.rea_last_name}}",value:"Real Estate Agents Last Name"},{id:16,content:"{{mortgage_brokers.mb_first_name}}",value:"Mortgage Brokers First Name"},{id:17,content:"{{mortgage_brokers.mb_last_name}}",value:"Mortgage Brokers Last Name"}].map((e=>(0,_.jsx)("div",{draggable:!0,onDragStart:t=>E(t,e.content,e.value),style:{border:"1px solid #403390",color:"white",borderRadius:"10px",padding:"1px 1px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#403390",whiteSpace:"nowrap",fontSize:"10px"},children:e.value},e.id)))})]})]})]})})},A=()=>{const{enqueueSnackbar:e}=(0,a.dh)(),{themeStretch:t}=(0,y.A)(),n=(0,s.zy)(),{state:h}=n,{id:p}=(0,s.g)(),{file:v}=(0,u.d4)((e=>e.File));console.log(h,"file details");const[x,g]=(0,o.useState)([]),[b,f]=(0,o.useState)(),[A,w]=(0,o.useState)(null),[S,C]=(0,o.useState)(!1),[k,N]=(0,o.useState)([]),[L,B]=(0,o.useState)();(0,o.useRef)("");(0,o.useEffect)((()=>{(0,u.JD)((0,c.oc)())}),[]);return(0,o.useEffect)((()=>{(async()=>{try{const e=await m.A.get("/user/download/user_pdf/".concat(p),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));B(t),console.log(t,"preview")}catch(e){console.log(e,"autofill")}finally{C(!1),w(null)}})()}),[]),(0,_.jsx)(d.A,{title:"Personal Documents",children:(0,_.jsxs)(l.A,{sx:{m:0},children:[(0,_.jsx)(r.A,{sx:{display:"flex",alignItems:"center"},children:(0,_.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:"Edit Documents"})}),(0,_.jsx)(j,{docID:p,FileId:b,data:null===h||void 0===h?void 0:h.file,fileName:null===h||void 0===h?void 0:h.fileName})]})})}},48089:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var o=n(58168),l=n(98587),r=n(9950),i=n(2803),a=n(5747),s=n(7951),d=n(79859),c=n(70693),u=n(37665);function y(e){return(0,u.A)("MuiCard",e)}(0,n(44245).A)("MuiCard",["root"]);var m=n(44414);const h=["className","raised"],p=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),v=r.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiCard"}),{className:r,raised:s=!1}=n,c=(0,l.A)(n,h),u=(0,o.A)({},n,{raised:s}),v=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},y,t)})(u);return(0,m.jsx)(p,(0,o.A)({className:(0,i.A)(v.root,r),elevation:s?8:void 0,ref:t,ownerState:u},c))}))},17640:()=>{},23237:()=>{},97492:()=>{},31815:()=>{},66671:()=>{},82787:()=>{}}]);