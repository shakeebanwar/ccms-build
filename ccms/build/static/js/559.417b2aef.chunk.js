"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[559,836],{36571:(e,o,n)=>{n.d(o,{v:()=>a});const a=["Albany","Allegany","Bronx","Broome","Cattaraugus","Cayuga","Chautauqua","Chemung","Chenango","Clinton","Columbia","Cortland","Delaware","Dutchess","Erie","Essex","Franklin","Fulton","Genesee","Greene","Hamilton","Herkimer","Jefferson","Kings","Lewis","Livingston","Madison","Monroe","Montgomery","Nassau","New York","Niagara","Oneida","Onondaga","Ontario","Orange","Orleans","Oswego","Otsego","Putnam","Queens","Rensselaer","Richmond","Rockland","Saratoga","Schenectady","Schoharie","Schuyler","Seneca","St. Lawrence","Steuben","Suffolk","Sullivan","Tioga","Tompkins","Ulster","Warren","Washington","Wayne","Westchester","Wyoming","Yates"]},50559:(e,o,n)=>{n.r(o),n.d(o,{default:()=>O});var a=n(60666),t=n(9950),i=n(29031),r=n(9449),l=n(68654),d=n(48711),s=n(28095),c=n(60899),u=n(48089),v=n(45180),p=n(6368),m=n(12257),h=n(24516),x=n(25979),g=n(3788),f=n(93523),A=n(23266),y=n(82053),b=n(73878),j=n(41397),C=(n(90260),n(52401)),S=n(32741),_=n(30818),w=n(25333),k=n(8145),T=n(2599),R=n(53256),N=n(36571),M=n(44414);const I=()=>{const{enqueueSnackbar:e}=(0,i.dh)(),[o,n]=(0,t.useState)(!1),[a,l]=(0,t.useState)({additions:"",county:""}),[d,h]=(0,t.useState)([]),x=(0,r.mN)(),{reset:g,handleSubmit:f,setValue:A,watch:b}=x,j=b();console.log(a,"values");(0,t.useEffect)((()=>{null!==j&&void 0!==j&&j.county&&l((e=>({...e,county:""}))),(null===d||void 0===d?void 0:d.length)>0&&l((e=>({...e,additions:""})))}),[null===j||void 0===j?void 0:j.county,d]);const _={"Transfer docs and ACRIS prep":{is_added:!1,note:"",gov_fee:"",total_price:"$150.00"},"Transfer docs and ACRIS filing":{is_added:!1,note:"Transfer taxes and $100.00 Gov. fee paid to Big Apple Title",gov_fee:"$100.00",total_price:"$175.00"},"UCC filing":{is_added:!1,note:"Government fee of $40.00 to pe paid to Big Apple Title",gov_fee:"$40.00",total_price:"$75.00"},"IT-2664 filing":{is_added:!1,note:"Checks to be made to NYS Income Tax",gov_fee:"",total_price:"$100.00"},"Satisfaction Of Judgement Request":{is_added:!1,note:"",gov_fee:"",total_price:"$200.00"}},I=(e,o,n)=>{h((a=>a.map((a=>a.name===e?{...a,[o]:n,is_added:!0}:a))))};return console.log(d,"expanded"),(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(C.Op,{methods:x,onSubmit:f((async()=>{n(!0);try{if(void 0===(null===j||void 0===j?void 0:j.county))return l((e=>({...e,county:"County is required"}))),null;if(l((e=>({...e,county:""}))),0===(null===d||void 0===d?void 0:d.length))return l((e=>({...e,additions:"Additions are required"}))),null;l((e=>({...e,additions:""})));const o={county:null===j||void 0===j?void 0:j.county,additional_charges:d};await S.A.post("admin/additional_charges/add_price",o).then((o=>{if(n(!1),200===o.status||201===o.status){const n=o.data;console.log(n,"set additions"),e(null===n||void 0===n?void 0:n.message),g()}}))}catch(o){if(console.error(o),o.errors){Object.keys(o.errors).map((n=>e(o.errors[n][0],{variant:"error"})))}}finally{n(!1)}})),children:(0,M.jsx)(c.Ay,{container:!0,spacing:3,sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:(0,M.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,M.jsxs)(u.A,{sx:{p:3},children:[(0,M.jsx)(v.A,{sx:{p:0,mb:2},title:"Set Payment For Additions"}),(0,M.jsxs)(C.tX,{name:"county",label:"County",onChange:e=>{const{value:o}=e.target;A("county",o)},children:[(0,M.jsx)("option",{value:""}),N.v.map(((e,o)=>(0,M.jsx)("option",{value:e,children:e},o)))]}),(null===a||void 0===a?void 0:a.county)&&(0,M.jsx)(y.A,{variant:"p",sx:{mb:2,color:"red",textAlign:"center",width:"100%",display:"block"},children:null===a||void 0===a?void 0:a.county}),["Transfer docs and ACRIS prep","Transfer docs and ACRIS filing","UCC filing","IT-2664 filing","Satisfaction Of Judgement Request"].map(((e,o)=>{var n,a,t;const i=d.some((o=>o.name===e));return(0,M.jsxs)(p.A,{sx:{gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,M.jsxs)(m.A,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,sx:{border:"1px solid lightblue",padding:"10px",borderRadius:"10px",my:2},children:[(0,M.jsx)("span",{children:e}),(0,M.jsx)(w.A,{onClick:()=>{return o=e,void h((e=>-1!==e.findIndex((e=>e.name===o))?e.filter((e=>e.name!==o)):[...e,{name:o,..._[o],is_added:!0}]));var o},color:"primary",sx:{fontSize:"small"},children:i?(0,M.jsx)(T.A,{}):(0,M.jsx)(R.A,{})})]}),i&&(0,M.jsxs)(p.A,{sx:{mt:2,pl:1,display:"grid",gap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"}},children:[(0,M.jsx)(k.A,{id:"notes-".concat(e),label:"Notes",multiline:!0,fullWidth:!0,value:(null===(n=d.find((o=>o.name===e)))||void 0===n?void 0:n.note)||"",onChange:o=>I(e,"note",o.target.value)}),(0,M.jsx)(k.A,{id:"Gov-".concat(e),label:"Gov Fee(s)",fullWidth:!0,value:(null===(a=d.find((o=>o.name===e)))||void 0===a?void 0:a.gov_fee)||"",onChange:o=>I(e,"gov_fee",o.target.value)}),(0,M.jsx)(k.A,{id:"total-".concat(e),label:"Total Price",fullWidth:!0,value:(null===(t=d.find((o=>o.name===e)))||void 0===t?void 0:t.total_price)||"",onChange:o=>I(e,"total_price",o.target.value)})]})]},o)})),(null===a||void 0===a?void 0:a.additions)&&(0,M.jsx)(y.A,{variant:"p",sx:{mb:2,color:"red",textAlign:"center",width:"100%",display:"block"},children:null===a||void 0===a?void 0:a.additions}),(0,M.jsx)(m.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,M.jsx)(s.A,{type:"submit",variant:"contained",loading:o,children:"Add"})})]})})})})})},O=()=>{var e,o;const n=(0,b.wA)(),{enqueueSnackbar:w}=(0,i.dh)(),{file:k}=(0,b.d4)((e=>e.File)),[T,R]=(0,t.useState)();console.log(k,"file details"),(0,t.useEffect)((()=>{n((0,_.fl)())}),[]);const N=(0,j.debounce)((e=>{R(e)}),300),O=(0,t.useMemo)((()=>{if(null===T||void 0===T||!T.trim())return k.map((e=>{var o,n;return{label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e?void 0:e.file_no,")"),value:(null===e||void 0===e||null===(o=e.orders)||void 0===o?void 0:o.length)>0&&(null===e||void 0===e||null===(n=e.orders[0])||void 0===n?void 0:n.id)}}));const e=T.toLowerCase();return k.filter((o=>{var n,a,t,i;return null!==(n=null===o||void 0===o||null===(a=o.file_name)||void 0===a?void 0:a.toLowerCase().includes(e))&&void 0!==n&&n||null!==(t=null===o||void 0===o||null===(i=o.file_no)||void 0===i?void 0:i.toLowerCase().includes(e))&&void 0!==t&&t})).map((e=>{var o,n;return{label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e?void 0:e.file_no,")"),value:(null===e||void 0===e||null===(o=e.orders)||void 0===o?void 0:o.length)>0&&(null===e||void 0===e||null===(n=e.orders[0])||void 0===n?void 0:n.id)}}))}),[T,k]),$=a.Ik().shape({order:a.Yj().required("Select Order"),date:a.Yj().required("Date is required"),notes:a.Yj(),is_active:a.zM().oneOf([!0],"Status is required")}),F=(0,t.useMemo)((()=>({order:"",date:"",notes:"",is_active:!1,price:""})),[]),P=(0,r.mN)({resolver:(0,l.t)($),defaultValues:F}),{reset:H,watch:q,setValue:W,handleSubmit:G,formState:{isSubmitting:z,errors:B}}=P,L=q();console.log(L,"error");return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(C.Op,{methods:P,onSubmit:G((async e=>{console.log(e,"data");try{const o=new FormData;o.append("payment_date",(null===e||void 0===e?void 0:e.date)+" 00:00:00"),o.append("payment_note",null===e||void 0===e?void 0:e.notes),o.append("is_paid",null!==e&&void 0!==e&&e.is_active?1:0),o.append("Total_Price",null===e||void 0===e?void 0:e.price),await S.A.post("/admin/change/payment_status/".concat(null===e||void 0===e?void 0:e.order),o).then((()=>{w("Status Paid Success"),W("order",""),H()}))}catch(o){if(console.error(o,"error"),o.errors){Object.keys(o.errors).map((e=>w(o.errors[e][0],{variant:"error"})))}}})),children:(0,M.jsx)(c.Ay,{container:!0,spacing:3,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,M.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,M.jsxs)(u.A,{sx:{p:3},children:[(0,M.jsx)(v.A,{title:"Add Payment Status"}),(0,M.jsxs)(p.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"},mt:2},children:[(0,M.jsxs)(m.A,{children:[(0,M.jsx)(d.Ay,{options:O,onInputChange:N,onChange:e=>{var o,n;const a=e.value;W("order",a);const t=null===k||void 0===k?void 0:k.find((e=>{var o,n;return(null===e||void 0===e||null===(o=e.orders)||void 0===o?void 0:o.length)>0&&(null===e||void 0===e||null===(n=e.orders[0])||void 0===n?void 0:n.id)==a})),i=null===t||void 0===t||null===(o=t.orders[0])||void 0===o||null===(n=o.Total_Price)||void 0===n?void 0:n.split(".");W("price",(null===i||void 0===i?void 0:i.length)>0&&i[0]),console.log(i,"getPrice")},isSearchable:"true",placeholder:"Select a File",className:"w-100 py-5",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"8px",border:o.isFocused?"2px solid #1976d2":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px rgba(25, 118, 210, 0.5)":"none","&:hover":{borderColor:"#1976d2"},minHeight:"48px"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999}),option:(e,o)=>({...e,backgroundColor:o.isFocused?"#f5f5f5":"white",color:"black",padding:"10px 15px","&:active":{backgroundColor:"#e0e0e0"}}),placeholder:e=>({...e,color:"#6c757d",fontSize:"16px"}),singleValue:e=>({...e,color:"#495057",fontSize:"16px"}),dropdownIndicator:(e,o)=>({...e,color:o.isFocused?"#1976d2":"#6c757d","&:hover":{color:"#1976d2"}}),indicatorSeparator:e=>({...e,display:"none"})}}),""===(null===L||void 0===L?void 0:L.order)&&(0,M.jsx)(h.A,{sx:{color:"red"},children:null===B||void 0===B||null===(e=B.order)||void 0===e?void 0:e.message})]}),(0,M.jsxs)(x.A,{fullWidth:!0,children:[(0,M.jsx)(g.A,{id:"demo-simple-select-label",children:"Select price"}),(0,M.jsxs)(f.A,{labelId:"demo-simple-select-label",name:"price",id:"demo-simple-select",value:null===L||void 0===L?void 0:L.price,onChange:e=>{const{value:o}=e.target;W("price",o),console.log(o,"values")},label:"Select a price",children:[(0,M.jsx)(A.A,{value:"300",children:"$ 300.00"}),(0,M.jsx)(A.A,{value:"350",children:"$ 350.00"}),(0,M.jsx)(A.A,{value:"395",children:"$ 395.00"}),(0,M.jsx)(A.A,{value:"400",children:"$ 400.00"}),(0,M.jsx)(A.A,{value:"450",children:"$ 450.00"}),(0,M.jsx)(A.A,{value:"500",children:"$ 500.00"})]})]}),(0,M.jsx)(C.o3,{name:"date",type:"date"}),(0,M.jsx)(C.o3,{name:"notes",label:"Notes",multi:!0}),(0,M.jsx)(C.b8,{name:"is_active",labelPlacement:"start",label:(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(y.A,{variant:"h6",sx:{mb:.5},children:"Paid"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(null===B||void 0===B?void 0:B.is_active)&&(0,M.jsx)(h.A,{sx:{color:"red"},children:null===B||void 0===B||null===(o=B.is_active)||void 0===o?void 0:o.message})]}),(0,M.jsx)(m.A,{alignItems:"flex-end",sx:{mt:3},children:(0,M.jsx)(s.A,{sx:{color:"#fff",bgcolor:"#00AB55",boxShadow:"none",borderRadius:"0px",margin:"4px","&:hover":{bgcolor:"#00AB55"}},type:"submit",variant:"contained",loading:z,children:"Save Changes"})})]})})})}),(0,M.jsx)(I,{})]})}},53256:(e,o,n)=>{n.d(o,{A:()=>i});var a=n(65471),t=n(44414);const i=(0,a.A)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},2599:(e,o,n)=>{n.d(o,{A:()=>i});var a=n(65471),t=n(44414);const i=(0,a.A)((0,t.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove")},45180:(e,o,n)=>{n.d(o,{A:()=>y});var a=n(98587),t=n(58168),i=n(9950),r=n(2803),l=n(5747),d=n(82053),s=n(79859),c=n(7951),u=n(37665);function v(e){return(0,u.A)("MuiCardHeader",e)}const p=(0,n(44245).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=n(44414);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],x=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,o)=>(0,t.A)({["& .".concat(p.title)]:o.title,["& .".concat(p.subheader)]:o.subheader},o.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,o)=>o.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,o)=>o.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,o)=>o.content})({flex:"1 1 auto"}),y=i.forwardRef((function(e,o){const n=(0,s.A)({props:e,name:"MuiCardHeader"}),{action:i,avatar:c,className:u,component:p="div",disableTypography:y=!1,subheader:b,subheaderTypographyProps:j,title:C,titleTypographyProps:S}=n,_=(0,a.A)(n,h),w=(0,t.A)({},n,{component:p,disableTypography:y}),k=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},v,o)})(w);let T=C;null==T||T.type===d.A||y||(T=(0,m.jsx)(d.A,(0,t.A)({variant:c?"body2":"h5",className:k.title,component:"span",display:"block"},S,{children:T})));let R=b;return null==R||R.type===d.A||y||(R=(0,m.jsx)(d.A,(0,t.A)({variant:c?"body2":"body1",className:k.subheader,color:"text.secondary",component:"span",display:"block"},j,{children:R}))),(0,m.jsxs)(x,(0,t.A)({className:(0,r.A)(k.root,u),as:p,ref:o,ownerState:w},_,{children:[c&&(0,m.jsx)(g,{className:k.avatar,ownerState:w,children:c}),(0,m.jsxs)(A,{className:k.content,ownerState:w,children:[T,R]}),i&&(0,m.jsx)(f,{className:k.action,ownerState:w,children:i})]}))}))},48089:(e,o,n)=>{n.d(o,{A:()=>x});var a=n(58168),t=n(98587),i=n(9950),r=n(2803),l=n(5747),d=n(7951),s=n(79859),c=n(70693),u=n(37665);function v(e){return(0,u.A)("MuiCard",e)}(0,n(44245).A)("MuiCard",["root"]);var p=n(44414);const m=["className","raised"],h=(0,d.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({overflow:"hidden"}))),x=i.forwardRef((function(e,o){const n=(0,s.A)({props:e,name:"MuiCard"}),{className:i,raised:d=!1}=n,c=(0,t.A)(n,m),u=(0,a.A)({},n,{raised:d}),x=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"]},v,o)})(u);return(0,p.jsx)(h,(0,a.A)({className:(0,r.A)(x.root,i),elevation:d?8:void 0,ref:o,ownerState:u},c))}))}}]);