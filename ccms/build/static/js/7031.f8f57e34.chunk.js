"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7031],{18597:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(70693),l=n(82053),o=n(12257),r=n(75165),i=(n(9950),n(66075)),s=n(44414);const d=e=>{let{handleAddEvent:t,handleAddReminder:n,handleCloseButtonTooltip:d}=e;return(0,s.jsxs)(a.A,{elevation:2,style:{padding:"10px",width:"150px",height:"140px",position:"absolute",left:"-130px",top:"-10px",backgroundColor:"lightgray"},children:[(0,s.jsx)(l.A,{variant:"p",sx:{float:"right",cursor:"pointer",position:"absolute",top:"10px"},onClick:d,children:"x"}),(0,s.jsxs)(o.A,{sx:{position:"absolute",top:"20px"},children:[(0,s.jsx)(r.A,{variant:"contained",startIcon:(0,s.jsx)(i.A,{icon:"eva:plus-fill",width:10,height:10}),onClick:t,sx:{fontSize:"10px",position:"absolute",top:"60px",width:"120px"},children:"Order Contin"}),(0,s.jsx)(r.A,{variant:"contained",startIcon:(0,s.jsx)(i.A,{icon:"eva:plus-fill",width:10,height:10}),onClick:n,sx:{fontSize:"10px",position:"absolute",top:"20px",width:"120px"},children:"Add Reminder"})]})]})}},87955:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(70693),l=n(82053),o=(n(9950),n(44414));const r=e=>{var t;let{event:n,data:r,handleCloseTooltip:i}=e;const s=null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.id)===Number(null===n||void 0===n?void 0:n.title)));return console.log(n,"event"),console.log(r,"dataFilter"),(0,o.jsxs)(a.A,{elevation:2,style:{padding:"10px",width:"300px",height:"auto",position:"relative",zIndex:1e3,borderRadius:"0px",transform:"translateX(-3%)"},children:[(0,o.jsx)(l.A,{variant:"p",sx:{float:"right",cursor:"pointer"},onClick:i,children:"x"}),(0,o.jsx)(l.A,{variant:"h5",children:s.title}),(0,o.jsxs)(l.A,{variant:"p",sx:{my:5,fontSize:12},children:["date: ",null===(t=s.start)||void 0===t?void 0:t.split("T")[0]]}),(0,o.jsx)(l.A,{sx:{my:2,fontSize:12},children:s.description})]})}},54471:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ne});var a=n(9950),l=n(60666),o=n(48089),r=n(14857),i=n(79537),s=n(60899),d=n(50704),c=n(82053),u=n(6368),p=n(62854),m=n(12257),h=n(75165),x=n(1320),v=n(15769),g=n(34075),f=n(91434),A=n(53984),j=n(73447),y=n(57191),b=n(8145),w=n(74745),C=n(29031),S=n(13564),_=n(26689),D=n(66699),k=n(28095),I=n(7951),T=n(68654),L=n(9449),F=n(73878),N=n(14650),E=(n(61310),n(99425),n(1041),n(90260)),P=n(46765),R=n(86608),O=n(38861),B=n(30744),M=n(66075),z=n(44185),W=(n(63358),n(72870)),q=n(12480),V=n(6768),G=n(32741),Y=n(95074),H=n(30818),X=n(73561),U=n(37088),Z=n(60228),$=n(19657),J=n(61770),K=n(16243),Q=n(20131),ee=n(53065),te=n(44414);const ne=(0,I.Ay)("span")((e=>{let{theme:t}=e;return{...(0,J.A)(t).bgBlur({opacity:.64}),right:0,top:"50%",position:"fixed",marginTop:t.spacing(-3),padding:t.spacing(.5),zIndex:t.zIndex.drawer+2,borderRadius:"24px 0 20px 24px",boxShadow:"-12px 12px 32px -4px ".concat((0,$.X4)("light"===t.palette.mode?t.palette.grey[600]:t.palette.common.black,.36))}})),ae=(0,I.Ay)("span")((e=>{let{theme:t}=e;return{top:8,width:8,height:8,right:10,borderRadius:"50%",position:"absolute",backgroundColor:t.palette.error.main}}));function le(e){let{notDefault:t,open:n,onToggle:a}=e;return(0,te.jsxs)(ne,{children:[t&&!n&&(0,te.jsx)(ae,{}),(0,te.jsx)(ee.A,{title:"Filter",placement:"left",children:(0,te.jsx)(Q.ji,{color:"inherit",onClick:a,sx:{p:1.25,transition:e=>e.transitions.create("all"),"&:hover":{color:"primary.main",bgcolor:e=>(0,$.X4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},children:(0,te.jsx)(M.A,{icon:"material-symbols:filter-alt",width:20,height:20})})})]})}var oe=n(25979),re=n(3788),ie=n(93523),se=n(23266),de=n(41205),ce=n(43974),ue=n(24642);function pe(e){let{files:t}=e;const n=(0,B.wA)();console.log(t,"files");const[l,o]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[p,m]=(0,a.useState)({file_no:"",file_name:"",address:"",date:"",lender:"",transaction_type:"",buyers:"",sellers:""});(0,a.useEffect)((()=>{(async()=>{var e;const t=await G.A.get("user/file_buyers");console.log(t,"buyers"),o(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.buyers)})()}),[]);(0,a.useEffect)((()=>{(async()=>{var e;const t=await G.A.get("user/file_sellers");console.log(t,"sellers"),i(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.sellers)})()}),[]);const h=(e,t)=>{m((n=>({...n,[e]:t})))};return(0,a.useEffect)((()=>{const e=t.filter((e=>{var t,n,a,l,o,r;const i=null!==e&&void 0!==e&&e.updated_at?(0,ce.A)(new Date(e.updated_at),"yyyy-MM-dd"):"",s=p.date?p.date:"",d=null!==e&&void 0!==e&&null!==(t=e.DummyData)&&void 0!==t&&t.buyers?e.DummyData.buyers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"",c=null!==e&&void 0!==e&&null!==(n=e.DummyData)&&void 0!==n&&n.sellers?e.DummyData.sellers.map((e=>"".concat((null===e||void 0===e?void 0:e.first_name)||""," ").concat((null===e||void 0===e?void 0:e.last_name)||""))).join(" ").toLowerCase():"";return(!p.file_no||e.file_no.toLowerCase().includes(p.file_no))&&(!p.file_name||e.file_name.toLowerCase().includes(p.file_name))&&(!p.address||(null===(a=e.DummyData)||void 0===a||null===(l=a.subject_premise)||void 0===l?void 0:l.property_location.toLowerCase().includes(p.address)))&&(!p.date||i===s)&&(!p.lender||(null===(o=e.DummyData)||void 0===o||null===(r=o.lender)||void 0===r?void 0:r.organization.toLowerCase().includes(p.lender)))&&(!p.transaction_type||e.transaction_type.toLowerCase().includes(p.transaction_type))&&(!p.buyers||d.includes(p.buyers.toLowerCase()))&&(!p.sellers||c.includes(p.sellers.toLowerCase()))}));c(e),console.log("Filtered Data:",e),n((0,H.AB)(e))}),[p,t]),console.log(p,"Filter"),(0,te.jsx)(s.Ay,{item:!0,xs:12,md:12,children:(0,te.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,te.jsx)(b.A,{name:"file_no",label:"File No #",value:p.file_no||"",onChange:e=>h(e.target.name,e.target.value)}),(0,te.jsx)(b.A,{name:"file_name",label:"File Name",value:p.file_name||"",onChange:e=>h(e.target.name,e.target.value)}),(0,te.jsx)(b.A,{name:"address",label:"Address",value:p.address||"",onChange:e=>h(e.target.name,e.target.value)}),(0,te.jsx)(b.A,{name:"date",label:"Date",type:"date",value:p.date||"",onChange:e=>h(e.target.name,e.target.value),InputLabelProps:{shrink:!0}}),(0,te.jsx)(b.A,{name:"lender",label:"Lender",value:p.lender||"",onChange:e=>h(e.target.name,e.target.value)}),(0,te.jsxs)(oe.A,{fullWidth:!0,children:[(0,te.jsx)(re.A,{id:"transaction-type-label",children:"Transaction Type"}),(0,te.jsx)(ie.A,{name:"transaction_type",label:"Transaction Type",value:p.transaction_type||"",onChange:e=>h(e.target.name,e.target.value),labelId:"transaction-type-label",children:ue.xW.map((e=>(0,te.jsx)(se.A,{value:e.value,children:e.label},e.value)))})]}),(0,te.jsx)(oe.A,{fullWidth:!0,children:(0,te.jsx)(de.A,{name:"buyers",options:l,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,te.jsx)(b.A,{...e,label:"Search Buyer",variant:"outlined"}),value:l.find((e=>"".concat(e.first_name," ").concat(e.last_name)===p.buyers))||null,onChange:(e,t)=>{h("buyers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})}),(0,te.jsx)(oe.A,{fullWidth:!0,children:(0,te.jsx)(de.A,{name:"sellers",options:r,getOptionLabel:e=>"".concat(e.first_name," ").concat(e.last_name),renderInput:e=>(0,te.jsx)(b.A,{...e,label:"Search Seller",variant:"outlined"}),value:r.find((e=>"".concat(e.first_name," ").concat(e.last_name)===p.sellers))||null,onChange:(e,t)=>{h("sellers","".concat(t.first_name," ").concat(t.last_name))},isOptionEqualToValue:(e,t)=>e.first_name===(null===t||void 0===t?void 0:t.first_name)&&e.last_name===(null===t||void 0===t?void 0:t.last_name)})})]})})}const me=(0,I.Ay)(U.m.div)((e=>{let{theme:t}=e;return{...(0,J.A)(t).bgBlur({color:t.palette.background.paper,opacity:.92}),top:0,right:0,bottom:0,display:"flex",position:"fixed",overflow:"hidden",width:K.LM.BASE_WIDTH,flexDirection:"column",margin:t.spacing(2),paddingBottom:t.spacing(3),zIndex:t.zIndex.drawer+3,borderRadius:1.5*Number(t.shape.borderRadius),boxShadow:"-24px 12px 32px -4px ".concat((0,$.X4)("light"===t.palette.mode?t.palette.grey[500]:t.palette.common.black,.16))}}));function he(e){let{files:t}=e;const{themeMode:n,themeDirection:l,themeColorPresets:o,themeStretch:r,themeLayout:i,onResetSetting:s}=(0,R.A)(),[d,u]=(0,a.useState)(!1),p=n!==K.L6.themeMode||l!==K.L6.themeDirection||o!==K.L6.themeColorPresets||i!==K.L6.themeLayout||r!==K.L6.themeStretch,h="rtl"!==l?(0,Q.Sk)({distance:K.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inRight:(0,Q.Sk)({distance:K.LM.BASE_WIDTH,durationIn:.32,durationOut:.32}).inLeft;(0,a.useEffect)((()=>{document.body.style.overflow=d?"hidden":"unset"}),[d]);const x=()=>{u(!1)};return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(j.A,{open:d,onClick:x,sx:{background:"transparent",zIndex:e=>e.zIndex.drawer+1}}),!d&&(0,te.jsx)(le,{open:d,notDefault:p,onToggle:()=>{u((e=>!e))}}),(0,te.jsx)(Z.N,{children:d&&(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(me,{...h,children:[(0,te.jsxs)(m.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,te.jsx)(c.A,{variant:"subtitle1",children:"Filters"}),(0,te.jsx)("div",{children:(0,te.jsx)(Q.ji,{onClick:x,children:(0,te.jsx)(M.A,{icon:"eva:close-fill",width:20,height:20})})})]}),(0,te.jsx)(w.A,{sx:{borderStyle:"dashed"}}),(0,te.jsx)(z.A,{sx:{flexGrow:1},children:(0,te.jsx)(m.A,{spacing:3,sx:{p:3},children:(0,te.jsx)(pe,{files:t})})})]})})})]})}n(22988),n(71675),n(48812),n(22704),n(70458);n(63477);n(23334),n(39452);(0,I.Ay)(o.A)((e=>{let{theme:t}=e;return{boxShadow:"none",padding:t.spacing(3),color:t.palette.primary.darker,backgroundColor:t.palette.primary.lighter}}));n(61937);n(81131);var xe=n(64697),ve=n(90706),ge=n(79947),fe=n(28339),Ae=n(6978),je=n(60820),ye=n(36404),be=(n(18597),n(87955)),we=n(98091),Ce=n(42686),Se=(n(63575),n(85738),n(62740));n(58723);const _e=e=>{const{events:t,selectedEventId:n}=e.calendar;return n?t.find((e=>Number(e.id)===Number(n))):null},De=(0,I.Ay)((e=>{let{className:t,...n}=e;return(0,te.jsx)(ee.A,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(xe.A.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:"300px",fontSize:t.typography.pxToRem(12),border:"none"}}}));function ke(){const{themeStretch:e}=(0,R.A)(),t=(0,B.wA)(),n=(0,we.A)("up","sm"),l=(0,a.useRef)(null),[r,i]=(0,a.useState)(null),[s,d]=(0,a.useState)(),[c,p]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[x,v]=(0,a.useState)(""),[g,f]=(0,a.useState)([]),[A,j]=(0,a.useState)([]),[y,b]=(0,a.useState)(new Date),[w,C]=(0,a.useState)(n?"dayGridMonth":"listWeek"),{isOpenModal:S,selectedRange:_,isOpenReminderModal:D}=((0,B.d4)(_e),(0,B.d4)((e=>e.calendar)));(0,a.useEffect)((()=>{(async()=>{try{var e;const t=await G.A.get("todos"),n=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.todos)||[];f(n),console.log(t,"reminder")}catch(t){console.log(t,"error")}})()}),[]),(0,a.useEffect)((()=>{const e=g.map((e=>({type:"reminder",id:e.id,title:e.note||e.title,start:new Date(e.date).toISOString().split("T")[0]+"T"+e.start,end:new Date(e.date).toISOString().split("T")[0]+"T"+e.end,textColor:e.textColor||"#000",description:e.note})));j([...e])}),[g]),console.log(A,"mergedTasks"),(0,a.useEffect)((()=>{const e=l.current;if(e){const t=e.getApi(),a=n?"dayGridMonth":"listWeek";t.changeView(a),C(a)}}),[n]);const k=()=>{p(null)};return(0,te.jsx)(u.A,{children:(0,te.jsx)(o.A,{children:(0,te.jsxs)(Se.mg,{children:[(0,te.jsx)(Se.a7,{date:y,view:w,onNextDate:()=>{const e=l.current;if(e){const t=e.getApi();t.next(),b(t.getDate())}},onPrevDate:()=>{const e=l.current;if(e){const t=e.getApi();t.prev(),b(t.getDate())}},onToday:()=>{const e=l.current;if(e){const t=e.getApi();t.today(),b(t.getDate())}},onChangeView:e=>{const t=l.current;if(t){t.getApi().changeView(e),C(e)}},todayBtn:!1}),(0,te.jsx)(ve.Ay$,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:A,ref:l,rerenderDelay:10,initialDate:y,initialView:w,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,eventDrop:async e=>{let{event:n}=e;try{t((0,Ce.qM)(n.id,{allDay:n.allDay,start:n.start,end:n.end}))}catch(a){console.error(a)}},eventClick:e=>{var n,a;(console.log(e.el.fcSeg.eventRange.def.extendedProps.type,"info"),v(e.event.startStr),p({title:null===(n=e.event._def)||void 0===n?void 0:n.publicId,start:e.event.startStr,end:e.event.endStr,top:e.jsEvent.clientY,left:e.jsEvent.clientX}),"reminder"!==e.el.fcSeg.eventRange.def.extendedProps.type)&&t((0,Ce.PY)(null===(a=e.event)||void 0===a?void 0:a.id))},dateClick:e=>{console.log(e,"arg"),d(e.dateStr),i(e.date.toISOString().split("T")[0]),h({top:e.jsEvent.clientY,left:e.jsEvent.clientX})},dayCellContent:e=>{const t=e.date.toISOString().split("T")[0],n=e.date.toLocaleDateString("en-CA"),a=null===x||void 0===x?void 0:x.split("T")[0];return console.log(r===t,"dateStr"),(0,te.jsxs)(te.Fragment,{children:[c&&a===n&&(0,te.jsx)(De,{arrow:!0,open:!!c,onClose:k,title:(0,te.jsx)(be.A,{event:c,data:A,handleCloseTooltip:k}),placement:"top",children:(0,te.jsx)("span",{})}),(0,te.jsx)("div",{style:{position:"relative",height:"100%",width:"100%"},children:(0,te.jsx)("div",{children:e.dayNumberText})})]})},eventResize:async e=>{let{event:n}=e;try{t((0,Ce.qM)(n.id,{allDay:n.allDay,start:n.start,end:n.end}))}catch(a){console.error(a)}},height:n?200:"auto",plugins:[ge.A,fe.Ay,je.Ay,Ae.Ay,ye.Ay]})]})})})}(0,I.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2,2,2,3)}}));var Ie=n(33507);const Te=[{id:"file_no",label:"File No",align:"left",width:100},{id:"file_name",label:"File Name",align:"left",width:800},{id:"address",label:"Address",align:"left",width:1e3},{id:"updated_at",label:"Date",align:"left",width:600},{id:"buyers",label:"Buyers",align:"left",width:800},{id:"sellers",label:"Sellers",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"lender",label:"Lender",align:"left",width:500},{id:"Delete",label:"Delete",align:"left",width:500},{id:"",label:"",align:"left",width:500},{id:"",label:"",align:"left",width:500}],Le={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},Fe=(0,I.Ay)(o.A)((e=>{let{theme:t}=e;return{boxShadow:"none",textAlign:"center",backgroundColor:t.palette.primary.lighter,[t.breakpoints.up("md")]:{display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between",height:"100%"}}}));function Ne(e){var t;let{viewTabsRef:n}=e;(0,r.A)();const{user:I}=(0,Ie.A)(),{themeStretch:U}=(0,R.A)(),Z=(0,F.wA)(),$=(0,S.Zp)(),{enqueueSnackbar:J}=(0,C.dh)(),{dense:K,page:Q,order:ee,orderBy:ne,rowsPerPage:ae,setPage:le,selected:oe,setSelected:re,onSort:ie,onChangeDense:se,onChangePage:de,onChangeRowsPerPage:ce}=(0,O.Ay)({defaultOrderBy:"createDate"}),[ue,pe]=(0,a.useState)([]),[me,xe]=(0,a.useState)(""),[ve,ge]=(0,a.useState)("new"),[fe,Ae]=(0,a.useState)(null),[je,ye]=(0,a.useState)([]),[be,we]=(0,a.useState)(null),{currentTab:Ce,onChangeTab:Se}=(0,P.A)("all"),[_e,De]=(0,a.useState)("Title Insurance"),[Ne,Ee]=(0,a.useState)(!1),[Pe,Re]=(0,a.useState)(""),[Oe,Be]=(0,a.useState)(!1),[Me,ze]=(0,a.useState)(!1),[We,qe]=(0,a.useState)(),[Ve,Ge]=(0,a.useState)(),[Ye,He]=(0,a.useState)([]),[Xe,Ue]=(0,a.useState)(!1),[Ze,$e]=(0,a.useState)(null),{file:Je,filterData:Ke}=(Boolean(Ze),(0,B.d4)((e=>e.File)));console.log(Ke,"file details"),(0,a.useEffect)((()=>{Z((0,H.oc)())}),[]),(0,a.useEffect)((()=>{null!==Je&&void 0!==Je&&Je.length&&pe((null===Ke||void 0===Ke?void 0:Ke.length)>0?Ke:Je)}),[Je,Ke]);const Qe=e=>{Be(!0),qe(e),(async()=>{try{var e;const n=await G.A.get("user/added/contacts");var t;console.log(n,"all your user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?He(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.currentUser):console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}})()},et=function(e){var t;let{tableData:n,comparator:a,filterName:l,filterStatus:o,filterService:r,filterStartDate:i,filterEndDate:s}=e;const d=null===(t=n)||void 0===t?void 0:t.map(((e,t)=>[e,t]));d.sort(((e,t)=>{const n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),n=d.map((e=>e[0])),l&&(n=n.filter((e=>-1!==e.file_name.toLowerCase().indexOf(l.toLowerCase())||-1!==e.DummyData.subject_premise.property_location.toLowerCase().indexOf(l.toLowerCase()))));"all"!==o&&(n=n.filter((e=>e.status===o)));"new"!==r&&(n=n.filter((e=>e.status===r)));i&&s&&(n=n.filter((e=>e.updated_at.getTime()>=i.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:ue,comparator:(0,O.hz)(ee,ne),filterName:me,filterService:ve,filterStatus:Ce,filterStartDate:fe,filterEndDate:be}),tt=K?56:76,nt=!et.length&&!!me||!et.length&&!!Ce||!et.length&&!!ve||!et.length&&!!be||!et.length&&!!fe,at=async e=>{Ue(!0);try{await G.A.post("user/share/".concat(e,"/").concat(We)).then((e=>{if(Ue(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"share file"),J(t.message),Be(!1),ye()}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>J(t.errors[e][0],{variant:"error"})))}}finally{Ue(!1)}},lt=(0,a.useRef)(""),ot=l.Ik().shape({fname:l.Yj().required("First Name is required"),lname:l.Yj().required("Last Name is required"),email:l.Yj().required("Email is required")}),rt=(0,a.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),it=(0,L.mN)({resolver:(0,T.t)(ot),defaultValues:rt}),{reset:st,watch:dt,setValue:ct,handleSubmit:ut,formState:{isSubmitting:pt,errors:mt}}=it,ht=(dt(),async(e,t,n)=>{try{var a;const r=new FormData;r.append("name","".concat(t," ").concat(n));const i=await G.A.post("user/contact/add/".concat(e),r);var l,o;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.status)J("User Add In Your List",{variant:"success"}),at(null===i||void 0===i||null===(l=i.data)||void 0===l||null===(o=l.contact)||void 0===o?void 0:o.id);else console.log("Status False in API")}catch(r){console.log(r,"add user in list api error")}}),xt=[{price:"$200",progressPercent:50},{price:"$400",progressPercent:75}];return(0,te.jsx)(te.Fragment,{children:(0,te.jsxs)(i.A,{maxWidth:!U&&"xl",children:[(0,te.jsx)(he,{files:Je}),Ne&&(0,te.jsx)(Y.A,{}),(0,te.jsxs)(s.Ay,{container:!0,mt:5,children:[(0,te.jsx)(s.Ay,{sm:12,md:4,children:(0,te.jsx)(Fe,{children:(0,te.jsxs)(d.A,{children:[(0,te.jsxs)(c.A,{gutterBottom:!0,variant:"h4",children:["Welcome back, ",null!==I&&void 0!==I&&I.first_name?null===I||void 0===I?void 0:I.first_name:"..."," \ud83d\udc4f"]}),(0,te.jsx)(c.A,{variant:"body2",sx:{pb:{xs:3,xl:5},maxWidth:480,mx:"auto"},children:"If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything"})]})})}),(0,te.jsx)(s.Ay,{sm:12,md:4,px:2,children:null===xt||void 0===xt?void 0:xt.map(((e,t)=>(0,te.jsxs)(o.A,{sx:{p:2,boxShadow:3,mb:2,height:"46%"},children:[(0,te.jsxs)(u.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,te.jsxs)(u.A,{display:"flex",alignItems:"center",gap:1,children:[(0,te.jsx)(p.A,{src:"/images/document.png"}),(0,te.jsx)(c.A,{variant:"subtitle2",children:"Active"})]}),(0,te.jsx)(u.A,{display:"flex",alignItems:"center",children:(0,te.jsx)(c.A,{variant:"h6",children:e.price})})]}),(0,te.jsx)(u.A,{sx:{mt:2},children:(0,te.jsxs)(u.A,{sx:{display:"flex",alignItems:"center"},children:[(0,te.jsx)(u.A,{sx:{flexGrow:1},children:(0,te.jsx)(D.A,{variant:"determinate",value:e.progressPercent,sx:{height:10,borderRadius:5,backgroundColor:"#e0e0e0"}})}),(0,te.jsxs)(c.A,{variant:"subtitle2",children:[e.progressPercent,"%"]})]})})]},t)))}),(0,te.jsx)(s.Ay,{sm:12,md:4,children:(0,te.jsx)(ke,{})})]}),(0,te.jsxs)(o.A,{sx:{mt:5},children:[(0,te.jsxs)(u.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,te.jsx)(q.F5,{filterName:me,filterService:ve,filterStartDate:fe,filterEndDate:be,onFilterName:e=>{xe(e),le(0)},onFilterService:e=>{ge(e.target.value)},onFilterStartDate:e=>{Ae(e)},onFilterEndDate:e=>{we(e)}}),(0,te.jsxs)(m.A,{gap:1,direction:"row",children:[(0,te.jsx)(h.A,{variant:"contained",component:_.N_,to:"/dashboard/addfile",startIcon:(0,te.jsx)(M.A,{icon:"clarity:form-line"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"New File"}),(0,te.jsx)(h.A,{variant:"contained",component:_.N_,to:E.nB.legalForm,startIcon:(0,te.jsx)(M.A,{icon:"clarity:form-line"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Documents"}),(0,te.jsx)(u.A,{sx:{p:2},children:(0,te.jsx)(c.A,{variant:"h4",gutterBottom:!0,children:_e.label})})]})]}),(0,te.jsx)(z.A,{children:(0,te.jsx)(x.A,{sx:{minWidth:800,position:"relative"},children:(0,te.jsxs)(v.A,{size:K?"small":"medium",children:[(0,te.jsx)(W.er,{order:ee,orderBy:ne,headLabel:Te,rowCount:ue.length,numSelected:oe.length,onSort:ie}),(0,te.jsxs)(g.A,{children:[et.slice(Q*ae,Q*ae+ae).map((e=>(0,te.jsx)(V.A,{row:e,onViewRow:()=>(e=>{$("/dashboard/filepreview/".concat(null===e||void 0===e?void 0:e.id),{state:{row:e}})})(e),onShareRow:()=>Qe(null===e||void 0===e?void 0:e.id),onOrderContin:()=>{return t=e.id,void $("/dashboard/order/".concat(t));var t},onDeleteRow:()=>{return t=e.id,Ee(!0),void G.A.delete("user/user_file/".concat(t)).then((e=>{if(console.log("response",e),Ee(!1),200===e.status||201===e.status){const e=ue.filter((e=>e.id!==t));re([]),pe(e),J("Delete Successfully")}})).catch((e=>{Ee(!1),e.errors&&Object.keys(e.errors).map((t=>J(e.errors[t][0],{variant:"error"})))}));var t}},e.id))),(0,te.jsx)(W.dO,{height:tt,emptyRows:(0,O.xl)(Q,ae,ue.length)}),(0,te.jsx)(W.Sm,{isNotFound:nt})]})]})})}),(0,te.jsx)(u.A,{sx:{position:"relative"},children:(0,te.jsx)(f.A,{rowsPerPageOptions:[5,10,25],component:"div",count:et.length,rowsPerPage:ae,page:Q,onPageChange:de,onRowsPerPageChange:ce})})]}),(0,te.jsx)(A.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Oe,onClose:()=>Be(!1),closeAfterTransition:!0,slots:{backdrop:j.A},slotProps:{backdrop:{timeout:500}},children:(0,te.jsx)(y.A,{in:Oe,children:(0,te.jsxs)(u.A,{sx:Le,children:[(0,te.jsx)(c.A,{variant:"h5",sx:{mb:2},onClick:()=>ze(!1),children:Me&&(0,te.jsx)(N.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,te.jsxs)(s.Ay,{item:!0,xs:12,md:12,children:[(0,te.jsx)(c.A,{variant:"h5",sx:{mb:2},children:Me?"Add Contact":"Select User Into Your List"}),Me?(0,te.jsxs)(X.Op,{methods:it,onSubmit:ut((async e=>{console.log(e.request,"request"),Ue(!0);try{const t=new FormData;t.append("first_name",e.fname),t.append("last_name",e.lname),t.append("email",e.email),t.append("phone",e.phone),t.append("address",e.address),t.append("company_name",e.company),t.append("job_title",e.job),t.append("is_file_shared",!0),await G.A.post("user/contact/user/add",t).then((e=>{if(Ue(!1),200===e.status||201===e.status){var t,n,a;const l=e.data;console.log(l,"add user new"),J("successfully add new user"),Be(!1),st(),ht(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.id,null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.first_name,null===l||void 0===l||null===(a=l.user)||void 0===a?void 0:a.last_name)}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>J(t.errors[e][0],{variant:"error"})))}}finally{Ue(!1)}})),children:[(0,te.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,te.jsx)(X.o3,{name:"fname",label:"First Name"}),(0,te.jsx)(X.o3,{name:"lname",label:"Last Name"}),(0,te.jsx)(X.o3,{name:"email",label:"Email"}),(0,te.jsx)(X.o3,{name:"phone",label:"Phone Nunber"}),(0,te.jsx)(X.o3,{name:"address",label:"Address"}),(0,te.jsx)(X.o3,{name:"company",label:"Company Name"}),(0,te.jsx)(X.o3,{name:"job",label:"Job title"})]}),(0,te.jsx)(m.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,te.jsx)(k.A,{type:"submit",variant:"contained",loading:Xe,children:"Add Contact"})})]}):(0,te.jsxs)(u.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,te.jsx)(m.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,te.jsx)(b.A,{sx:{my:1,width:1},ref:lt,label:"Search by first Name, Last Name & Email",value:(null===lt||void 0===lt||null===(t=lt.current)||void 0===t?void 0:t.value)||"",onChange:e=>{const t=e.target.value.toLowerCase();if(lt.current.value=t,""===lt.current.value)ye([]);else{const e=Ye.filter((e=>{var n,a,l;return(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.first_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(a=e.Contact)||void 0===a?void 0:a.last_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(l=e.Contact)||void 0===l?void 0:l.email.toLowerCase().includes(t))}));console.log(e,"filteredData"),ye(e)}},size:"small"})}),(0,te.jsx)(w.A,{}),(null===je||void 0===je?void 0:je.length)>0?je.map(((e,t)=>{var n,a;return(0,te.jsxs)(m.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,te.jsxs)(c.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,te.jsx)(M.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(n=e.Contact)||void 0===n?void 0:n.first_name," ").concat(null===e||void 0===e||null===(a=e.Contact)||void 0===a?void 0:a.last_name)]}),(0,te.jsx)(m.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,te.jsx)(k.A,{type:"submit",variant:"contained",loading:Xe,onClick:()=>at(null===e||void 0===e?void 0:e.id),children:"Share"})})]},t)})):(0,te.jsx)(m.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,te.jsx)(h.A,{variant:"contained",onClick:()=>ze(!0),startIcon:(0,te.jsx)(M.A,{icon:"material-symbols:contact-page-rounded"}),sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:"Add Contact"})})]})]})]})})})]})})}},58723:(e,t,n)=>{n.d(t,{A:()=>j});n(9950);var a=n(60666),l=n(23334),o=n.n(l),r=n(43974),i=n(29031),s=n(9449),d=n(68654),c=n(12257),u=n(8145),p=n(79739),m=n(75165),h=n(21410),x=n(28095),v=n(30744),g=(n(42686),n(66075),n(91745),n(73561)),f=n(32741),A=n(44414);function j(e){let{event:t,range:n,onCancel:l,getDate:j}=e;const{enqueueSnackbar:y}=(0,i.dh)(),b=((0,v.wA)(),a.Ik().shape({title:a.Yj().max(255).required("Title is required"),description:a.Yj().max(5e3)})),w=(0,s.mN)({resolver:(0,d.t)(b),defaultValues:((e,t)=>{const n={title:"",order_id:e.order_id||"",description:"",textColor:"#1890FF",start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date,date:j?new Date(j):new Date};return e||t?o()({},n,e):n})(t,n)}),{reset:C,control:S,setValue:_,handleSubmit:D,formState:{isSubmitting:k}}=w;return(0,A.jsxs)(g.Op,{methods:w,onSubmit:D((async e=>{try{const t={title:e.title,note:e.description,start:(0,r.A)(e.start,"HH:mm:ss"),end:(0,r.A)(e.end,"HH:mm:ss"),date:(0,r.A)(e.date,"yyyy-MM-dd HH:mm:ss")},n=await f.A.post("todo",t);console.log(n,"reminder"),l(),C()}catch(t){console.error(t)}})),children:[(0,A.jsxs)(c.A,{spacing:3,sx:{p:3},children:[(0,A.jsx)(g.o3,{name:"title",label:"title"}),(0,A.jsx)(g.o3,{name:"description",label:"Description",multiline:!0,rows:4}),(0,A.jsx)(s.xI,{name:"date",control:S,render:e=>{let{field:t}=e;return(0,A.jsx)(h.A,{...t,label:"Date",inputFormat:"dd/MM/yyyy",renderInput:e=>(0,A.jsx)(u.A,{...e,fullWidth:!0,value:j})})}}),(0,A.jsx)(s.xI,{name:"start",control:S,render:e=>{let{field:t}=e;return(0,A.jsx)(h.A,{...t,label:"Start Time",ampm:!0,inputFormat:"hh:mm a",renderInput:e=>(0,A.jsx)(u.A,{...e,fullWidth:!0})})}}),(0,A.jsx)(s.xI,{name:"end",control:S,render:e=>{let{field:t}=e;return(0,A.jsx)(h.A,{...t,label:"End Time",ampm:!0,inputFormat:"hh:mm a",renderInput:e=>(0,A.jsx)(u.A,{...e,fullWidth:!0,value:j})})}})]}),(0,A.jsxs)(p.A,{children:[(0,A.jsx)(m.A,{variant:"outlined",color:"inherit",onClick:l,children:"Cancel"}),(0,A.jsx)(x.A,{type:"submit",variant:"contained",loading:k,children:"Add"})]})]})}},6768:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(9950),l=n(13564),o=n(26689),r=n(14857),i=n(9213),s=n(21671),d=n(93038),c=n(23266),u=n(75165),p=n(97591),m=n(90260),h=n(34437),x=(n(22704),n(33949),n(66075)),v=n(72870),g=n(44414);function f(e){var t,n,f,A,j,y,b,w,C,S;let{row:_,selected:D,onSelectRow:k,onAssign:I,onViewRow:T,onDocumentUpload:L,onDownloadDocument:F,onDeleteRow:N,onShareRow:E,onEditRow:P,onOrderContin:R,onStatusChange:O}=e;(0,r.A)();const{pathname:B}=(0,l.zy)(),M=(B.includes("admin"),(0,l.Zp)());console.log(_,"row");const{updated_at:z,DummyData:W,transaction_type:q,purchase_price:V,file_no:G,file_name:Y,id:H,_count:X,user:U}=_,[Z,$]=(0,a.useState)(null),J=Boolean(Z),[K,Q]=(0,a.useState)(null),ee=()=>{Q(null)},te=()=>{M("/dashboard/filepreview/".concat(null===_||void 0===_?void 0:_.id),{state:{row:_}})};return(0,g.jsxs)(i.A,{selected:D,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(k||D)&&(0,g.jsx)(s.A,{padding:"checkbox",children:(0,g.jsx)(d.A,{checked:D,onClick:k})}),(0,g.jsx)(s.A,{sx:{color:"#DD9A19"},align:"left",onClick:te,children:G}),(0,g.jsx)(s.A,{align:"left",onClick:te,children:Y}),(0,g.jsx)(s.A,{align:"left",onClick:te,children:null===W||void 0===W||null===(t=W.subject_premise)||void 0===t?void 0:t.property_location}),(0,g.jsx)(s.A,{align:"left",onClick:te,children:z&&(0,h.ts)(z)}),(0,g.jsxs)(s.A,{align:"left",onClick:te,children:[(null===W||void 0===W||null===(n=W.buyers)||void 0===n?void 0:n.length)>0&&(null===W||void 0===W||null===(f=W.buyers[0])||void 0===f?void 0:f.first_name)," ",(null===W||void 0===W||null===(A=W.buyers)||void 0===A?void 0:A.length)>0&&(null===W||void 0===W||null===(j=W.buyers[0])||void 0===j?void 0:j.last_name)]}),(0,g.jsxs)(s.A,{align:"left",onClick:te,children:[(null===W||void 0===W||null===(y=W.sellers)||void 0===y?void 0:y.length)>0&&(null===W||void 0===W||null===(b=W.sellers[0])||void 0===b?void 0:b.first_name)," ",(null===W||void 0===W||null===(w=W.sellers)||void 0===w?void 0:w.length)>0&&(null===W||void 0===W||null===(C=W.sellers[0])||void 0===C?void 0:C.last_name)]}),(0,g.jsx)(s.A,{align:"left",onClick:te,children:q}),(0,g.jsx)(s.A,{align:"left",onClick:te,children:null===W||void 0===W||null===(S=W.lender)||void 0===S?void 0:S.organization}),(0,g.jsx)(s.A,{align:"left",children:(0,g.jsx)(c.A,{onClick:()=>{N(),ee()},sx:{color:"error.main"},children:(0,g.jsx)(x.A,{icon:"eva:trash-2-outline"})})}),(0,g.jsx)(s.A,{align:"left",children:R&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.A,{variant:"contained","aria-controls":J?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":J?"true":void 0,onClick:e=>{$(e.currentTarget)},sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===X||void 0===X?void 0:X.orders)>0?"Ordered":"Order"}),(0,g.jsxs)(p.A,{id:"basic-menu",anchorEl:Z,open:J,onClose:()=>{$(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.titleInsurance,"/").concat(H),children:"Title Insurance"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.coopLienSearch,"/").concat(H),children:"Coop Lien Search"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.eagle9Policy,"/").concat(H),children:"Eagle 9 Policy"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.coopCondoOfferinPlans,"/").concat(H),children:"Coop/Condo Offering Plans"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.uccCreateFile,"/").concat(H),children:"UCC - Create/File"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.exchange1031,"/").concat(H),children:"1031 Exchange"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.acrisETax,"/").concat(H),children:"Acris E-Tax Forms"}),(0,g.jsx)(c.A,{component:o.N_,to:"".concat(m.nB.orders.otherSearches,"/").concat(H),children:"Other Searches"})]})]})}),(0,g.jsx)(s.A,{align:"right",children:(0,g.jsx)(v.ZE,{open:K,onOpen:e=>{Q(e.currentTarget)},onClose:ee,actions:(0,g.jsxs)(g.Fragment,{children:[T&&(0,g.jsxs)(c.A,{onClick:()=>{T(),ee()},children:[(0,g.jsx)(x.A,{icon:"tabler:eye-filled"}),"View"]}),E&&(0,g.jsxs)(c.A,{onClick:()=>{E(),ee()},children:[(0,g.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}}}]);