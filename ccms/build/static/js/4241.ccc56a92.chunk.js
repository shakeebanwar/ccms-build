"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4241],{63358:(e,o,t)=>{t.d(o,{A:()=>v});var a=t(56801),n=t.n(a),r=t(6368),i=t(82053),l=t(22707),s=t(26689),d=t(52432),c=t(44414);function u(e){let{links:o,activeLast:t=!1,...a}=e;const n=o[o.length-1].name,l=o.map((e=>(0,c.jsx)(p,{link:e},e.name))),s=o.map((e=>(0,c.jsx)("div",{children:e.name!==n?(0,c.jsx)(p,{link:e}):(0,c.jsx)(i.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:n})},e.name)));return(0,c.jsx)(d.A,{separator:(0,c.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...a,children:t?l:s})}function p(e){let{link:o}=e;const{href:t,name:a,icon:n}=o;return(0,c.jsxs)(l.A,{variant:"body2",component:s.N_,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&(0,c.jsx)(r.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),a]},a)}function v(e){let{links:o,action:t,heading:a,moreLink:s=[],sx:d,...p}=e;return(0,c.jsxs)(r.A,{sx:{mb:5,...d},children:[(0,c.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(r.A,{sx:{flexGrow:1},children:[(0,c.jsx)(i.A,{variant:"h4",gutterBottom:!0,children:a}),(0,c.jsx)(u,{links:o,...p})]}),t&&(0,c.jsx)(r.A,{sx:{flexShrink:0},children:t})]}),(0,c.jsx)(r.A,{sx:{mt:2},children:n()(s)?(0,c.jsx)(l.A,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):null===s||void 0===s?void 0:s.map((e=>(0,c.jsx)(l.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},64241:(e,o,t)=>{t.r(o),t.d(o,{default:()=>I});var a=t(9950),n=t(79537),r=t(45180),i=t(6368),l=t(12257),s=t(8145),d=t(16497),c=t(93038),u=t(75165),p=t(9449),v=t(29031),m=t(48711),h=t(13564),g=t(64267),f=t.n(g),x=t(8279),A=t(34117),b=t(86608),y=t(90260),C=t(30818),w=t(32741),j=t(63358),S=t(44414);const R=[{title:"Acknowledgments",path:y.nB.legalForms.acknowledgments},{title:"Affidavit for Credit Against",path:y.nB.legalForms.affidavitforCreditAgainst},{title:"Affidavit in Lieu of Registration",path:y.nB.legalForms.affidavitinLieuofRegistration},{title:"Affidavit in Lieu of Registration 2009",path:y.nB.legalForms.affidavitinLieuofRegistration2009}],_=["Transfer docs and ACRIS prep","Transfer docs and ACRIS filing","UCC filing","IT-2664 filing","Satisfaction Of Judgement Request"],k={"Transfer docs and ACRIS prep":{is_added:!1,note:"",gov_fee:"",total_price:150},"Transfer docs and ACRIS filing":{is_added:!1,note:"Transfer taxes and $100.00 Gov. fee paid to Big Apple Title",gov_fee:100,total_price:175},"UCC filing":{is_added:!1,note:"Government fee of $40.00 to be paid to Big Apple Title",gov_fee:40,total_price:75},"IT-2664 filing":{is_added:!1,note:"Checks to be made to NYS Income Tax",gov_fee:"",total_price:100},"Satisfaction Of Judgement Request":{is_added:!1,note:"",gov_fee:"",total_price:200}};function I(){var e;const{enqueueSnackbar:o}=(0,v.dh)(),{themeStretch:t}=(0,b.A)(),[g]=(0,a.useState)(R),[I,T]=(0,a.useState)(g),[L,N]=(0,a.useState)(),[B,M]=(0,a.useState)(),[F,H]=(0,a.useState)(null),[O,U]=(0,a.useState)(!1),[q,z]=(0,a.useState)(),[D,W]=(0,a.useState)(!1),[V,E]=(0,a.useState)(!1),[J,P]=(0,a.useState)(),[G,$]=(0,a.useState)(null),[Y,Z]=(0,a.useState)([]),K=((0,h.Zp)(),(0,a.useRef)("")),{file:Q}=(0,A.d4)((e=>e.File));console.log(Q,"file details"),(0,a.useEffect)((()=>{(0,A.JD)((0,C.mv)())}),[]);const X=(0,p.mN)(),{setValue:ee,getValues:oe}=X;console.log(Y,"selectedServices");const te=f()((e=>{console.log(e,"value"),M(e)}),300),ae=(0,a.useMemo)((()=>{if(console.log("Searching for:",B),null===B||void 0===B||!B.trim())return Q.map((e=>{var o;return{label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e||null===(o=e.orders[0])||void 0===o?void 0:o.order_no,")"),value:null===e||void 0===e?void 0:e.id}}));const e=B.toLowerCase();return Q.filter((o=>{var t,a,n,r,i,l,s,d,c;return null!==(t=null===o||void 0===o||null===(a=o.file_name)||void 0===a?void 0:a.toLowerCase().includes(e))&&void 0!==t&&t||null!==(n=null===o||void 0===o||null===(r=o.orders[0])||void 0===r||null===(i=r.order_no)||void 0===i?void 0:i.toLowerCase().includes(e))&&void 0!==n&&n||null!==(l=null===o||void 0===o||null===(s=o.DummyData)||void 0===s||null===(d=s.subject_premise)||void 0===d||null===(c=d.property_location)||void 0===c?void 0:c.toLowerCase().includes(e))&&void 0!==l&&l})).map((e=>{var o,t,a;return{label:"".concat(null===e||void 0===e?void 0:e.file_name," (").concat(null===e||void 0===e||null===(o=e.orders[0])||void 0===o?void 0:o.order_no,") - ").concat(null===e||void 0===e||null===(t=e.DummyData)||void 0===t||null===(a=t.subject_premise)||void 0===a?void 0:a.property_location),value:null===e||void 0===e?void 0:e.id}}))}),[B,Q]);return(0,S.jsx)(x.A,{title:"Invoices",children:(0,S.jsxs)(n.A,{maxWidth:!t&&"lg",children:[(0,S.jsx)(j.A,{sx:{paddingTop:"10px",paddingLeft:"20px"},links:[{name:"Dashboard",href:y.i8.root},{name:"Create Invoice"}]}),(0,S.jsx)(r.A,{title:"Invoices",sx:{paddingVertical:"0px"}}),(0,S.jsx)(i.A,{sx:{px:2},children:(0,S.jsxs)(i.A,{sx:{display:"flex",alignItems:"start",justifyContent:"space-between",gap:2,flexWrap:"wrap"},children:[(0,S.jsxs)(l.A,{sx:{my:3,width:{xs:"100%",sm:"48%"}},children:[(0,S.jsxs)(i.A,{sx:{display:"flex",alignItems:"start",justifyContent:"space-between",gap:1},children:[(0,S.jsx)(m.Ay,{options:ae,onInputChange:te,onChange:e=>{var o,t;const a=e.value;console.log(a,"newFileId"),N(a);const n=null===Q||void 0===Q?void 0:Q.find((e=>(null===e||void 0===e?void 0:e.id)==a));z(n),console.log(n,"filterFile");const r=(null===n||void 0===n||null===(o=n.orders)||void 0===o?void 0:o.length)>0&&null!==n&&void 0!==n&&null!==(t=n.orders[0])&&void 0!==t&&t.additional_charges?n.orders[0].additional_charges.filter((e=>e.is_added)):[];console.log(r,"alreadyCheckedServices");const i={"acris prep":"Transfer docs and ACRIS prep","acris filing":"Transfer docs and ACRIS filing","ucc filing":"UCC filing","it-2664 filing":"IT-2664 filing","satisfaction of judgment request":"Satisfaction Of Judgement Request"},l=r.map((e=>{const o=e.name.toLowerCase().trim();return i[o]||o}));console.log(l,"checkedServiceNames (Mapped)");const s=_.map((e=>{const o=e.toLowerCase().trim(),t=l.some((e=>e.toLowerCase().trim()===o));return console.log("Checking: ".concat(o," -> ").concat(t?"\u2705 Checked":"\u274c Not Checked")),{name:e,...k[e],is_added:t}}));console.log(s,"updatedServices (Final)"),Z(s)},isSearchable:"true",placeholder:"Select File",className:"w-100 py-5",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"0px",paddingVertical:"5px",border:o.isFocused?"2px solid #ced4da":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px 00ab55":"none","&:hover":{borderColor:"#00ab55"},minHeight:"48px"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999})}}),(0,S.jsx)(s.A,{sx:{"& .MuiInputBase-root":{borderRadius:"0px"}},ref:K,label:"Search",value:(null===K||void 0===K||null===(e=K.current)||void 0===e?void 0:e.value)||"",onChange:e=>{const o=e.target.value.toLowerCase();K.current.value=o;const t=g.filter((e=>e.title.toLowerCase().includes(o)));T(t)},size:"medium",fullWidth:!0})]}),(0,S.jsxs)(l.A,{sx:{mt:3},children:[(0,S.jsx)("h4",{children:"Additional Services"}),Y.map(((e,o)=>(0,S.jsx)(d.A,{control:(0,S.jsx)(c.A,{checked:e.is_added,onChange:()=>{return o=e.name,void Z((e=>e.map((e=>e.name===o?{...e,is_added:!e.is_added}:e))));var o}}),label:e.name},o)))]}),(0,S.jsx)(l.A,{justifyContent:"center",alignItems:"center",sx:{mt:3},children:(0,S.jsx)(u.A,{variant:"contained",onClick:()=>(async()=>{U(!0);try{var e;const i=null===Y||void 0===Y?void 0:Y.some((e=>null===e||void 0===e?void 0:e.is_added)),l=await w.A.post("employee/word/additions_invoice_doc/".concat(L),{additional_charges:Y},{responseType:"blob"});if(console.log(i,"response"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===(null===(e=l.data)||void 0===e?void 0:e.type)){var t,a,n,r;const e=new Blob([l.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),o=window.URL.createObjectURL(e),s=document.createElement("a");s.href=o,s.setAttribute("download",i?(null===q||void 0===q||null===(t=q.orders)||void 0===t?void 0:t.length)>0&&(null===q||void 0===q||null===(a=q.orders[0])||void 0===a?void 0:a.order_no)+" Invoice Additions":(null===q||void 0===q||null===(n=q.orders)||void 0===n?void 0:n.length)>0&&(null===q||void 0===q||null===(r=q.orders[0])||void 0===r?void 0:r.order_no)+" Invoice"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o),console.log("File downloaded successfully")}else o("this file  can not generate invoice",{variant:"error"})}catch(i){console.error("Error downloading file:",i),o("Need To Update Order Record!",{variant:"error"})}finally{U(!1),H(null)}})(),sx:{bgcolor:"#00ab55",color:"#fff",boxShadow:"none",borderRadius:"0px",textAlign:"center",padding:"12px 24px","&:hover":{bgcolor:"#0aaa57"}},children:"Create Invoice"})})]}),(0,S.jsx)(l.A,{sx:{my:3,width:{xs:"100%",sm:"48%"}},children:(0,S.jsx)("img",{src:"/images/invoice.jpeg",alt:"invoice",style:{width:"100%",height:"auto",border:"1px solid lightblue"}})})]})})]})})}},52432:(e,o,t)=>{t.d(o,{A:()=>_});var a=t(58168),n=t(98587),r=t(9950),i=(t(26429),t(2803)),l=t(5747),s=t(7951),d=t(79859),c=t(82053),u=t(19657),p=t(65471),v=t(44414);const m=(0,p.A)((0,v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=t(24184);const g=(0,s.Ay)(h.A)((e=>{let{theme:o}=e;return(0,a.A)({display:"flex",marginLeft:"calc(".concat(o.spacing(1)," * 0.5)"),marginRight:"calc(".concat(o.spacing(1)," * 0.5)")},"light"===o.palette.mode?{backgroundColor:o.palette.grey[100],color:o.palette.grey[700]}:{backgroundColor:o.palette.grey[700],color:o.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.A)({},"light"===o.palette.mode?{backgroundColor:o.palette.grey[200]}:{backgroundColor:o.palette.grey[600]}),"&:active":(0,a.A)({boxShadow:o.shadows[0]},"light"===o.palette.mode?{backgroundColor:(0,u.tL)(o.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(o.palette.grey[600],.12)})})})),f=(0,s.Ay)(m)({width:24,height:16});const x=function(e){const o=e;return(0,v.jsx)("li",{children:(0,v.jsx)(g,(0,a.A)({focusRipple:!0},e,{ownerState:o,children:(0,v.jsx)(f,{ownerState:o})}))})};var A=t(37665);function b(e){return(0,A.A)("MuiBreadcrumbs",e)}const y=(0,t(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],w=(0,s.Ay)(c.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,o)=>[{["& .".concat(y.li)]:o.li},o.root]})({}),j=(0,s.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,s.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function R(e,o,t,a){return e.reduce(((n,r,i)=>(i<e.length-1?n=n.concat(r,(0,v.jsx)(S,{"aria-hidden":!0,className:o,ownerState:a,children:t},"separator-".concat(i))):n.push(r),n)),[])}const _=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiBreadcrumbs"}),{children:s,className:c,component:u="nav",expandText:p="Show path",itemsAfterCollapse:m=1,itemsBeforeCollapse:h=1,maxItems:g=8,separator:f="/"}=t,A=(0,n.A)(t,C),[y,S]=r.useState(!1),_=(0,a.A)({},t,{component:u,expanded:y,expandText:p,itemsAfterCollapse:m,itemsBeforeCollapse:h,maxItems:g,separator:f}),k=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},b,o)})(_),I=r.useRef(null),T=r.Children.toArray(s).filter((e=>r.isValidElement(e))).map(((e,o)=>(0,v.jsx)("li",{className:k.li,children:e},"child-".concat(o))));return(0,v.jsx)(w,(0,a.A)({ref:o,component:u,color:"text.secondary",className:(0,i.A)(k.root,c),ownerState:_},A,{children:(0,v.jsx)(j,{className:k.ol,ref:I,ownerState:_,children:R(y||g&&T.length<=g?T:(e=>h+m>=e.length?e:[...e.slice(0,h),(0,v.jsx)(x,{"aria-label":p,onClick:()=>{S(!0);const e=I.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-m,e.length)])(T),k.separator,f,_)})}))}))},45180:(e,o,t)=>{t.d(o,{A:()=>b});var a=t(98587),n=t(58168),r=t(9950),i=t(2803),l=t(5747),s=t(82053),d=t(79859),c=t(7951),u=t(37665);function p(e){return(0,u.A)("MuiCardHeader",e)}const v=(0,t(44245).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=t(44414);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,o)=>(0,n.A)({["& .".concat(v.title)]:o.title,["& .".concat(v.subheader)]:o.subheader},o.root)})({display:"flex",alignItems:"center",padding:16}),f=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,o)=>o.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),x=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,o)=>o.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,o)=>o.content})({flex:"1 1 auto"}),b=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCardHeader"}),{action:r,avatar:c,className:u,component:v="div",disableTypography:b=!1,subheader:y,subheaderTypographyProps:C,title:w,titleTypographyProps:j}=t,S=(0,a.A)(t,h),R=(0,n.A)({},t,{component:v,disableTypography:b}),_=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,o)})(R);let k=w;null==k||k.type===s.A||b||(k=(0,m.jsx)(s.A,(0,n.A)({variant:c?"body2":"h5",className:_.title,component:"span",display:"block"},j,{children:k})));let I=y;return null==I||I.type===s.A||b||(I=(0,m.jsx)(s.A,(0,n.A)({variant:c?"body2":"body1",className:_.subheader,color:"text.secondary",component:"span",display:"block"},C,{children:I}))),(0,m.jsxs)(g,(0,n.A)({className:(0,i.A)(_.root,u),as:v,ref:o,ownerState:R},S,{children:[c&&(0,m.jsx)(f,{className:_.avatar,ownerState:R,children:c}),(0,m.jsxs)(A,{className:_.content,ownerState:R,children:[k,I]}),r&&(0,m.jsx)(x,{className:_.action,ownerState:R,children:r})]}))}))}}]);