"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4241],{63358:(e,o,t)=>{t.d(o,{A:()=>m});var a=t(56801),n=t.n(a),r=t(6368),l=t(82053),i=t(22707),s=t(26689),d=t(52432),c=t(44414);function u(e){let{links:o,activeLast:t=!1,...a}=e;const n=o[o.length-1].name,i=o.map((e=>(0,c.jsx)(p,{link:e},e.name))),s=o.map((e=>(0,c.jsx)("div",{children:e.name!==n?(0,c.jsx)(p,{link:e}):(0,c.jsx)(l.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:n})},e.name)));return(0,c.jsx)(d.A,{separator:(0,c.jsx)(r.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...a,children:t?i:s})}function p(e){let{link:o}=e;const{href:t,name:a,icon:n}=o;return(0,c.jsxs)(i.A,{variant:"body2",component:s.N_,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&(0,c.jsx)(r.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),a]},a)}function m(e){let{links:o,action:t,heading:a,moreLink:s=[],sx:d,...p}=e;return(0,c.jsxs)(r.A,{sx:{mb:5,...d},children:[(0,c.jsxs)(r.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(r.A,{sx:{flexGrow:1},children:[(0,c.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:a}),(0,c.jsx)(u,{links:o,...p})]}),t&&(0,c.jsx)(r.A,{sx:{flexShrink:0},children:t})]}),(0,c.jsx)(r.A,{sx:{mt:2},children:n()(s)?(0,c.jsx)(i.A,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):null===s||void 0===s?void 0:s.map((e=>(0,c.jsx)(i.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},64241:(e,o,t)=>{t.r(o),t.d(o,{default:()=>k});var a=t(9950),n=t(79537),r=t(45180),l=t(6368),i=t(12257),s=t(16497),d=t(93038),c=t(75165),u=t(9449),p=t(29031),m=t(48711),v=t(13564),h=t(64267),f=t.n(h),g=t(8279),x=t(34117),b=t(86608),A=t(90260),y=t(30818),C=t(32741),w=t(63358),j=t(44414);const S=[{title:"Acknowledgments",path:A.nB.legalForms.acknowledgments},{title:"Affidavit for Credit Against",path:A.nB.legalForms.affidavitforCreditAgainst},{title:"Affidavit in Lieu of Registration",path:A.nB.legalForms.affidavitinLieuofRegistration},{title:"Affidavit in Lieu of Registration 2009",path:A.nB.legalForms.affidavitinLieuofRegistration2009}],_=["Transfer docs and ACRIS prep","Transfer docs and ACRIS filing","UCC filing","IT-2664 filing","Satisfaction Of Judgement Request"],R={"Transfer docs and ACRIS prep":{is_added:!1,note:"",gov_fee:"",total_price:150},"Transfer docs and ACRIS filing":{is_added:!1,note:"Transfer taxes and $100.00 Gov. fee paid to Big Apple Title",gov_fee:100,total_price:175},"UCC filing":{is_added:!1,note:"Government fee of $40.00 to be paid to Big Apple Title",gov_fee:40,total_price:75},"IT-2664 filing":{is_added:!1,note:"Checks to be made to NYS Income Tax",gov_fee:"",total_price:100},"Satisfaction Of Judgement Request":{is_added:!1,note:"",gov_fee:"",total_price:200}};function k(){const{enqueueSnackbar:e}=(0,p.dh)(),{themeStretch:o}=(0,b.A)(),[t]=(0,a.useState)(S),[h,k]=(0,a.useState)(t),[I,T]=(0,a.useState)(),[N,L]=(0,a.useState)(),[B,M]=(0,a.useState)(null),[F,H]=(0,a.useState)(!1),[D,U]=(0,a.useState)(),[W,O]=(0,a.useState)(null),[q,z]=(0,a.useState)([]),[E,V]=(0,a.useState)([]),[J,P]=(0,a.useState)(null),{file:G}=((0,v.Zp)(),(0,a.useRef)(""),(0,x.d4)((e=>e.File)));console.log(G,"file details"),(0,a.useEffect)((()=>{(0,x.JD)((0,y.mv)())}),[]);const $=(0,u.mN)(),{setValue:Y,getValues:Z}=$;(0,a.useEffect)((async()=>{try{var e;const o=await C.A.get("employee/users/list");console.log(o,"all user"),V(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.files),console.log(o,"autofill")}catch(o){console.log(o,"autofill")}}),[]),(0,a.useEffect)((()=>{if(J){const t=G.filter((e=>e.userId===J.value));var e,o;if(t.length>0)O({label:"".concat(t[0].file_name," (").concat((null===(e=t[0].orders)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.order_no)||"N/A",")"),value:t[0].id});else O(null),U(null)}else O(null),U(null)}),[J,G]),console.log(D,"fileData");const K=f()((e=>{L(e)}),300),Q=(0,a.useMemo)((()=>{var e;if((null===N||void 0===N||!N.trim())&&!J)return null===G||void 0===G?void 0:G.map((e=>{var o,t,a,n;return{label:"".concat(e.file_name," (").concat((null===(o=e.orders)||void 0===o||null===(t=o[0])||void 0===t?void 0:t.order_no)||"N/A",") - ").concat((null===(a=e.DummyData)||void 0===a||null===(n=a.subject_premise)||void 0===n?void 0:n.property_location)||"No Address"),value:e.id,userId:e.userId}}));const o=null===N||void 0===N?void 0:N.toLowerCase();return null===G||void 0===G||null===(e=G.filter((e=>{var t,a,n,r,l,i,s,d;const c=!J||e.userId===J.value,u=e.file_name.toLowerCase().includes(o)||null!==(t=null===(a=e.orders)||void 0===a||null===(n=a[0])||void 0===n||null===(r=n.order_no)||void 0===r?void 0:r.toLowerCase().includes(o))&&void 0!==t&&t||null!==(l=null===(i=e.DummyData)||void 0===i||null===(s=i.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.toLowerCase().includes(o))&&void 0!==l&&l;return c&&u})))||void 0===e?void 0:e.map((e=>{var o,t,a,n;return{label:"".concat(e.file_name," (").concat((null===(o=e.orders)||void 0===o||null===(t=o[0])||void 0===t?void 0:t.order_no)||"N/A",") - ").concat((null===(a=e.DummyData)||void 0===a||null===(n=a.subject_premise)||void 0===n?void 0:n.property_location)||"No Address"),value:e.id,userId:e.userId}}))}),[N,G,J]);return console.log(q,"selectedServices"),(0,j.jsx)(g.A,{title:"Invoices",children:(0,j.jsxs)(n.A,{maxWidth:!o&&"lg",children:[(0,j.jsx)(w.A,{sx:{paddingTop:"10px",paddingLeft:"20px"},links:[{name:"Dashboard",href:A.i8.root},{name:"Create Invoice"}]}),(0,j.jsx)(r.A,{title:"Invoices",sx:{paddingVertical:"0px"}}),(0,j.jsx)(l.A,{sx:{px:2},children:(0,j.jsxs)(l.A,{sx:{display:"flex",alignItems:"start",justifyContent:"space-between",gap:2,flexWrap:"wrap"},children:[(0,j.jsxs)(i.A,{sx:{my:3,width:{xs:"100%",sm:"50%"}},children:[(0,j.jsxs)(l.A,{sx:{display:"flex",alignItems:"start",justifyContent:"space-between",gap:1},children:[(0,j.jsx)(m.Ay,{options:null===E||void 0===E?void 0:E.map((e=>({label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}))),onChange:e=>{P(e),z([])},value:J,isSearchable:"true",placeholder:"Select User",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"0px",paddingVertical:"5px",border:o.isFocused?"2px solid #ced4da":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px 00ab55":"none","&:hover":{borderColor:"#00ab55"},minHeight:"48px",minWidth:"300px",maxWidth:"100%"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999})}}),(0,j.jsx)(m.Ay,{options:Q,onInputChange:K,onChange:e=>{var o,t;T(null===e||void 0===e?void 0:e.value),O(e);const a=G.find((o=>o.id===e.value));U(a);const n=E.find((e=>e.id===(null===a||void 0===a?void 0:a.userId)));P(n?{label:"".concat(n.first_name," ").concat(n.last_name),value:n.id}:null);const r=(null===a||void 0===a||null===(o=a.orders)||void 0===o?void 0:o.length)>0&&null!==a&&void 0!==a&&null!==(t=a.orders[0])&&void 0!==t&&t.additional_charges?a.orders[0].additional_charges.filter((e=>e.is_added)):[];console.log(r,"alreadyCheckedServices");const l={"acris prep":"Transfer docs and ACRIS prep","acris filing":"Transfer docs and ACRIS filing","ucc filing":"UCC filing","it-2664 filing":"IT-2664 filing","satisfaction of judgment request":"Satisfaction Of Judgement Request"},i=r.map((e=>{const o=e.name.toLowerCase().trim();return l[o]||o}));console.log(i,"checkedServiceNames (Mapped)");const s=_.map((e=>{const o=e.toLowerCase().trim(),t=i.some((e=>e.toLowerCase().trim()===o));return console.log("Checking: ".concat(o," -> ").concat(t?"\u2705 Checked":"\u274c Not Checked")),{name:e,...R[e],is_added:t}}));console.log(s,"updatedServices (Final)"),z(s)},isSearchable:"true",placeholder:"Select File",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"0px",paddingVertical:"5px",border:o.isFocused?"2px solid #ced4da":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px 00ab55":"none","&:hover":{borderColor:"#00ab55"},minHeight:"48px",minWidth:"300px",maxWidth:"100%"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999})}},(null===J||void 0===J?void 0:J.value)||"default")]}),(0,j.jsxs)(i.A,{sx:{mt:3},children:[(0,j.jsx)("h4",{children:"Additional Services"}),q.map(((e,o)=>(0,j.jsx)(s.A,{control:(0,j.jsx)(d.A,{checked:e.is_added,onChange:()=>{return o=e.name,void z((e=>e.map((e=>e.name===o?{...e,is_added:!e.is_added}:e))));var o}}),label:e.name},o)))]}),(0,j.jsx)(i.A,{justifyContent:"center",alignItems:"center",sx:{mt:3},children:(0,j.jsx)(c.A,{variant:"contained",onClick:()=>(async()=>{H(!0);try{var o;const l=null===q||void 0===q?void 0:q.some((e=>null===e||void 0===e?void 0:e.is_added)),i=await C.A.post("employee/word/additions_invoice_doc/".concat(I),{additional_charges:q},{responseType:"blob"});if(console.log(l,"response"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===(null===(o=i.data)||void 0===o?void 0:o.type)){var t,a,n,r;const e=new Blob([i.data],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),o=window.URL.createObjectURL(e),s=document.createElement("a");s.href=o,s.setAttribute("download",l?(null===D||void 0===D||null===(t=D.orders)||void 0===t?void 0:t.length)>0&&(null===D||void 0===D||null===(a=D.orders[0])||void 0===a?void 0:a.order_no)+" Invoice Additions":(null===D||void 0===D||null===(n=D.orders)||void 0===n?void 0:n.length)>0&&(null===D||void 0===D||null===(r=D.orders[0])||void 0===r?void 0:r.order_no)+" Invoice"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(o),console.log("File downloaded successfully")}else e("this file  can not generate invoice",{variant:"error"})}catch(l){console.error("Error downloading file:",l),e("Need To Update Order Record!",{variant:"error"})}finally{H(!1),M(null)}})(),sx:{bgcolor:"#00ab55",color:"#fff",boxShadow:"none",borderRadius:"0px",textAlign:"center",padding:"12px 24px","&:hover":{bgcolor:"#0aaa57"}},children:"Create Invoice"})})]}),(0,j.jsx)(i.A,{sx:{my:3,width:{xs:"100%",sm:"45%"}},children:(0,j.jsx)("img",{src:"/images/invoice.jpeg",alt:"invoice",style:{width:"100%",height:"auto",border:"1px solid lightblue"}})})]})})]})})}},52432:(e,o,t)=>{t.d(o,{A:()=>R});var a=t(58168),n=t(98587),r=t(9950),l=(t(26429),t(2803)),i=t(5747),s=t(7951),d=t(79859),c=t(82053),u=t(19657),p=t(65471),m=t(44414);const v=(0,p.A)((0,m.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=t(24184);const f=(0,s.Ay)(h.A)((e=>{let{theme:o}=e;return(0,a.A)({display:"flex",marginLeft:"calc(".concat(o.spacing(1)," * 0.5)"),marginRight:"calc(".concat(o.spacing(1)," * 0.5)")},"light"===o.palette.mode?{backgroundColor:o.palette.grey[100],color:o.palette.grey[700]}:{backgroundColor:o.palette.grey[700],color:o.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,a.A)({},"light"===o.palette.mode?{backgroundColor:o.palette.grey[200]}:{backgroundColor:o.palette.grey[600]}),"&:active":(0,a.A)({boxShadow:o.shadows[0]},"light"===o.palette.mode?{backgroundColor:(0,u.tL)(o.palette.grey[200],.12)}:{backgroundColor:(0,u.tL)(o.palette.grey[600],.12)})})})),g=(0,s.Ay)(v)({width:24,height:16});const x=function(e){const o=e;return(0,m.jsx)("li",{children:(0,m.jsx)(f,(0,a.A)({focusRipple:!0},e,{ownerState:o,children:(0,m.jsx)(g,{ownerState:o})}))})};var b=t(37665);function A(e){return(0,b.A)("MuiBreadcrumbs",e)}const y=(0,t(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],w=(0,s.Ay)(c.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,o)=>[{["& .".concat(y.li)]:o.li},o.root]})({}),j=(0,s.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,s.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function _(e,o,t,a){return e.reduce(((n,r,l)=>(l<e.length-1?n=n.concat(r,(0,m.jsx)(S,{"aria-hidden":!0,className:o,ownerState:a,children:t},"separator-".concat(l))):n.push(r),n)),[])}const R=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiBreadcrumbs"}),{children:s,className:c,component:u="nav",expandText:p="Show path",itemsAfterCollapse:v=1,itemsBeforeCollapse:h=1,maxItems:f=8,separator:g="/"}=t,b=(0,n.A)(t,C),[y,S]=r.useState(!1),R=(0,a.A)({},t,{component:u,expanded:y,expandText:p,itemsAfterCollapse:v,itemsBeforeCollapse:h,maxItems:f,separator:g}),k=(e=>{const{classes:o}=e;return(0,i.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},A,o)})(R),I=r.useRef(null),T=r.Children.toArray(s).filter((e=>r.isValidElement(e))).map(((e,o)=>(0,m.jsx)("li",{className:k.li,children:e},"child-".concat(o))));return(0,m.jsx)(w,(0,a.A)({ref:o,component:u,color:"text.secondary",className:(0,l.A)(k.root,c),ownerState:R},b,{children:(0,m.jsx)(j,{className:k.ol,ref:I,ownerState:R,children:_(y||f&&T.length<=f?T:(e=>h+v>=e.length?e:[...e.slice(0,h),(0,m.jsx)(x,{"aria-label":p,onClick:()=>{S(!0);const e=I.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-v,e.length)])(T),k.separator,g,R)})}))}))},45180:(e,o,t)=>{t.d(o,{A:()=>A});var a=t(98587),n=t(58168),r=t(9950),l=t(2803),i=t(5747),s=t(82053),d=t(79859),c=t(7951),u=t(37665);function p(e){return(0,u.A)("MuiCardHeader",e)}const m=(0,t(44245).A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var v=t(44414);const h=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],f=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,o)=>(0,n.A)({["& .".concat(m.title)]:o.title,["& .".concat(m.subheader)]:o.subheader},o.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,o)=>o.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),x=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,o)=>o.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),b=(0,c.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,o)=>o.content})({flex:"1 1 auto"}),A=r.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCardHeader"}),{action:r,avatar:c,className:u,component:m="div",disableTypography:A=!1,subheader:y,subheaderTypographyProps:C,title:w,titleTypographyProps:j}=t,S=(0,a.A)(t,h),_=(0,n.A)({},t,{component:m,disableTypography:A}),R=(e=>{const{classes:o}=e;return(0,i.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},p,o)})(_);let k=w;null==k||k.type===s.A||A||(k=(0,v.jsx)(s.A,(0,n.A)({variant:c?"body2":"h5",className:R.title,component:"span",display:"block"},j,{children:k})));let I=y;return null==I||I.type===s.A||A||(I=(0,v.jsx)(s.A,(0,n.A)({variant:c?"body2":"body1",className:R.subheader,color:"text.secondary",component:"span",display:"block"},C,{children:I}))),(0,v.jsxs)(f,(0,n.A)({className:(0,l.A)(R.root,u),as:m,ref:o,ownerState:_},S,{children:[c&&(0,v.jsx)(g,{className:R.avatar,ownerState:_,children:c}),(0,v.jsxs)(b,{className:R.content,ownerState:_,children:[k,I]}),r&&(0,v.jsx)(x,{className:R.action,ownerState:_,children:r})]}))}))}}]);