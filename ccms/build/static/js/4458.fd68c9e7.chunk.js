"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4458],{63358:(e,a,r)=>{r.d(a,{A:()=>u});var n=r(56801),s=r.n(n),i=r(6368),t=r(82053),o=r(22707),d=r(26689),l=r(52432),m=r(44414);function c(e){let{links:a,activeLast:r=!1,...n}=e;const s=a[a.length-1].name,o=a.map((e=>(0,m.jsx)(p,{link:e},e.name))),d=a.map((e=>(0,m.jsx)("div",{children:e.name!==s?(0,m.jsx)(p,{link:e}):(0,m.jsx)(t.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:s})},e.name)));return(0,m.jsx)(l.A,{separator:(0,m.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...n,children:r?o:d})}function p(e){let{link:a}=e;const{href:r,name:n,icon:s}=a;return(0,m.jsxs)(o.A,{variant:"body2",component:d.N_,to:r||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,m.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),n]},n)}function u(e){let{links:a,action:r,heading:n,moreLink:d=[],sx:l,...p}=e;return(0,m.jsxs)(i.A,{sx:{mb:5,...l},children:[(0,m.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,m.jsx)(t.A,{variant:"h4",gutterBottom:!0,children:n}),(0,m.jsx)(c,{links:a,...p})]}),r&&(0,m.jsx)(i.A,{sx:{flexShrink:0},children:r})]}),(0,m.jsx)(i.A,{sx:{mt:2},children:s()(d)?(0,m.jsx)(o.A,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((e=>(0,m.jsx)(o.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},46765:(e,a,r)=>{r.d(a,{A:()=>s});var n=r(9950);function s(e){const[a,r]=(0,n.useState)(e||"");return{currentTab:a,onChangeTab:(e,a)=>{r(a)},setCurrentTab:r}}},59709:(e,a,r)=>{r.d(a,{P1:()=>b,oD:()=>C,vv:()=>S,Kw:()=>P});var n=r(9950),s=r(66075),i=r(44414);r(63575);var t=r(63477);var o=r(60666),d=r(29031),l=r(68654),m=r(9449),c=r(48089),p=r(12257),u=r(28095),x=r(13564),h=r(32741),j=r(73561),g=r(95074);function b(){const{enqueueSnackbar:e}=(0,d.dh)(),{pathname:a}=(0,x.zy)(),r=a.includes("admin"),n=o.Ik().shape({oldPassword:o.Yj().required("Old Password is required"),newPassword:o.Yj().min(8,"Password must be at least 8 characters").required("New Password is required"),confirm_password:o.Yj().oneOf([o.KR("newPassword"),null],"Passwords must match")}),s=(0,m.mN)({resolver:(0,l.t)(n),defaultValues:{oldPassword:"",newPassword:"",confirm_password:"",loading:!1}}),{reset:t,handleSubmit:b,setValue:f,watch:y,formState:{isSubmitting:_}}=s,v=y();return(0,i.jsxs)(c.A,{sx:{p:3},children:[v.loading&&(0,i.jsx)(g.A,{}),(0,i.jsx)(j.Op,{methods:s,onSubmit:b((async a=>{f("loading",!0);const n=new FormData;n.append("old_password",a.oldPassword),n.append("new_password",a.newPassword),n.append("confirm_password",a.confirm_password);try{const a=await h.A.post("".concat(r?"admin":"user","/changePassword"),n);f("loading",!1);const s=a.data;e(s.message),t()}catch(s){f("loading",!1),console.log("Error during API request:",s),e(null===s||void 0===s?void 0:s.message,{variant:"error"})}})),children:(0,i.jsxs)(p.A,{spacing:3,alignItems:"flex-end",children:[(0,i.jsx)(j.o3,{name:"oldPassword",type:"password",label:"Old Password"}),(0,i.jsx)(j.o3,{name:"newPassword",type:"password",label:"New Password"}),(0,i.jsx)(j.o3,{name:"confirm_password",type:"password",label:"Confirm New Password"}),(0,i.jsx)(u.A,{type:"submit",variant:"contained",loading:_,children:"Save Changes"})]})})]})}var f=r(60899),y=r(82053),_=r(6368),v=r(8145),A=r(63845),w=r(43974),q=r(33507),k=r(24642),N=r(16243);function C(){const{enqueueSnackbar:e}=(0,d.dh)(),{user:a}=(0,q.A)(),r=o.Ik().shape({email:o.Yj().required("Email is required"),dateOfBirth:o.Yj().required("Date Of Birth is required"),phoneNumber:o.Yj().required("Number is required"),address1:o.Yj().required("Adress is required"),country:o.Yj().required("Country is required"),state:o.Yj().required("State is required"),city:o.Yj().required("City is required"),zipCode:o.Yj().required("Zip Code is required"),fax_number:o.Yj().required("Fax Number is required"),work_phone_number:o.Yj().required("Work Phone Number is required"),address2:o.Yj().required("adress2 is required"),country_code:o.Yj().required("Country Code is required"),middle_name:o.Yj().required("Middle Name is required"),first_name:o.Yj().required("First Name is required"),last_name:o.Yj().required("Last Name is required"),company_name:o.Yj().required("Company Name is required")}),s=(0,m.mN)({resolver:(0,l.t)(r),defaultValues:{first_name:"",middle_name:"",last_name:"",email:"",dateOfBirth:null,company_name:"",image:"",fax_number:"",work_phone_number:"",address2:"",country_code:"",phoneNumber:"",country:"",address1:"",state:"",city:"",zipCode:"",isPublic:!1,loading:!1}}),{setValue:x,handleSubmit:b,reset:C,watch:S,formState:{isSubmitting:P}}=s,O=S();(0,n.useEffect)((()=>{x("loading",!0),(0,h.A)("user/profile").then((e=>{x("loading",!1);const{user:a}=e.data,r=e.data.user.user_detail[0],n=N.Y5+a.image,s={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",company_name:(null===a||void 0===a?void 0:a.company_name)||"",middle_name:null===a||void 0===a?void 0:a.middle_name,dateOfBirth:(null===a||void 0===a?void 0:a.birthday)||null,image:n||"",fax_number:(null===r||void 0===r?void 0:r.fax_number)||"",work_phone_number:(null===r||void 0===r?void 0:r.work_phone_number)||"",address2:null===r||void 0===r?void 0:r.address2,country_code:null===r||void 0===r?void 0:r.country_code,phoneNumber:(null===r||void 0===r?void 0:r.phone_number)||"",country:(null===r||void 0===r?void 0:r.country)||"",address1:(null===r||void 0===r?void 0:r.address1)||"",state:(null===r||void 0===r?void 0:r.state)||"",city:(null===r||void 0===r?void 0:r.city)||"",zipCode:(null===r||void 0===r?void 0:r.zipcode)||"",isPublic:(null===a||void 0===a?void 0:a.isPublic)||!1};C(s)})).catch((a=>{x("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((r=>e(a.errors[r][0],{variant:"error"})))}))}),[]);const Y=(0,n.useCallback)((e=>{const a=e[0];a&&x("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[x]);return(0,i.jsxs)(j.Op,{methods:s,onSubmit:b((async r=>{x("loading",!0);const n=new FormData;n.append("fax_number",r.fax_number),n.append("work_phone_number",r.work_phone_number),n.append("address2",r.address2),n.append("address1",r.address1),n.append("_method","PUT"),n.append("country_code",r.country_code),n.append("last_name",r.last_name),n.append("middle_name",r.middle_name),n.append("email",r.email),n.append("phone_number",r.phoneNumber),n.append("first_name",r.first_name),"object"===typeof r.image&&n.append("image",r.image),n.append("country",r.country),n.append("state",r.state),n.append("city",r.city),n.append("company_name",r.company_name),n.append("zipcode",r.zipCode),n.append("birthday",r.dateOfBirth);try{const r=await h.A.post("user/profile/".concat(a.id),n);x("loading",!1);const s=r.data;e(s.message)}catch(s){if(x("loading",!1),console.error("Error during API request:",s),s.errors){Object.keys(s.errors).map((a=>e(s.errors[a][0],{variant:"error"})))}}})),children:[O.loading&&(0,i.jsx)(g.A,{}),(0,i.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,i.jsx)(f.Ay,{item:!0,xs:12,md:4,children:(0,i.jsx)(c.A,{sx:{py:10,px:3,textAlign:"center"},children:(0,i.jsx)(j.BF,{name:"image",accept:"image/*",maxSize:3145728,onDrop:Y,helperText:(0,i.jsxs)(y.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,i.jsx)("br",{})," max size of ",(0,t.tm)(3145728)]})})})}),(0,i.jsx)(f.Ay,{item:!0,xs:12,md:8,children:(0,i.jsxs)(c.A,{sx:{p:3},children:[(0,i.jsxs)(_.A,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,i.jsx)(j.o3,{name:"first_name",label:"First Name"}),(0,i.jsx)(j.o3,{name:"last_name",label:"Last Name"}),(0,i.jsx)(j.o3,{name:"email",label:"Email Address"}),(0,i.jsx)(j.o3,{name:"phoneNumber",label:"Phone Number"}),(0,i.jsx)(j.o3,{name:"address1",label:"Address"}),(0,i.jsx)(A.A,{label:"Date of Birth",name:"dateOfBirth",value:O.dateOfBirth,onChange:e=>{const a=new Date(e);x("dateOfBirth",(0,w.A)(a,"yyyy/MM/dd"))},renderInput:e=>(0,i.jsx)(v.A,{...e,fullWidth:!0})}),(0,i.jsxs)(j.tX,{name:"country",label:"Country",placeholder:"Country",children:[(0,i.jsx)("option",{value:""}),k.Xr.map((e=>(0,i.jsx)("option",{value:e.label,children:e.label},e.code)))]}),(0,i.jsx)(j.o3,{name:"state",label:"State/Region"}),(0,i.jsx)(j.o3,{name:"fax_number",label:"Fax Number"}),(0,i.jsx)(j.o3,{name:"work_phone_number",label:"Work Phone Number"}),(0,i.jsx)(j.o3,{name:"country_code",label:"Country Code"}),(0,i.jsx)(j.o3,{name:"address2",label:"Address2"}),(0,i.jsx)(j.o3,{name:"middle_name",label:"Middle Name"}),(0,i.jsx)(j.o3,{name:"city",label:"City"}),(0,i.jsx)(j.o3,{name:"zipCode",label:"Zip/Code"})]}),(0,i.jsx)(j.o3,{rows:4,sx:{mt:3},name:"company_name",label:"Company Name"}),(0,i.jsx)(p.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,i.jsx)(u.A,{type:"submit",variant:"contained",loading:P,children:"Save Changes"})})]})})]})]})}function S(){const{enqueueSnackbar:e}=(0,d.dh)(),{user:a}=(0,q.A)(),r=o.Ik().shape({first_name:o.Yj().required("First Name is required"),last_name:o.Yj().required("Last Name is required"),email:o.Yj().required("Email is required")}),s=(0,m.mN)({resolver:(0,l.t)(r),defaultValues:{first_name:"",last_name:"",email:"",image:""}}),{setValue:x,handleSubmit:b,reset:v,watch:A,formState:{isSubmitting:w}}=s,k=A();(0,n.useEffect)((()=>{x("loading",!0),(0,h.A)("admin/profile").then((e=>{x("loading",!1);const{admin:a}=e.data,r=N.Y5+a.image,n={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",image:r||""};v(n)})).catch((a=>{x("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((r=>e(a.errors[r][0],{variant:"error"})))}))}),[]);const C=(0,n.useCallback)((e=>{const a=e[0];a&&x("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[x]);return(0,i.jsxs)(j.Op,{methods:s,onSubmit:b((async r=>{x("loading",!0);const n=new FormData;"object"===typeof r.image&&n.append("image",r.image),n.append("first_name",r.first_name),n.append("last_name",r.last_name),n.append("email",r.email),n.append("_method","PUT");try{const r=await h.A.post("admin/profile/".concat(a.id),n);x("loading",!1);const s=r.data;e(s.message)}catch(s){if(x("loading",!1),console.error("Error during API request:",s),s.errors){Object.keys(s.errors).map((a=>e(s.errors[a][0],{variant:"error"})))}}})),children:[k.loading&&(0,i.jsx)(g.A,{}),(0,i.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,i.jsx)(f.Ay,{item:!0,xs:12,md:4,children:(0,i.jsx)(c.A,{sx:{py:10,px:3,textAlign:"center"},children:(0,i.jsx)(j.BF,{name:"image",accept:"image/*",maxSize:3145728,onDrop:C,helperText:(0,i.jsxs)(y.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,i.jsx)("br",{})," max size of ",(0,t.tm)(3145728)]})})})}),(0,i.jsx)(f.Ay,{item:!0,xs:12,md:8,children:(0,i.jsxs)(c.A,{sx:{p:3},children:[(0,i.jsxs)(_.A,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,i.jsx)(j.o3,{name:"first_name",label:"First Name"}),(0,i.jsx)(j.o3,{name:"last_name",label:"Last Name"}),(0,i.jsx)(j.o3,{name:"email",label:"Email Address"})]}),(0,i.jsx)(p.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,i.jsx)(u.A,{type:"submit",variant:"contained",loading:w,children:"Save Changes"})})]})})]})]})}function P(){const{enqueueSnackbar:e}=(0,d.dh)(),{user:a}=(0,q.A)(),r=o.Ik().shape({first_name:o.Yj().required("First Name is required"),last_name:o.Yj().required("Last Name is required"),email:o.Yj().required("Email is required")}),s=(0,m.mN)({resolver:(0,l.t)(r),defaultValues:{first_name:"",last_name:"",email:"",image:""}}),{setValue:x,handleSubmit:b,reset:v,watch:A,formState:{isSubmitting:w}}=s,k=A();(0,n.useEffect)((()=>{x("loading",!0),(0,h.A)("employee/profile").then((e=>{x("loading",!1);const{employee:a}=e.data,r=N.Y5+a.image,n={first_name:(null===a||void 0===a?void 0:a.first_name)||"",last_name:(null===a||void 0===a?void 0:a.last_name)||"",email:(null===a||void 0===a?void 0:a.email)||"",image:r||""};v(n)})).catch((a=>{x("loading",!1),console.log(a),a.errors&&Object.keys(a.errors).map((r=>e(a.errors[r][0],{variant:"error"})))}))}),[]);const C=(0,n.useCallback)((e=>{const a=e[0];a&&x("image",Object.assign(a,{preview:URL.createObjectURL(a)}))}),[x]);return(0,i.jsxs)(j.Op,{methods:s,onSubmit:b((async r=>{x("loading",!0);const n=new FormData;"object"===typeof r.image&&n.append("image",r.image),n.append("first_name",r.first_name),n.append("last_name",r.last_name),n.append("email",r.email),n.append("_method","PUT");try{const r=await h.A.post("employee/profile/".concat(a.id),n);x("loading",!1);const s=r.data;e(s.message)}catch(s){if(x("loading",!1),console.error("Error during API request:",s),s.errors){Object.keys(s.errors).map((a=>e(s.errors[a][0],{variant:"error"})))}}})),children:[k.loading&&(0,i.jsx)(g.A,{}),(0,i.jsxs)(f.Ay,{container:!0,spacing:3,children:[(0,i.jsx)(f.Ay,{item:!0,xs:12,md:4,children:(0,i.jsx)(c.A,{sx:{py:10,px:3,textAlign:"center"},children:(0,i.jsx)(j.BF,{name:"image",accept:"image/*",maxSize:3145728,onDrop:C,helperText:(0,i.jsxs)(y.A,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,i.jsx)("br",{})," max size of ",(0,t.tm)(3145728)]})})})}),(0,i.jsx)(f.Ay,{item:!0,xs:12,md:8,children:(0,i.jsxs)(c.A,{sx:{p:3},children:[(0,i.jsxs)(_.A,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,i.jsx)(j.o3,{name:"first_name",label:"First Name"}),(0,i.jsx)(j.o3,{name:"last_name",label:"Last Name"}),(0,i.jsx)(j.o3,{name:"email",label:"Email Address"})]}),(0,i.jsx)(p.A,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:(0,i.jsx)(u.A,{type:"submit",variant:"contained",loading:w,children:"Save Changes"})})]})})]})]})}s.A,s.A,s.A,s.A}}]);