"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[2518],{19374:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(7951),o=n(6368),i=n(82053),l=n(63575),a=n(10463),s=n(44414);const c=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{height:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(8,2)}}));function d(e){let{title:t,description:n,img:r,...d}=e;return(0,s.jsxs)(c,{...d,children:[r?(0,s.jsx)(l.A,{disabledEffect:!0,visibleByDefault:!0,alt:"empty content",src:r,sx:{height:240,mb:3}}):(0,s.jsx)(o.A,{sx:{height:150},children:(0,s.jsx)(a.Ft,{})}),(0,s.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,s.jsx)(i.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]})}},63358:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(56801),o=n.n(r),i=n(6368),l=n(82053),a=n(22707),s=n(26689),c=n(52432),d=n(44414);function h(e){let{links:t,activeLast:n=!1,...r}=e;const o=t[t.length-1].name,a=t.map((e=>(0,d.jsx)(u,{link:e},e.name))),s=t.map((e=>(0,d.jsx)("div",{children:e.name!==o?(0,d.jsx)(u,{link:e}):(0,d.jsx)(l.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:o})},e.name)));return(0,d.jsx)(c.A,{separator:(0,d.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...r,children:n?a:s})}function u(e){let{link:t}=e;const{href:n,name:r,icon:o}=t;return(0,d.jsxs)(a.A,{variant:"body2",component:s.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[o&&(0,d.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:o}),r]},r)}function x(e){let{links:t,action:n,heading:r,moreLink:s=[],sx:c,...u}=e;return(0,d.jsxs)(i.A,{sx:{mb:5,...c},children:[(0,d.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,d.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:r}),(0,d.jsx)(h,{links:t,...u})]}),n&&(0,d.jsx)(i.A,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(i.A,{sx:{mt:2},children:o()(s)?(0,d.jsx)(a.A,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):null===s||void 0===s?void 0:s.map((e=>(0,d.jsx)(a.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},22704:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(7951),o=n(19657),i=n(44414);const l=(0,r.Ay)("span")((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,{color:i,variant:l}=n;return{height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold,..."default"!==i?{..."filled"===l&&{...(e=>({color:t.palette[e].contrastText,backgroundColor:t.palette[e].main}))(i)},..."outlined"===l&&{...(e=>({color:t.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(t.palette[e].main)}))(i)},..."ghost"===l&&{...(e=>({color:t.palette[e][r?"dark":"light"],backgroundColor:(0,o.X4)(t.palette[e].main,.16)}))(i)}}:{..."outlined"===l&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat(t.palette.grey[50032])},..."ghost"===l&&{color:r?t.palette.text.secondary:t.palette.common.white,backgroundColor:t.palette.grey[50016]}}}}));function a(e){let{color:t="default",variant:n="ghost",children:r,...o}=e;return(0,i.jsx)(l,{ownerState:{color:t,variant:n},...o,children:r})}},72870:(e,t,n)=>{n.d(t,{dO:()=>g,er:()=>w,ZE:()=>h,Sm:()=>a,r1:()=>b,Qv:()=>p});var r=n(9213),o=n(21671),i=n(19374),l=n(44414);function a(e){let{isNotFound:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)(r.A,{children:(0,l.jsx)(o.A,{colSpan:9,children:(0,l.jsx)(i.A,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})})}):(0,l.jsx)(r.A,{children:(0,l.jsx)(o.A,{colSpan:9,sx:{p:0}})})})}var s=n(25333),c=n(66075),d=n(70458);function h(e){let{actions:t,open:n,onClose:r,onOpen:o}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{onClick:o,children:(0,l.jsx)(c.A,{icon:"eva:more-vertical-fill",width:20,height:20})}),(0,l.jsx)(d.A,{open:Boolean(n),anchorEl:n,onClose:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:160,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75,"& svg":{mr:2,width:20,height:20}}},children:t})]})}var u=n(12257),x=n(82917);function p(e){let{...t}=e;return(0,l.jsx)(r.A,{...t,children:(0,l.jsx)(o.A,{colSpan:9,children:(0,l.jsxs)(u.A,{spacing:3,direction:"row",alignItems:"center",children:[(0,l.jsx)(x.A,{variant:"rectangular",width:40,height:40,sx:{borderRadius:1}}),(0,l.jsx)(x.A,{variant:"text",width:240,height:20}),(0,l.jsx)(x.A,{variant:"text",width:160,height:20}),(0,l.jsx)(x.A,{variant:"text",width:160,height:20}),(0,l.jsx)(x.A,{variant:"text",width:160,height:20}),(0,l.jsx)(x.A,{variant:"text",width:160,height:20})]})})})}function g(e){let{emptyRows:t,height:n}=e;return t?(0,l.jsx)(r.A,{sx:{...n&&{height:n*t}},children:(0,l.jsx)(o.A,{colSpan:9})}):null}var m=n(69780),f=n(93038),j=n(7251),A=n(6368);const v={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function w(e){let{order:t,orderBy:n,rowCount:i=0,headLabel:a,numSelected:s=0,onSort:c,onSelectAllRows:d,sx:h}=e;return(0,l.jsx)(m.A,{sx:h,children:(0,l.jsxs)(r.A,{children:[d&&(0,l.jsx)(o.A,{padding:"checkbox",sx:{backgroundColor:"white",border:"1px solid #e9eff4",fontSize:"14px",fontWeight:"400"},children:(0,l.jsx)(f.A,{indeterminate:s>0&&s<i,checked:i>0&&s===i,onChange:e=>d(e.target.checked)})}),a.map((e=>(0,l.jsx)(o.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth,color:"#878790",fontSize:"14px",fontWeight:"400",backgroundColor:"white",border:"1px solid #e9eff4"},children:c?(0,l.jsxs)(j.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>c(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,l.jsx)(A.A,{sx:{...v},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))]})})}var y=n(82053);function b(e){let{dense:t,actions:n,rowCount:r,numSelected:o,onSelectAllRows:i}=e;return(0,l.jsxs)(u.A,{direction:"row",alignItems:"center",sx:{px:2,top:0,right:8,zIndex:9,height:58,borderRadius:1,position:"absolute",width:"calc(100% - 16px)",bgcolor:"primary.lighter",...t&&{pl:1,height:38}},children:[(0,l.jsx)(f.A,{indeterminate:o>0&&o<r,checked:r>0&&o===r,onChange:e=>i(e.target.checked)}),(0,l.jsxs)(y.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[o," selected"]}),n&&n]})}},38861:(e,t,n)=>{n.d(t,{Ay:()=>o,hz:()=>l,xl:()=>a});var r=n(9950);function o(e){const[t,n]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),[o,i]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[l,a]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[s,c]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[d,h]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[u,x]=(0,r.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]);return{dense:t,order:l,page:s,setPage:c,orderBy:o,rowsPerPage:d,setRowsPerPage:h,selected:u,setSelected:x,onSelectRow:e=>{const t=u.indexOf(e);let n=[];-1===t?n=n.concat(u,e):0===t?n=n.concat(u.slice(1)):t===u.length-1?n=n.concat(u.slice(0,-1)):t>0&&(n=n.concat(u.slice(0,t),u.slice(t+1))),x(n)},onSelectAllRows:(e,t)=>{x(e?t:[])},onSort:e=>{if(console.log("Sorting Clicked for:",e,"Current Order:",l),o===e&&"desc"===l)return console.log("Resetting Sorting to Default"),i("default"),void a("asc");a(o===e&&"asc"===l?"desc":"asc"),i(e)},onChangePage:(e,t)=>{c(t)},onChangeDense:e=>{n(e.target.checked)},onChangeRowsPerPage:e=>{h(parseInt(e.target.value,10)),c(0)}}}function i(e,t,n,r){var o,i,l,a,s,c,d,h;let u,x;switch(n){case"status":case"updated_at":case"order_no":default:u=e[n]||"",x=t[n]||"";break;case"requests":const p=e.requests&&"object"===typeof e.requests?e.requests:{},g=t.requests&&"object"===typeof t.requests?t.requests:{},m=Object.entries(p).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),f=Object.entries(g).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),j=m.reduce(((e,t)=>e+t),0),A=f.reduce(((e,t)=>e+t),0);return"asc"===r?j-A:A-j;case"property_type":u=(null===(o=e.order_title)||void 0===o?void 0:o.property_type)||"",x=(null===(i=t.order_title)||void 0===i?void 0:i.property_type)||"";break;case"purchase_type":u=(null===(l=e.order_title)||void 0===l?void 0:l.transaction_type)||"",x=(null===(a=t.order_title)||void 0===a?void 0:a.transaction_type)||"";break;case"user":u=(null===(s=e.user)||void 0===s?void 0:s.first_name)+" "+((null===(c=e.user)||void 0===c?void 0:c.last_name)||""),x=(null===(d=t.user)||void 0===d?void 0:d.first_name)+" "+((null===(h=t.user)||void 0===h?void 0:h.last_name)||"")}return"asc"===r?u.localeCompare?u.localeCompare(x):u-x:x.localeCompare?x.localeCompare(u):x-u}function l(e,t){return"default"===t?()=>0:"desc"===e?(n,r)=>i(n,r,t,e):(n,r)=>-i(n,r,t,e)}function a(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}},82518:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(99589),o=n(9950),i=n(13564),l=n(26689),a=n(79537),s=n(75165),c=n(48089),d=n(1320),h=n(53065),u=n(25333),x=n(15769),p=n(34075),g=n(6368),m=n(91434),f=n(16497),j=n(37324),A=n(30744),v=n(32801),w=n(90260),y=n(86608),b=n(38861),C=n(8279),S=n(66075),k=n(44185),P=n(63358),R=n(72870),_=n(81012),D=n(14857),B=n(9213),O=n(21671),I=n(93038),M=n(82053),E=n(23266),N=n(34437),W=n(63477),z=n(22704),F=n(63575),L=n(44414);function q(e){let{row:t,selected:n,onEditRow:r,onSelectRow:i,onDeleteRow:l}=e;const a=(0,D.A)(),{name:s,cover:c,createdAt:d,inventoryType:h,price:u}=t,[x,p]=(0,o.useState)(null),g=()=>{p(null)};return(0,L.jsxs)(B.A,{hover:!0,selected:n,children:[(0,L.jsx)(O.A,{padding:"checkbox",children:(0,L.jsx)(I.A,{checked:n,onClick:i})}),(0,L.jsxs)(O.A,{sx:{display:"flex",alignItems:"center"},children:[(0,L.jsx)(F.A,{disabledEffect:!0,alt:s,src:c,sx:{borderRadius:1.5,width:48,height:48,mr:2}}),(0,L.jsx)(M.A,{variant:"subtitle2",noWrap:!0,children:s})]}),(0,L.jsx)(O.A,{children:(0,N.ts)(d)}),(0,L.jsx)(O.A,{align:"center",children:(0,L.jsx)(z.A,{variant:"light"===a.palette.mode?"ghost":"filled",color:("out_of_stock"===h?"error":"low_stock"===h&&"warning")||"success",sx:{textTransform:"capitalize"},children:h?(0,_.o)(h):""})}),(0,L.jsx)(O.A,{align:"right",children:(0,W.KZ)(u)}),(0,L.jsx)(O.A,{align:"right",children:(0,L.jsx)(R.ZE,{open:x,onOpen:e=>{p(e.currentTarget)},onClose:g,actions:(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(E.A,{onClick:()=>{l(),g()},sx:{color:"error.main"},children:[(0,L.jsx)(S.A,{icon:"eva:trash-2-outline"}),"Delete"]}),(0,L.jsxs)(E.A,{onClick:()=>{r(),g()},children:[(0,L.jsx)(S.A,{icon:"eva:edit-fill"}),"Edit"]})]})})})]})}var T=n(12257),H=n(8145),Z=n(2046);function G(e){let{filterName:t,onFilterName:n}=e;return(0,L.jsxs)(T.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2.5,px:3},children:[(0,L.jsx)(H.A,{value:t,onChange:e=>n(e.target.value),placeholder:"Search product...",InputProps:{startAdornment:(0,L.jsx)(Z.A,{position:"start",children:(0,L.jsx)(S.A,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})}}),(0,L.jsx)(h.A,{title:"Filter list",children:(0,L.jsx)(u.A,{children:(0,L.jsx)(S.A,{icon:"ic:round-filter-list"})})})]})}const K=[{id:"name",label:"Product",align:"left"},{id:"createdAt",label:"Create at",align:"left"},{id:"inventoryType",label:"Status",align:"center",width:180},{id:"price",label:"Price",align:"right"},{id:""}];function Q(){const{dense:e,page:t,order:n,orderBy:_,rowsPerPage:D,setPage:B,selected:O,setSelected:I,onSelectRow:M,onSelectAllRows:E,onSort:N,onChangeDense:W,onChangePage:z,onChangeRowsPerPage:F}=(0,b.Ay)({defaultOrderBy:"createdAt"}),{themeStretch:T}=(0,y.A)(),H=(0,i.Zp)(),Z=(0,A.wA)(),{products:Q,isLoading:X}=(0,A.d4)((e=>e.product)),[$,J]=(0,o.useState)([]),[U,V]=(0,o.useState)("");(0,o.useEffect)((()=>{Z((0,v.d$)())}),[Z]),(0,o.useEffect)((()=>{Q.length&&J(Q)}),[Q]);const Y=function(e){let{tableData:t,comparator:n,filterName:r}=e;const o=t.map(((e,t)=>[e,t]));o.sort(((e,t)=>{const r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t=o.map((e=>e[0])),r&&(t=t.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))));return t}({tableData:$,comparator:(0,b.hz)(n,_),filterName:U}),ee=e?60:80,te=!Y.length&&!!U||!X&&!Y.length;return(0,L.jsx)(C.A,{title:"Ecommerce: Product List",children:(0,L.jsxs)(a.A,{maxWidth:!T&&"lg",children:[(0,L.jsx)(P.A,{heading:"Product List",links:[{name:"Dashboard",href:w.nB.root},{name:"E-Commerce",href:w.nB.eCommerce.root},{name:"Product List"}],action:(0,L.jsx)(s.A,{variant:"contained",startIcon:(0,L.jsx)(S.A,{icon:"eva:plus-fill"}),component:l.N_,to:w.nB.eCommerce.new,children:"New Product"})}),(0,L.jsxs)(c.A,{children:[(0,L.jsx)(G,{filterName:U,onFilterName:e=>{V(e),B(0)}}),(0,L.jsx)(k.A,{children:(0,L.jsxs)(d.A,{sx:{minWidth:800},children:[O.length>0&&(0,L.jsx)(R.r1,{dense:e,numSelected:O.length,rowCount:$.length,onSelectAllRows:e=>E(e,$.map((e=>e.id))),actions:(0,L.jsx)(h.A,{title:"Delete",children:(0,L.jsx)(u.A,{color:"primary",onClick:()=>(e=>{const t=$.filter((t=>!e.includes(t.id)));I([]),J(t)})(O),children:(0,L.jsx)(S.A,{icon:"eva:trash-2-outline"})})})}),(0,L.jsxs)(x.A,{size:e?"small":"medium",children:[(0,L.jsx)(R.er,{order:n,orderBy:_,headLabel:K,rowCount:$.length,numSelected:O.length,onSort:N,onSelectAllRows:e=>E(e,$.map((e=>e.id)))}),(0,L.jsxs)(p.A,{children:[(X?[...Array(D)]:Y).slice(t*D,t*D+D).map(((e,t)=>e?(0,L.jsx)(q,{row:e,selected:O.includes(e.id),onSelectRow:()=>M(e.id),onDeleteRow:()=>(e=>{const t=$.filter((t=>t.id!==e));I([]),J(t)})(e.id),onEditRow:()=>{return t=e.name,void H(w.nB.eCommerce.edit((0,r.c)(t)));var t}},e.id):!te&&(0,L.jsx)(R.Qv,{sx:{height:ee}},t))),(0,L.jsx)(R.dO,{height:ee,emptyRows:(0,b.xl)(t,D,$.length)}),(0,L.jsx)(R.Sm,{isNotFound:te})]})]})]})}),(0,L.jsxs)(g.A,{sx:{position:"relative"},children:[(0,L.jsx)(m.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Y.length,rowsPerPage:D,page:t,onPageChange:z,onRowsPerPageChange:F}),(0,L.jsx)(f.A,{control:(0,L.jsx)(j.A,{checked:e,onChange:W}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},34437:(e,t,n)=>{n.d(t,{j5:()=>a,kH:()=>s,ts:()=>i,uK:()=>l});var r=n(43974),o=n(1369);function i(e){return(0,r.A)(new Date(e),"dd MMMM yyyy")}function l(e){return(0,r.A)(new Date(e),"dd MMM yyyy HH:mm")}function a(e){return(0,r.A)(new Date(e),"dd/MM/yyyy hh:mm p")}function s(e){return(0,o.A)(new Date(e),{addSuffix:!0})}}}]);