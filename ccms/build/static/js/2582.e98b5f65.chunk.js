"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[2582],{6768:(e,l,n)=>{n.d(l,{A:()=>f});var t=n(9950),o=n(13564),i=n(26689),a=n(14857),r=n(9213),s=n(21671),d=n(93038),c=n(23266),u=n(75165),h=n(97591),p=n(90260),x=(n(22704),n(33949),n(66075)),g=n(72870),v=n(44414);function f(e){var l,n,f,m,A,j;let{row:w,selected:b,onSelectRow:C,onAssign:_,onViewRow:S,onDocumentUpload:y,onDownloadDocument:D,onDeleteRow:k,onShareRow:P,onEditRow:R,onOrderContin:B,onStatusChange:N}=e;(0,a.A)();const{pathname:T}=(0,o.zy)(),F=(T.includes("admin"),(0,o.Zp)());console.log(w,"row");const{updated_at:E,DummyData:O,transaction_type:I,purchase_price:U,file_no:L,file_name:W,id:M,_count:z,user:Z}=w,[V,q]=(0,t.useState)(null),J=Boolean(V),[G,H]=(0,t.useState)(null),K=()=>{H(null)},Q=()=>{F("/dashboard/filepreview/".concat(null===w||void 0===w?void 0:w.id),{state:{row:w}})};return(0,v.jsxs)(r.A,{selected:b,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(C||b)&&(0,v.jsx)(s.A,{padding:"checkbox",children:(0,v.jsx)(d.A,{checked:b,onClick:C})}),(0,v.jsx)(s.A,{sx:{color:"#DD9A19",textWrap:"nowrap",padding:"14px 2px"},align:"left",onClick:Q,children:L}),(0,v.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:W}),(0,v.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:null===O||void 0===O||null===(l=O.subject_premise)||void 0===l||null===(n=l.property_location)||void 0===n?void 0:n.slice(0,13)}),(0,v.jsx)(s.A,{align:"left",onClick:Q,sx:{textWrap:"nowrap",padding:"14px 2px"},children:(null===O||void 0===O||null===(f=O.buyers)||void 0===f?void 0:f.length)>0&&(null===O||void 0===O||null===(m=O.buyers[0])||void 0===m?void 0:m.first_name)}),(0,v.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},onClick:Q,children:(null===O||void 0===O||null===(A=O.sellers)||void 0===A?void 0:A.length)>0&&(null===O||void 0===O||null===(j=O.sellers[0])||void 0===j?void 0:j.first_name)}),(0,v.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},onClick:Q,children:I}),(0,v.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:(0,v.jsx)(c.A,{onClick:()=>{k(),K()},sx:{color:"error.main"},children:(0,v.jsx)(x.A,{icon:"eva:trash-2-outline"})})}),(0,v.jsx)(s.A,{align:"left",sx:{padding:"14px 2px"},children:B&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.A,{variant:"contained","aria-controls":J?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":J?"true":void 0,onClick:e=>{q(e.currentTarget)},sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===z||void 0===z?void 0:z.orders)>0?"Ordered":"Order"}),(0,v.jsxs)(h.A,{id:"basic-menu",anchorEl:V,open:J,onClose:()=>{q(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.titleInsurance,"/").concat(M),children:"Title Insurance"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.coopLienSearch,"/").concat(M),children:"Coop Lien Search"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.eagle9Policy,"/").concat(M),children:"Eagle 9 Policy"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.coopCondoOfferinPlans,"/").concat(M),children:"Coop/Condo Offering Plans"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.uccCreateFile,"/").concat(M),children:"UCC - Create/File"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.exchange1031,"/").concat(M),children:"1031 Exchange"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.acrisETax,"/").concat(M),children:"Acris E-Tax Forms"}),(0,v.jsx)(c.A,{component:i.N_,to:"".concat(p.nB.orders.otherSearches,"/").concat(M),children:"Other Searches"})]})]})}),(0,v.jsx)(s.A,{align:"right",sx:{padding:"14px 2px"},children:(0,v.jsx)(g.ZE,{open:G,onOpen:e=>{H(e.currentTarget)},onClose:K,actions:(0,v.jsxs)(v.Fragment,{children:[S&&(0,v.jsxs)(c.A,{onClick:()=>{S(),K()},children:[(0,v.jsx)(x.A,{icon:"tabler:eye-filled"}),"View"]}),P&&(0,v.jsxs)(c.A,{onClick:()=>{P(),K()},children:[(0,v.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}},12582:(e,l,n)=>{n.r(l),n.d(l,{default:()=>O});var t=n(9950),o=n(79537),i=n(75165),a=n(6368),r=n(82053),s=n(48089),d=n(74745),c=n(1320),u=n(15769),h=n(34075),p=n(91434),x=n(29031),g=n(13564),v=n(90260),f=n(46765),m=n(86608),A=n(38861),j=n(30744),w=(n(66075),n(44185)),b=n(63358),C=n(72870),_=n(12480),S=(n(6768),n(32741)),y=n(95074),D=n(30818),k=n(14857),P=n(9213),R=n(21671),B=n(93038),N=n(34437),T=(n(22704),n(33949),n(44414));function F(e){var l,n,o,i;let{row:a,selected:r,onSelectRow:s,onAssign:d,onViewRow:c,onDocumentUpload:u,onDownloadDocument:h,onDeleteRow:p,onEditRow:x,onOrderContin:v,onStatusChange:f,isSelected:m,index:A,state:j}=e;console.log(j,"row");(0,k.A)();const{pathname:w}=(0,g.zy)(),{bankruptcyChapter:b,caseId:C,caseNumber:_,caseTitle:S,dateFiled:y,dateDismissed:D,UID:F,partyRole:E}=(w.includes("admin"),(0,g.Zp)(),a),[O,I]=(0,t.useState)(null),[U,L]=(Boolean(O),(0,t.useState)(null));return(0,T.jsxs)(P.A,{hover:!0,selected:r,children:[(0,T.jsx)(R.A,{align:"left",children:A+1}),(0,T.jsx)(R.A,{padding:"checkbox",children:(0,T.jsx)(B.A,{checked:m,onChange:()=>s(F),disabled:null!==j&&void 0!==j&&j.buyer?null===j||void 0===j||null===(l=j.buyer)||void 0===l||null===(n=l.case_details)||void 0===n?void 0:n.ssn_no:null===j||void 0===j||null===(o=j.seller)||void 0===o||null===(i=o.case_details)||void 0===i?void 0:i.ssn_no})}),(0,T.jsx)(R.A,{align:"left",children:_}),(0,T.jsx)(R.A,{align:"left",children:S}),(0,T.jsx)(R.A,{align:"left",children:b}),(0,T.jsx)(R.A,{align:"left",children:y&&(0,N.ts)(y)}),(0,T.jsx)(R.A,{align:"left",children:E}),(0,T.jsx)(R.A,{align:"left",children:D&&(0,N.ts)(D)})]})}const E=[{id:"id",label:"S.No",align:"left",width:800},{id:"",label:"",align:"left",width:800},{id:"caseNumber",label:"Case No",align:"left",width:800},{id:"caseTitle",label:"Case Title",align:"left",width:800},{id:"bankruptcyChapter",label:"Chapter",align:"left",width:800},{id:"dateFiled",label:"Date Filed",align:"left",width:600},{id:"partyRole",label:"Party Role",align:"left",width:500},{id:"dateDismissed",label:"Date Closed",align:"left",width:800}],O=e=>{var l,n,k,P,R,B;let{state:N,getOrder:O}=e;const{themeStretch:I}=(0,m.A)(),{id:U}=(0,g.g)();(0,g.Zp)();console.log(N,"state");const{enqueueSnackbar:L}=(0,x.dh)(),{dense:W,page:M,order:z,orderBy:Z,rowsPerPage:V,setPage:q,selected:J,setSelected:G,onSelectAllRows:H,onSort:K,onChangeDense:Q,onChangePage:X,onChangeRowsPerPage:Y}=(0,A.Ay)({defaultOrderBy:"createDate"}),[$,ee]=(0,t.useState)([]),[le,ne]=(0,t.useState)(""),[te,oe]=(0,t.useState)("new"),[ie,ae]=(0,t.useState)(null),[re,se]=(0,t.useState)(null),{currentTab:de,onChangeTab:ce}=(0,f.A)("all"),[ue,he]=(0,t.useState)("Title Insurance"),[pe,xe]=(0,t.useState)(!1),[ge,ve]=(0,t.useState)(""),[fe,me]=(0,t.useState)(null);Boolean(fe);(0,t.useEffect)((()=>{(0,j.JD)((0,D.oc)())}),[]),(0,t.useEffect)((()=>{if(null!==N&&void 0!==N&&N.seller){var e,l,n,t;ee(null===N||void 0===N||null===(e=N.seller)||void 0===e||null===(l=e.case_details)||void 0===l?void 0:l.cpl_content);const o=null===N||void 0===N||null===(n=N.seller)||void 0===n||null===(t=n.case_details)||void 0===t?void 0:t.cpl_content.filter((e=>!0===e.uid_is_marked)).map((e=>e.UID));je(o)}else{var o,i,a,r;ee(null===N||void 0===N||null===(o=N.buyer)||void 0===o||null===(i=o.case_details)||void 0===i?void 0:i.cpl_content);const e=null===N||void 0===N||null===(a=N.buyer)||void 0===a||null===(r=a.case_details)||void 0===r?void 0:r.cpl_content.filter((e=>!0===e.uid_is_marked)).map((e=>e.UID));je(e)}}),[N]);const[Ae,je]=(0,t.useState)([]),[we,be]=(0,t.useState)([]),[Ce,_e]=(0,t.useState)(!1),Se=e=>Ae.includes(e);console.log(we,"selectedRows");const ye=function(e){var l;let{tableData:n,comparator:t,filterName:o,filterStatus:i,filterService:a,filterStartDate:r,filterEndDate:s}=e;const d=null===(l=n)||void 0===l?void 0:l.map(((e,l)=>[e,l]));null===d||void 0===d||d.sort(((e,l)=>{const n=t(e[0],l[0]);return 0!==n?n:e[1]-l[1]})),n=d.map((e=>e[0])),o&&(n=n.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(o.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(o.toLowerCase()))));"all"!==i&&(n=n.filter((e=>e.status===i)));"new"!==a&&(n=n.filter((e=>e.status===a)));r&&s&&(n=n.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:$,comparator:(0,A.hz)(z,Z),filterName:le,filterService:te,filterStatus:de,filterStartDate:ie,filterEndDate:re}),De=W?56:76,ke=!ye.length&&!!le||!ye.length&&!!de||!ye.length&&!!te||!ye.length&&!!re||!ye.length&&!!ie;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(o.A,{maxWidth:!I&&"lg",children:[pe&&(0,T.jsx)(y.A,{}),(0,T.jsx)(b.A,{heading:"Total Cases ".concat(null!==N&&void 0!==N&&N.buyer?null===N||void 0===N||null===(l=N.buyer)||void 0===l||null===(n=l.case_details)||void 0===n||null===(k=n.cpl_content)||void 0===k?void 0:k.length:null===N||void 0===N||null===(P=N.seller)||void 0===P||null===(R=P.case_details)||void 0===R||null===(B=R.cpl_content)||void 0===B?void 0:B.length),links:[{name:"Dashboard",href:v.nB.root},{name:"Cases"}],action:(null===$||void 0===$?void 0:$.length)>0&&(0,T.jsx)(i.A,{variant:"contained",onClick:async()=>{try{const e={updates:we};_e(!0),await S.A.post("update_case/".concat(null!==N&&void 0!==N&&N.buyer?"buyer_info/cpl_content/".concat(N.buyer.id):"seller_info/cpl_content/".concat(N.seller.id)),e),O(),_e(!1)}catch(e){_e(!1)}},children:Ce?"loading....":"Save"})}),(0,T.jsx)(a.A,{sx:{p:2},children:(0,T.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:ue.label})}),(0,T.jsxs)(s.A,{children:[(0,T.jsx)(d.A,{}),(0,T.jsx)(_.F5,{filterName:le,filterService:te,filterStartDate:ie,filterEndDate:re,onFilterName:e=>{ne(e),q(0)},onFilterService:e=>{oe(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{se(e)}}),(0,T.jsx)(w.A,{children:(0,T.jsx)(c.A,{sx:{minWidth:800,position:"relative"},children:(0,T.jsxs)(u.A,{size:W?"small":"medium",children:[(0,T.jsx)(C.er,{order:z,orderBy:Z,headLabel:E,rowCount:$.length,numSelected:J.length,onSort:K}),(0,T.jsxs)(h.A,{children:[ye.slice(M*V,M*V+V).map(((e,l)=>(0,T.jsx)(F,{row:e,isSelected:Se(e.UID),onSelectRow:()=>(e=>{console.log(e,"id"),je((l=>{const n=l.includes(e)?l.filter((l=>l!==e)):[...l,e],t=n.map((e=>({UID:e,uid_is_marked:!0})));return be(t),console.log("Formatted selected rows:",t),n}))})(e.UID),index:l,state:N},e.id))),(0,T.jsx)(C.dO,{height:De,emptyRows:(0,A.xl)(M,V,$.length)}),(0,T.jsx)(C.Sm,{isNotFound:ke})]})]})})}),(0,T.jsx)(a.A,{sx:{position:"relative"},children:(0,T.jsx)(p.A,{rowsPerPageOptions:[10,50,100,150,200,{value:-1,label:"All"}],component:"div",count:ye.length,rowsPerPage:V,page:M,onPageChange:X,onRowsPerPageChange:Y})})]})]})})}}}]);