"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[9053],{63358:(e,o,t)=>{t.d(o,{A:()=>x});var n=t(56801),l=t.n(n),i=t(6368),a=t(82053),r=t(22707),s=t(26689),d=t(52432),c=t(44414);function u(e){let{links:o,activeLast:t=!1,...n}=e;const l=o[o.length-1].name,r=o.map((e=>(0,c.jsx)(p,{link:e},e.name))),s=o.map((e=>(0,c.jsx)("div",{children:e.name!==l?(0,c.jsx)(p,{link:e}):(0,c.jsx)(a.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)));return(0,c.jsx)(d.A,{separator:(0,c.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...n,children:t?r:s})}function p(e){let{link:o}=e;const{href:t,name:n,icon:l}=o;return(0,c.jsxs)(r.A,{variant:"body2",component:s.N_,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[l&&(0,c.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:l}),n]},n)}function x(e){let{links:o,action:t,heading:n,moreLink:s=[],sx:d,...p}=e;return(0,c.jsxs)(i.A,{sx:{mb:5,...d},children:[(0,c.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,c.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:n}),(0,c.jsx)(u,{links:o,...p})]}),t&&(0,c.jsx)(i.A,{sx:{flexShrink:0},children:t})]}),(0,c.jsx)(i.A,{sx:{mt:2},children:l()(s)?(0,c.jsx)(r.A,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):null===s||void 0===s?void 0:s.map((e=>(0,c.jsx)(r.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},29053:(e,o,t)=>{t.r(o),t.d(o,{default:()=>P});var n=t(9950),l=t(25277),i=t(79537),a=t(6368),r=t(12257),s=t(75165),d=t(60899),c=t(82053),u=t(48089),p=t(50704),x=t(53984),h=t(73447),m=t(57191),v=t(48711),f=t(7951),g=t(19657),b=t(28095),A=t(9449),j=t(29031),y=t(66677),w=t(41397),C=t(13564),S=t(26689),F=t(8279),k=t(34117),B=t(86608),R=t(63358),_=t(90260),D=t(66075),L=t(52401),I=t(30818),N=t(32741),W=t(44414);const U={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},O=[{title:"Acknowledgments",path:_.nB.legalForms.acknowledgments},{title:"Affidavit for Credit Against",path:_.nB.legalForms.affidavitforCreditAgainst},{title:"Affidavit in Lieu of Registration",path:_.nB.legalForms.affidavitinLieuofRegistration},{title:"Affidavit in Lieu of Registration 2009",path:_.nB.legalForms.affidavitinLieuofRegistration2009},{title:"Carbon Monoxide Detector Affidavit",path:_.nB.legalForms.carbonMonoxideDetectorAffidavit},{title:"Certification on Non-Foreign Status",path:_.nB.legalForms.certificationonNonForeignStatus},{title:"Contract of Sale - Condo",path:_.nB.legalForms.contractofSaleCondo},{title:"Contract of Sale - Coop",path:_.nB.legalForms.contractofSaleCoop},{title:"Contract of Sale - Residential",path:_.nB.legalForms.contractofSaleResidential},{title:"Deed - Administrators",path:_.nB.legalForms.deedAdministrators},{title:"Deed - Bargain and Sale with Covenants",path:_.nB.legalForms.deedBargainandSalewithCovenants},{title:"Deed - Bargain and Sale without Covenants",path:_.nB.legalForms.deedBargainandSalewithoutCovenants},{title:"Deed - Executors",path:_.nB.legalForms.deedExecutors},{title:"Deed - Quitclaim",path:_.nB.legalForms.deedQuitclaim},{title:"Deed - Warranty with Full Covenants",path:_.nB.legalForms.deedWarrantywithFullCovenants},{title:"IT-2663",path:_.nB.legalForms.it2663},{title:"IT-2664",path:_.nB.legalForms.it2664},{title:"NY Statutory Short Form POA",path:_.nB.legalForms.nYStatutoryShortFormPOA},{title:"Peconic Bay Region Community Preservation Fund",path:_.nB.legalForms.peconicBayRegionCommunityPreservationFund},{title:"RP5217",path:_.nB.legalForms.RP5217},{title:"TP-584",path:_.nB.legalForms.TP584}];function P(){var e;(0,f.Ay)(l.A)((e=>{let{theme:o}=e;const t=(o.palette.mode,"#403390");return{backgroundColor:"#403390",height:o.spacing(3),color:"white",padding:"15px",fontWeight:o.typography.fontWeightBold,"&:hover, &:focus":{backgroundColor:(0,g.tL)(t,.06)},"&:active":{boxShadow:o.shadows[1],backgroundColor:(0,g.tL)(t,.12)}}}));const o=(0,C.zy)().pathname,{enqueueSnackbar:t}=(o.includes("admin"),(0,j.dh)()),{themeStretch:P}=(0,B.A)(),[E]=(0,n.useState)(O),[T,M]=(0,n.useState)(E),[z,G]=(0,n.useState)(),[V,H]=(0,n.useState)(null),[q,Q]=(0,n.useState)(!1),[Y,J]=(0,n.useState)([]),[Z,K]=(0,n.useState)([]),[X,$]=(0,n.useState)(!1),[ee,oe]=(0,n.useState)(!1),[te,ne]=(0,n.useState)(),[le,ie]=(0,n.useState)(),[ae,re]=(0,n.useState)(null),[se,de]=(0,n.useState)([]),[ce,ue]=(0,n.useState)([]),[pe,xe]=(0,n.useState)(null),he=((0,C.Zp)(),(0,n.useRef)("")),{file:me}=(0,k.d4)((e=>e.File));console.log(me,"file details"),(0,n.useEffect)((()=>{(0,k.JD)((0,I.fl)())}),[]);const ve=(0,A.mN)(),{setValue:fe,getValues:ge}=ve;(0,n.useEffect)((async()=>{try{var e;const o=await N.A.get("admin/users");console.log(o,"all user"),ue(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.user),console.log(o,"autofill")}catch(o){console.log(o,"autofill")}}),[]),(0,n.useEffect)((()=>{if(console.log(pe,"selectedOption"),pe){const n=me.filter((e=>{var o;return(null===(o=e.User)||void 0===o?void 0:o.id)===pe.value})),l=me.find((e=>e.id===z));var e,o,t;if(J(l),console.log(n,"selectedOption"),(null===n||void 0===n?void 0:n.length)>0)re({label:"".concat(l.file_name," (").concat((null===l||void 0===l||null===(e=l.orders[0])||void 0===e?void 0:e.order_no)||"N/A",") ").concat(null===l||void 0===l||null===(o=l.orders[0])||void 0===o||null===(t=o.subject_premise)||void 0===t?void 0:t.property_location),value:null===l||void 0===l?void 0:l.id});else re(null),J([])}else re(null),J([])}),[pe,me]),console.log(Y,"fileData");const be=(0,w.debounce)((e=>{ie(e)}),300),Ae=(0,n.useMemo)((()=>{var e;if((null===le||void 0===le||!le.trim())&&!pe)return null===me||void 0===me?void 0:me.map((e=>{var o,t,n,l;return{label:"".concat(e.file_name," (").concat((null===(o=e.orders[0])||void 0===o?void 0:o.order_no)||"N/A",") - ").concat((null===e||void 0===e||null===(t=e.orders[0])||void 0===t||null===(n=t.subject_premise)||void 0===n?void 0:n.property_location)||"No Address"),value:e.id,userId:null===(l=e.User)||void 0===l?void 0:l.id}}));const o=null===le||void 0===le?void 0:le.toLowerCase();return null===me||void 0===me||null===(e=me.filter((e=>{var t,n,l,i,a,r,s,d;const c=!pe||(null===(t=e.User)||void 0===t?void 0:t.id)===pe.value,u=e.file_name.toLowerCase().includes(o)||null!==(n=null===(l=e.orders[0])||void 0===l||null===(i=l.order_no)||void 0===i?void 0:i.toLowerCase().includes(o))&&void 0!==n&&n||null!==(a=null===e||void 0===e||null===(r=e.orders[0])||void 0===r||null===(s=r.subject_premise)||void 0===s||null===(d=s.property_location)||void 0===d?void 0:d.toLowerCase().includes(o))&&void 0!==a&&a;return c&&u})))||void 0===e?void 0:e.map((e=>{var o,t,n,l;return{label:"".concat(e.file_name," (").concat((null===(o=e.orders[0])||void 0===o?void 0:o.order_no)||"N/A",") - ").concat((null===(t=e.orders[0])||void 0===t||null===(n=t.subject_premise)||void 0===n?void 0:n.property_location)||"No Address"),value:e.id,userId:null===(l=e.User)||void 0===l?void 0:l.id}}))}),[le,me,pe]);console.log(Ae,"fileFilteredOptions");const je=(0,n.useCallback)((e=>{if(e&&e.length>0){const o=e[0];console.log(o,"acceptedFile"),ne(o.name),fe("file",o)}}),[fe]);const ye=[{label:"Documents",value:"/admin/legal-forms",path:_.RO.legalForm}];return(0,W.jsx)(F.A,{title:"Documents",children:(0,W.jsxs)(i.A,{maxWidth:!P&&"xl",children:[(0,W.jsxs)(a.A,{sx:{bgcolor:"#2e3c56",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,W.jsx)(r.A,{sx:{width:"25%"},children:(0,W.jsx)("input",{type:"text",placeholder:"Search",ref:he,value:(null===he||void 0===he||null===(e=he.current)||void 0===e?void 0:e.value)||"",onChange:e=>{const o=e.target.value.toLowerCase();he.current.value=o;const t=E.filter((e=>e.title.toLowerCase().includes(o)));M(t)},style:{width:"350px",backgroundColor:"#4e596f",color:"white",border:"none",padding:"10px",borderRadius:"4px",outline:"none",fontSize:"14px"}})}),(0,W.jsxs)(r.A,{direction:"row",spacing:2,children:[(0,W.jsx)(s.A,{sx:{color:"#fff",bgcolor:"#2e3c56",boxShadow:"none","&:hover":{bgcolor:"#2e3c56"}},variant:"contained",startIcon:(0,W.jsx)(D.A,{icon:"clarity:form-line"}),children:"Generate"}),(0,W.jsx)(s.A,{sx:{color:"#fff",bgcolor:"#2e3c56",boxShadow:"none","&:hover":{bgcolor:"#2e3c56"}},variant:"contained",startIcon:(0,W.jsx)(D.A,{icon:"material-symbols:scan"}),children:"Scan"}),(0,W.jsx)(s.A,{sx:{color:"#fff",bgcolor:"#2e3c56",boxShadow:"none","&:hover":{bgcolor:"#2e3c56"}},variant:"contained",startIcon:(0,W.jsx)(D.A,{icon:"material-symbols:cloud-upload"}),children:"Upload"})]})]}),(0,W.jsxs)(a.A,{sx:{p:2},children:[(0,W.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,px:2},children:[(0,W.jsx)(r.A,{sx:{pt:2},children:(0,W.jsx)(R.A,{links:[{name:"Dashboard",href:_.nB.root},{name:"Documents"}]})}),(0,W.jsx)(r.A,{sx:{my:3,width:{xs:"100%",sm:"50%"}},children:(0,W.jsxs)(a.A,{sx:{display:"flex",alignItems:"start",justifyContent:"space-between",gap:1},children:[(0,W.jsx)(v.Ay,{options:null===ce||void 0===ce?void 0:ce.map((e=>({label:"".concat(e.first_name," ").concat(e.last_name),value:e.id}))),onChange:e=>{xe(e),de([])},value:pe,isSearchable:"true",placeholder:"Select User",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"0px",paddingVertical:"5px",border:o.isFocused?"2px solid #ced4da":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px 00ab55":"none","&:hover":{borderColor:"#00ab55"},minHeight:"48px",minWidth:"300px",maxWidth:"100%"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999})}}),(0,W.jsx)(v.Ay,{options:Ae,onInputChange:be,onChange:e=>{G(null===e||void 0===e?void 0:e.value),re(e);const o=me.find((o=>o.id===e.value));J(o);const t=ce.find((e=>{var t;return e.id===(null===o||void 0===o||null===(t=o.User)||void 0===t?void 0:t.id)}));console.log(t,"selectedOption"),xe(t?{label:"".concat(t.first_name," ").concat(t.last_name),value:t.id}:null)},value:ae,isSearchable:"true",placeholder:"Select File",styles:{control:(e,o)=>({...e,backgroundColor:"white",borderRadius:"0px",paddingVertical:"5px",border:o.isFocused?"2px solid #ced4da":"1px solid #ced4da",boxShadow:o.isFocused?"0 0 5px 00ab55":"none","&:hover":{borderColor:"#00ab55"},minHeight:"48px",minWidth:"300px",maxWidth:"100%"}),menu:e=>({...e,backgroundColor:"white",borderRadius:"8px",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999})}},(null===pe||void 0===pe?void 0:pe.value)||"default")]})})]}),(0,W.jsxs)(d.Ay,{container:!0,spacing:1,children:[(0,W.jsx)(d.Ay,{item:!0,xs:12,sm:12,md:2,children:(0,W.jsx)(d.Ay,{container:!0,spacing:2,children:null===ye||void 0===ye?void 0:ye.map(((e,t)=>{const n=o===e.value;return(0,W.jsx)(d.Ay,{item:!0,xs:12,children:(0,W.jsxs)(a.A,{display:"flex",alignItems:"center",children:[n&&(0,W.jsx)(y.A,{sx:{color:"green",mr:1}}),(0,W.jsx)(S.N_,{to:null===e||void 0===e?void 0:e.path,style:{textDecoration:"none"},children:(0,W.jsx)(c.A,{variant:n?"subtitle1":"subtitle2",sx:{fontWeight:"bold",color:n?"#191919":"#7A7A7A",paddingLeft:n?"0px":"30px",...n&&{borderBottom:"1px solid gray"},mt:.5,cursor:"pointer"},children:e.label})})]})},t)}))})}),(0,W.jsx)(d.Ay,{item:!0,xs:12,sm:12,md:10,margin:"auto",children:(0,W.jsx)(d.Ay,{container:!0,spacing:1,children:null===T||void 0===T?void 0:T.map(((e,o)=>(0,W.jsxs)(d.Ay,{item:!0,xs:12,sm:6,md:4,sx:{my:1},children:[(0,W.jsx)(u.A,{sx:{bgcolor:"#E9E9E9",padding:"0px",display:"flex",width:"300px",alignItems:"center",borderRadius:"1px"},children:(0,W.jsx)(p.A,{sx:{display:"flex",alignItems:"center",width:"100%",paddingBottom:"0px",paddingTop:"5px",paddingRight:"5px",paddingLeft:"5px"},children:(0,W.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",flexGrow:1},children:[(0,W.jsx)("img",{src:"/images/red_icon.png",alt:"Red icon",style:{width:60,height:70,marginRight:8}}),(0,W.jsx)("a",{href:e.path,target:"_blank",rel:"noreferrer",style:{textDecoration:"none"},children:(0,W.jsx)(c.A,{variant:"subtitle2",sx:{color:"#3c3c3c",maxWidth:"150px",fontWeight:"400"},children:e.title})})]})})}),(0,W.jsx)(a.A,{children:Z[o]?(0,W.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>(e=>{const o=Z[e];if(o){const e=document.createElement("a");e.href=o.url,e.setAttribute("download",o.name),document.body.appendChild(e),e.click(),e.parentNode.removeChild(e)}})(o),sx:{color:"#fff",bottom:"53px",position:"relative",left:"63%",bgcolor:"#00ab55","&:hover":{bgcolor:"#0aaa57"}},children:"Download"}):(0,W.jsx)(s.A,{variant:"contained",sx:{color:"#fff",bottom:"53px",position:"relative",left:"63%",bgcolor:"#00ab55","&:hover":{bgcolor:"#0aaa57"}},onClick:()=>(async(e,o)=>{H(o),Q(!0);try{const t=await N.A.get("admin/user_pdf/".concat(e.toLowerCase(),"/").concat(z),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data],{type:"application/pdf"}));K((t=>{console.log(t,"prevFileData");const l=[...t];return l[o]={url:n,name:e},l})),console.log(t,"autofill")}catch(t){console.log(t,"autofill")}finally{Q(!1),H(null)}})(null===e||void 0===e?void 0:e.title,o),disabled:V===o,children:V===o&&q?"Loading...":"Auto Fill"})})]},o)))})})]})]}),(0,W.jsx)(x.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:X,onClose:()=>$(!1),closeAfterTransition:!0,slots:{backdrop:h.A},slotProps:{backdrop:{timeout:500}},children:(0,W.jsx)(m.A,{in:X,children:(0,W.jsx)(a.A,{sx:U,children:(0,W.jsx)(L.Op,{methods:ve,children:(0,W.jsxs)(d.Ay,{item:!0,xs:12,md:12,children:[(0,W.jsx)(c.A,{variant:"h5",sx:{mb:2},children:"Upload"}),(0,W.jsxs)(a.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,W.jsx)(L.Oq,{showPreview:!0,accept:".pdf,.doc,.docx,.xml,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",maxSize:3145728,onDrop:je}),(0,W.jsx)(c.A,{variant:"h4",children:te})]}),(0,W.jsx)(r.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,W.jsx)(b.A,{type:"button",variant:"contained",loading:ee,onClick:async()=>{const e=ge("file");console.log(e,"file");try{oe(!0);const o=new FormData;o.append("file",e),await N.A.post("/user/upload/user_pdf",o).then((e=>{if(console.log(e,"file upload"),oe(!1),e.data.upload.status){const o=e.data.upload;t(o.message),$(!1),ne("")}}))}catch(o){oe(!1),console.log(o,"file Upload error")}},children:"Upload"})})]})})})})})]})})}},48089:(e,o,t)=>{t.d(o,{A:()=>v});var n=t(58168),l=t(98587),i=t(9950),a=t(2803),r=t(5747),s=t(7951),d=t(79859),c=t(70693),u=t(37665);function p(e){return(0,u.A)("MuiCard",e)}(0,t(44245).A)("MuiCard",["root"]);var x=t(44414);const h=["className","raised"],m=(0,s.Ay)(c.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({overflow:"hidden"}))),v=i.forwardRef((function(e,o){const t=(0,d.A)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=t,c=(0,l.A)(t,h),u=(0,n.A)({},t,{raised:s}),v=(e=>{const{classes:o}=e;return(0,r.A)({root:["root"]},p,o)})(u);return(0,x.jsx)(m,(0,n.A)({className:(0,a.A)(v.root,i),elevation:s?8:void 0,ref:o,ownerState:u},c))}))}}]);