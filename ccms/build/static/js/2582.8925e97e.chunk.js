"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[2582],{6768:(e,l,n)=>{n.d(l,{A:()=>m});var t=n(9950),o=n(13564),i=n(26689),a=n(14857),r=n(9213),s=n(21671),c=n(93038),d=n(23266),u=n(75165),h=n(97591),g=n(90260),v=n(34437),x=(n(22704),n(33949),n(66075)),p=n(72870),f=n(44414);function m(e){var l,n,m,A,j,C,b,w,S,_;let{row:y,selected:D,onSelectRow:k,onAssign:P,onViewRow:R,onDocumentUpload:B,onDownloadDocument:N,onDeleteRow:T,onShareRow:F,onEditRow:E,onOrderContin:O,onStatusChange:I}=e;(0,a.A)();const{pathname:U}=(0,o.zy)(),L=(U.includes("admin"),(0,o.Zp)());console.log(y,"row");const{updated_at:z,DummyData:M,transaction_type:Z,purchase_price:V,file_no:W,file_name:q,id:J,_count:G,user:H}=y,[K,Q]=(0,t.useState)(null),X=Boolean(K),[Y,$]=(0,t.useState)(null),ee=()=>{$(null)},le=()=>{L("/dashboard/filepreview/".concat(null===y||void 0===y?void 0:y.id),{state:{row:y}})};return(0,f.jsxs)(r.A,{selected:D,sx:{transition:"background-color 0.3s ease, color 0.3s ease","&:hover":{backgroundColor:"#403390",color:"white","& .MuiTableCell-root":{color:"white"},"& .MuiButton-root":{backgroundColor:"#fff",color:"#403390"},"& .MuiMenuItem-root":{color:"white"}}},children:[(k||D)&&(0,f.jsx)(s.A,{padding:"checkbox",children:(0,f.jsx)(c.A,{checked:D,onClick:k})}),(0,f.jsx)(s.A,{sx:{color:"#DD9A19"},align:"left",onClick:le,children:W}),(0,f.jsx)(s.A,{align:"left",onClick:le,children:q}),(0,f.jsx)(s.A,{align:"left",onClick:le,children:null===M||void 0===M||null===(l=M.subject_premise)||void 0===l?void 0:l.property_location}),(0,f.jsx)(s.A,{align:"left",onClick:le,children:z&&(0,v.ts)(z)}),(0,f.jsxs)(s.A,{align:"left",onClick:le,children:[(null===M||void 0===M||null===(n=M.buyers)||void 0===n?void 0:n.length)>0&&(null===M||void 0===M||null===(m=M.buyers[0])||void 0===m?void 0:m.first_name)," ",(null===M||void 0===M||null===(A=M.buyers)||void 0===A?void 0:A.length)>0&&(null===M||void 0===M||null===(j=M.buyers[0])||void 0===j?void 0:j.last_name)]}),(0,f.jsxs)(s.A,{align:"left",onClick:le,children:[(null===M||void 0===M||null===(C=M.sellers)||void 0===C?void 0:C.length)>0&&(null===M||void 0===M||null===(b=M.sellers[0])||void 0===b?void 0:b.first_name)," ",(null===M||void 0===M||null===(w=M.sellers)||void 0===w?void 0:w.length)>0&&(null===M||void 0===M||null===(S=M.sellers[0])||void 0===S?void 0:S.last_name)]}),(0,f.jsx)(s.A,{align:"left",onClick:le,children:Z}),(0,f.jsx)(s.A,{align:"left",onClick:le,children:null===M||void 0===M||null===(_=M.lender)||void 0===_?void 0:_.organization}),(0,f.jsx)(s.A,{align:"left",children:(0,f.jsx)(d.A,{onClick:()=>{T(),ee()},sx:{color:"error.main"},children:(0,f.jsx)(x.A,{icon:"eva:trash-2-outline"})})}),(0,f.jsx)(s.A,{align:"left",children:O&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.A,{variant:"contained","aria-controls":X?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":X?"true":void 0,onClick:e=>{Q(e.currentTarget)},sx:{backgroundColor:"#403390","&:hover":{backgroundColor:"#fff",color:"#403390"}},children:(null===G||void 0===G?void 0:G.orders)>0?"Ordered":"Order"}),(0,f.jsxs)(h.A,{id:"basic-menu",anchorEl:K,open:X,onClose:()=>{Q(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.titleInsurance,"/").concat(J),children:"Title Insurance"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.coopLienSearch,"/").concat(J),children:"Coop Lien Search"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.eagle9Policy,"/").concat(J),children:"Eagle 9 Policy"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.coopCondoOfferinPlans,"/").concat(J),children:"Coop/Condo Offering Plans"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.uccCreateFile,"/").concat(J),children:"UCC - Create/File"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.exchange1031,"/").concat(J),children:"1031 Exchange"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.acrisETax,"/").concat(J),children:"Acris E-Tax Forms"}),(0,f.jsx)(d.A,{component:i.N_,to:"".concat(g.nB.orders.otherSearches,"/").concat(J),children:"Other Searches"})]})]})}),(0,f.jsx)(s.A,{align:"right",children:(0,f.jsx)(p.ZE,{open:Y,onOpen:e=>{$(e.currentTarget)},onClose:ee,actions:(0,f.jsxs)(f.Fragment,{children:[R&&(0,f.jsxs)(d.A,{onClick:()=>{R(),ee()},children:[(0,f.jsx)(x.A,{icon:"tabler:eye-filled"}),"View"]}),F&&(0,f.jsxs)(d.A,{onClick:()=>{F(),ee()},children:[(0,f.jsx)(x.A,{icon:"material-symbols:share"}),"Share"]})]})})})]})}},12582:(e,l,n)=>{n.r(l),n.d(l,{default:()=>O});var t=n(9950),o=n(79537),i=n(75165),a=n(6368),r=n(82053),s=n(48089),c=n(74745),d=n(1320),u=n(15769),h=n(34075),g=n(91434),v=n(29031),x=n(13564),p=n(90260),f=n(46765),m=n(86608),A=n(38861),j=n(30744),C=(n(66075),n(44185)),b=n(63358),w=n(72870),S=n(12480),_=(n(6768),n(32741)),y=n(95074),D=n(30818),k=n(14857),P=n(9213),R=n(21671),B=n(93038),N=n(34437),T=(n(22704),n(33949),n(44414));function F(e){let{row:l,selected:n,onSelectRow:o,onAssign:i,onViewRow:a,onDocumentUpload:r,onDownloadDocument:s,onDeleteRow:c,onEditRow:d,onOrderContin:u,onStatusChange:h,isSelected:g,index:v}=e;(0,k.A)();const{pathname:p}=(0,x.zy)(),{bankruptcyChapter:f,caseId:m,caseNumber:A,caseTitle:j,dateFiled:C,dateDismissed:b,UID:w,partyRole:S}=(p.includes("admin"),(0,x.Zp)(),l),[_,y]=(0,t.useState)(null),[D,F]=(Boolean(_),(0,t.useState)(null));return(0,T.jsxs)(P.A,{hover:!0,selected:n,children:[(0,T.jsx)(R.A,{align:"left",children:v+1}),(0,T.jsx)(R.A,{padding:"checkbox",children:(0,T.jsx)(B.A,{checked:g,onChange:()=>o(w)})}),(0,T.jsx)(R.A,{align:"left",children:A}),(0,T.jsx)(R.A,{align:"left",children:j}),(0,T.jsx)(R.A,{align:"left",children:f}),(0,T.jsx)(R.A,{align:"left",children:C&&(0,N.ts)(C)}),(0,T.jsx)(R.A,{align:"left",children:S}),(0,T.jsx)(R.A,{align:"left",children:b&&(0,N.ts)(b)})]})}const E=[{id:"id",label:"S.No",align:"left",width:800},{id:"",label:"",align:"left",width:800},{id:"caseNumber",label:"Case No",align:"left",width:800},{id:"caseTitle",label:"Case Title",align:"left",width:800},{id:"bankruptcyChapter",label:"Chapter",align:"left",width:800},{id:"dateFiled",label:"Date Filed",align:"left",width:600},{id:"partyRole",label:"Party Role",align:"left",width:500},{id:"dateDismissed",label:"Date Closed",align:"left",width:800}],O=e=>{var l,n,k,P,R,B;let{state:N,getOrder:O}=e;const{themeStretch:I}=(0,m.A)(),{id:U}=(0,x.g)();(0,x.Zp)();console.log(N,"state");const{enqueueSnackbar:L}=(0,v.dh)(),{dense:z,page:M,order:Z,orderBy:V,rowsPerPage:W,setPage:q,selected:J,setSelected:G,onSelectAllRows:H,onSort:K,onChangeDense:Q,onChangePage:X,onChangeRowsPerPage:Y}=(0,A.Ay)({defaultOrderBy:"createDate"}),[$,ee]=(0,t.useState)([]),[le,ne]=(0,t.useState)(""),[te,oe]=(0,t.useState)("new"),[ie,ae]=(0,t.useState)(null),[re,se]=(0,t.useState)(null),{currentTab:ce,onChangeTab:de}=(0,f.A)("all"),[ue,he]=(0,t.useState)("Title Insurance"),[ge,ve]=(0,t.useState)(!1),[xe,pe]=(0,t.useState)(""),[fe,me]=(0,t.useState)(null);Boolean(fe);(0,t.useEffect)((()=>{(0,j.JD)((0,D.oc)())}),[]),(0,t.useEffect)((()=>{if(null!==N&&void 0!==N&&N.seller){var e,l,n,t;ee(null===N||void 0===N||null===(e=N.seller)||void 0===e||null===(l=e.case_details)||void 0===l?void 0:l.cpl_content.slice(0,25));const o=null===N||void 0===N||null===(n=N.seller)||void 0===n||null===(t=n.case_details)||void 0===t?void 0:t.cpl_content.filter((e=>!0===e.uid_is_marked)).map((e=>e.UID));je(o)}else{var o,i,a,r;ee(null===N||void 0===N||null===(o=N.buyer)||void 0===o||null===(i=o.case_details)||void 0===i?void 0:i.cpl_content.slice(0,25));const e=null===N||void 0===N||null===(a=N.buyer)||void 0===a||null===(r=a.case_details)||void 0===r?void 0:r.cpl_content.filter((e=>!0===e.uid_is_marked)).map((e=>e.UID));je(e)}}),[N]);const[Ae,je]=(0,t.useState)([]),[Ce,be]=(0,t.useState)([]),[we,Se]=(0,t.useState)(!1),_e=e=>Ae.includes(e);console.log(Ce,"selectedRows");const ye=function(e){var l;let{tableData:n,comparator:t,filterName:o,filterStatus:i,filterService:a,filterStartDate:r,filterEndDate:s}=e;const c=null===(l=n)||void 0===l?void 0:l.map(((e,l)=>[e,l]));null===c||void 0===c||c.sort(((e,l)=>{const n=t(e[0],l[0]);return 0!==n?n:e[1]-l[1]})),n=c.map((e=>e[0])),o&&(n=n.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(o.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(o.toLowerCase()))));"all"!==i&&(n=n.filter((e=>e.status===i)));"new"!==a&&(n=n.filter((e=>e.status===a)));r&&s&&(n=n.filter((e=>e.updated_at.getTime()>=r.getTime()&&e.updated_at.getTime()<=s.getTime())));return n}({tableData:$,comparator:(0,A.hz)(Z,V),filterName:le,filterService:te,filterStatus:ce,filterStartDate:ie,filterEndDate:re}),De=z?56:76,ke=!ye.length&&!!le||!ye.length&&!!ce||!ye.length&&!!te||!ye.length&&!!re||!ye.length&&!!ie;return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(o.A,{maxWidth:!I&&"lg",children:[ge&&(0,T.jsx)(y.A,{}),(0,T.jsx)(b.A,{heading:"Total Cases ".concat(null!==N&&void 0!==N&&N.buyer?null===N||void 0===N||null===(l=N.buyer)||void 0===l||null===(n=l.case_details)||void 0===n||null===(k=n.cpl_content)||void 0===k?void 0:k.length:null===N||void 0===N||null===(P=N.seller)||void 0===P||null===(R=P.case_details)||void 0===R||null===(B=R.cpl_content)||void 0===B?void 0:B.length),links:[{name:"Dashboard",href:p.nB.root},{name:"Cases"}],action:(null===Ae||void 0===Ae?void 0:Ae.length)>0&&(0,T.jsx)(i.A,{variant:"contained",onClick:async()=>{try{const e={updates:Ce};Se(!0),await _.A.post("update_case/".concat(null!==N&&void 0!==N&&N.buyer?"buyer_info/cpl_content/".concat(N.buyer.id):"seller_info/cpl_content/".concat(N.seller.id)),e),O(),Se(!1)}catch(e){Se(!1)}},children:we?"loading....":"Save"})}),(0,T.jsx)(a.A,{sx:{p:2},children:(0,T.jsx)(r.A,{variant:"h4",gutterBottom:!0,children:ue.label})}),(0,T.jsxs)(s.A,{children:[(0,T.jsx)(c.A,{}),(0,T.jsx)(S.F5,{filterName:le,filterService:te,filterStartDate:ie,filterEndDate:re,onFilterName:e=>{ne(e),q(0)},onFilterService:e=>{oe(e.target.value)},onFilterStartDate:e=>{ae(e)},onFilterEndDate:e=>{se(e)}}),(0,T.jsx)(C.A,{children:(0,T.jsx)(d.A,{sx:{minWidth:800,position:"relative"},children:(0,T.jsxs)(u.A,{size:z?"small":"medium",children:[(0,T.jsx)(w.er,{order:Z,orderBy:V,headLabel:E,rowCount:$.length,numSelected:J.length,onSort:K}),(0,T.jsxs)(h.A,{children:[ye.slice(M*W,M*W+W).map(((e,l)=>(0,T.jsx)(F,{row:e,isSelected:_e(e.UID),onSelectRow:()=>(e=>{console.log(e,"id"),je((l=>{const n=l.includes(e)?l.filter((l=>l!==e)):[...l,e],t=n.map((e=>({UID:e,uid_is_marked:!0})));return be(t),console.log("Formatted selected rows:",t),n}))})(e.UID),index:l},e.id))),(0,T.jsx)(w.dO,{height:De,emptyRows:(0,A.xl)(M,W,$.length)}),(0,T.jsx)(w.Sm,{isNotFound:ke})]})]})})}),(0,T.jsx)(a.A,{sx:{position:"relative"},children:(0,T.jsx)(g.A,{rowsPerPageOptions:[5,10,25],component:"div",count:ye.length,rowsPerPage:W,page:M,onPageChange:X,onRowsPerPageChange:Y})})]})]})})}}}]);