"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[7599],{7599:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(9950),o=n(79537),a=n(6368),l=n(82053),i=n(12257),d=n(29031),s=n(13564),c=n(54987),u=n(8279),p=n(30818),y=n(30744),x=n(86608),m=n(32741),b=n(48089),g=n(74745),v=n(73878),h=n(44414);const _=e=>{var t,n;let{docID:o,FileId:l}=e;const d=(0,v.wA)(),{file:s}=(0,v.d4)((e=>e.File)),c=null===s||void 0===s?void 0:s.find((e=>(null===e||void 0===e?void 0:e.id)===Number(l)));console.log(c,"file details"),(0,r.useEffect)((()=>{d((0,p.oc)())}),[]);const u=(0,r.useRef)(null),[y,x]=(0,r.useState)([]),[_,f]=(0,r.useState)(""),j=[{id:1,content:"".concat(null===c||void 0===c||null===(t=c.DummyData)||void 0===t||null===(n=t.subject_premise)||void 0===n?void 0:n.property_location),value:"address"},{id:2,content:"{{subject_premise.block}}",value:"Block"},{id:3,content:"{{subject_premise.city_village}}",value:"City"},{id:4,content:"{{subject_premise.county}}",value:"County"},{id:5,content:"{{subject_premise.district}}",value:"District"},{id:5,content:"{{subject_premise.lot}}",value:"Lot"},{id:5,content:"{{subject_premise.section}}",value:"Section"},{id:5,content:"{{subject_premise.zipcode}}",value:"Zipcode"}];(0,r.useEffect)((()=>{(async()=>{try{var e;const n=await m.A.get("user/download/text_user_pdf/".concat(o));if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status){var t;const e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.pdf_text.replace(/\n/g,"<br/>");console.log(e,"content api"),f(e)}}catch(n){console.log(n)}})()}),[]);const A=(e,t,n)=>{e.dataTransfer.setData("text",t)},w=e=>{document.execCommand(e,!1,null)},C=e=>{document.execCommand("formatBlock",!1,"<h".concat(e,">"))};return(0,h.jsx)(b.A,{sx:{mb:5,p:2,height:"100vh"},children:(0,h.jsx)(a.A,{sx:{px:2},children:(0,h.jsxs)(i.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",children:[(0,h.jsxs)(i.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",overflowY:"auto",width:"40%"},children:[(0,h.jsx)("h4",{children:"Subject Premises"}),(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:j.map((e=>(0,h.jsx)("div",{draggable:!0,onDragStart:t=>A(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 2px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,h.jsx)("h4",{children:"Property"}),(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:[{id:1,content:"{{order_title.property_type}}",value:"Property Type"},{id:2,content:"{{order_title.transaction_type}}",value:"Transaction Type"},{id:3,content:"{{order_title.purchase_price}}",value:"Purchase Price"},{id:4,content:"{{loan_amount.amount}}",value:"Loan Amount"}].map((e=>(0,h.jsx)("div",{draggable:!0,onDragStart:t=>A(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,h.jsx)("h4",{children:"Names"}),(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:[{id:1,content:"{{buyers.type}}",value:"Buyer Type"},{id:2,content:"{{buyers.first_name}}",value:"Buyer First Name"},{id:3,content:"{{buyers.middle_name}}",value:"Buyer Middle Name"},{id:3,content:"{{buyers.last_name}}",value:"Buyer Last Name"},{id:4,content:"{{buyer_attorney.city}}",value:"Buyer Attorney City"},{id:5,content:"{{buyer_attorney.address}}",value:"Buyer Attorney Address"},{id:6,content:"{{buyer_attorney.attorney_name}}",value:"Buyer Attorney Name"},{id:7,content:"{{buyer_attorney.email}}",value:"Buyer Attorney Email"},{id:8,content:"{{buyer_attorney.firm_name}}",value:"Buyer Attorney Firm Name"},{id:9,content:"{{buyer_attorney.phone_number}}",value:"Buyer Attorney Number"},{id:10,content:"{{buyer_attorney.state}}",value:"Buyer Attorney State"},{id:11,content:"{{buyer_attorney.zipcode}}",value:"Buyer Attorney Zipcode"},{id:12,content:"{{sellers.type}}",value:"Seller Type"},{id:13,content:"{{sellers.first_name}}",value:"Seller First Name"},{id:14,content:"{{sellers.middle_name}}",value:"Seller Middle Name"},{id:15,content:"{{sellers.last_name}}",value:"Seller Last Name"},{id:16,content:"{{seller_attorney.city}}",value:"Seller Attorney City"},{id:17,content:"{{seller_attorney.address}}",value:"Seller Attorney Address"},{id:18,content:"{{seller_attorney.attorney_name}}",value:"Seller Attorney Name"},{id:19,content:"{{seller_attorney.email}}",value:"Seller Attorney Email"},{id:20,content:"{{seller_attorney.firm_name}}",value:"Seller Attorney Firm Name"},{id:21,content:"{{seller_attorney.phone_number}}",value:"Seller Attorney Number"},{id:22,content:"{{seller_attorney.state}}",value:"Seller Attorney State"},{id:23,content:"{{seller_attorney.zipcode}}",value:"Seller Attorney Zipcode"},{id:24,content:"{{lender.address}}",value:"Lender Address"},{id:25,content:"{{lender.city}}",value:"Lender City"},{id:26,content:"{{lender.organization}}",value:"Lender Organization"},{id:27,content:"{{lender.state}}",value:"Lender State"},{id:28,content:"{{lender_attorney.city}}",value:"Lender Attorney City"},{id:29,content:"{{lender_attorney.address}}",value:"Lender Attorney Address"},{id:30,content:"{{lender_attorney.attorney_name}}",value:"Lender Attorney Name"},{id:31,content:"{{lender_attorney.email}}",value:"Lender Attorney Email"},{id:32,content:"{{lender_attorney.firm_name}}",value:"Lender Attorney Firm Name"},{id:33,content:"{{lender_attorney.phone_number}}",value:"Lender Attorney Number"},{id:34,content:"{{lender_attorney.state}}",value:"Lender Attorney State"},{id:35,content:"{{lender_attorney.zipcode}}",value:"Lender Attorney Zipcode"},{id:36,content:"{{real_estate_agents.rea_first_name}}",value:"Real Estate Agents First Name"},{id:37,content:"{{real_estate_agents.rea_last_name}}",value:"Real Estate Agents Last Name"},{id:38,content:"{{mortgage_brokers.mb_first_name}}",value:"Mortgage Brokers First Name"},{id:39,content:"{{mortgage_brokers.mb_last_name}}",value:"Mortgage Brokers Last Name"}].map((e=>(0,h.jsx)("div",{draggable:!0,onDragStart:t=>A(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))})]}),(0,h.jsxs)(i.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",width:"100%",overflow:"auto"},children:[(0,h.jsxs)("div",{style:{border:"3px solid #03a84e",borderRadius:"10px",padding:"10px",minHeight:"90vh",width:"100%",fontSize:"14px",overflowY:"auto"},children:[(0,h.jsxs)(i.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",flexWrap:"wrap",sx:{mb:2},children:[(0,h.jsx)("button",{onClick:()=>w("bold"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bold"}),(0,h.jsx)("button",{onClick:()=>w("italic"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Italic"}),(0,h.jsx)("button",{onClick:()=>w("underline"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Underline"}),(0,h.jsx)("button",{onClick:()=>w("justifyLeft"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Left Align"}),(0,h.jsx)("button",{onClick:()=>w("justifyCenter"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Center Align"}),(0,h.jsx)("button",{onClick:()=>w("justifyRight"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Right Align"}),(0,h.jsx)("button",{onClick:()=>w("insertblockquote"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Quote"}),(0,h.jsx)("button",{onClick:()=>w("insertOrderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Numbered List"}),(0,h.jsx)("button",{onClick:()=>w("insertUnorderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bullet List"}),(0,h.jsx)("button",{onClick:()=>C(1),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H1"}),(0,h.jsx)("button",{onClick:()=>C(2),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H2"}),(0,h.jsx)("button",{onClick:()=>C(3),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H3"}),(0,h.jsx)("button",{onClick:()=>C(4),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H4"}),(0,h.jsx)("button",{onClick:()=>C(5),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H5"}),(0,h.jsx)("button",{onClick:()=>C(6),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H6"})]}),(0,h.jsx)(g.A,{}),(0,h.jsx)("div",{ref:u,contentEditable:!0,onDrop:e=>{e.preventDefault();const t=e.dataTransfer.getData("text"),n=document.createElement("span");n.contentEditable="false",n.style.display="inline-block",n.style.border="1px solid #03a84e",n.style.backgroundColor="#03a84e",n.style.color="#ffff",n.style.borderRadius="10px",n.style.padding="2px 5px",n.style.margin="0 5px",n.style.width="auto",n.style.height="auto",n.innerText=t;const r=u.current,o=window.getSelection();if(!o.rangeCount)return;const a=o.getRangeAt(0);let l=a.startContainer;for(;l;){if(l.nodeType===Node.ELEMENT_NODE&&"SPAN"===l.tagName)return;l=l.parentNode}a.insertNode(n),a.setStartAfter(n),o.removeAllRanges(),o.addRange(a),r.focus()},onDragOver:e=>{e.preventDefault()},dangerouslySetInnerHTML:_?{__html:_}:void 0})]}),(0,h.jsx)("button",{type:"button",onClick:()=>{const e=u.current.innerHTML;console.log(e,"content")},style:{marginTop:"20px"},children:"Get Content Value"})]})]})})})},f=()=>{const{enqueueSnackbar:e}=(0,d.dh)(),{themeStretch:t}=(0,x.A)(),{id:n}=(0,s.g)(),{file:b}=(0,y.d4)((e=>e.File));console.log(b,"file details");const[g,v]=(0,r.useState)([]),[f,j]=(0,r.useState)(),[A,w]=(0,r.useState)(null),[C,S]=(0,r.useState)(!1),[k,R]=(0,r.useState)([]);(0,r.useRef)("");(0,r.useEffect)((()=>{(0,y.JD)((0,p.oc)())}),[]);(0,r.useEffect)((()=>{(async()=>{try{const e=await m.A.get("/user/download/user_pdf/".concat(n),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));await N(t),console.log(t,"preview")}catch(e){console.log(e,"autofill")}finally{S(!1),w(null)}})()}),[]);const N=async e=>{const t=c.YE(e);try{const e=await t.promise;let n="";for(let t=1;t<=e.numPages;t++){const r=await e.getPage(t),o=await r.getTextContent();n+=o.items.map((e=>e.str)).join(" ")+"\n"}return console.log(n,"extractedText"),n}catch(n){return console.error("Error extracting text from PDF:",n),""}};return(0,h.jsx)(u.A,{title:"Personal Documents",children:(0,h.jsxs)(o.A,{maxWidth:!t&&"lg",children:[(0,h.jsx)(a.A,{sx:{display:"flex",alignItems:"center"},children:(0,h.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Edit Documents"})}),(0,h.jsx)(i.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"center",sx:{my:3,width:"25%"},children:(0,h.jsxs)("select",{className:"form-select",name:"file",onChange:e=>{const t=e.target.value;j(t),R([])},children:[(0,h.jsx)("option",{value:"",children:"Select File"}),null===b||void 0===b?void 0:b.map(((e,t)=>(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.file_name},t)))]})}),f&&(0,h.jsx)(_,{docID:n,FileId:f})]})})}}}]);