"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[8523],{10608:(e,t,n)=>{n.d(t,{J2:()=>r,TR:()=>a,XQ:()=>o});const o=["active","draft","file_completed","contin_completed","cancelled","on_hold","placed","new"],r=["active","draft","contin_completed","cancelled","on_hold","placed","new"],a=["active","draft","file_completed","cancelled","on_hold","placed","new"]},19374:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(7951),r=n(6368),a=n(82053),l=n(63575),i=n(10463),s=n(44414);const d=(0,o.Ay)("div")((e=>{let{theme:t}=e;return{height:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:t.spacing(8,2)}}));function c(e){let{title:t,description:n,img:o,...c}=e;return(0,s.jsxs)(d,{...c,children:[o?(0,s.jsx)(l.A,{disabledEffect:!0,visibleByDefault:!0,alt:"empty content",src:o,sx:{height:240,mb:3}}):(0,s.jsx)(r.A,{sx:{height:150},children:(0,s.jsx)(i.Ft,{})}),(0,s.jsx)(a.A,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,s.jsx)(a.A,{variant:"body2",sx:{color:"text.secondary"},children:n})]})}},63358:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(56801),r=n.n(o),a=n(6368),l=n(82053),i=n(22707),s=n(26689),d=n(52432),c=n(44414);function u(e){let{links:t,activeLast:n=!1,...o}=e;const r=t[t.length-1].name,i=t.map((e=>(0,c.jsx)(p,{link:e},e.name))),s=t.map((e=>(0,c.jsx)("div",{children:e.name!==r?(0,c.jsx)(p,{link:e}):(0,c.jsx)(l.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:r})},e.name)));return(0,c.jsx)(d.A,{separator:(0,c.jsx)(a.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...o,children:n?i:s})}function p(e){let{link:t}=e;const{href:n,name:o,icon:r}=t;return(0,c.jsxs)(i.A,{variant:"body2",component:s.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,c.jsx)(a.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),o]},o)}function h(e){let{links:t,action:n,heading:o,moreLink:s=[],sx:d,...p}=e;return(0,c.jsxs)(a.A,{sx:{mb:5,...d},children:[(0,c.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(a.A,{sx:{flexGrow:1},children:[(0,c.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:o}),(0,c.jsx)(u,{links:t,...p})]}),n&&(0,c.jsx)(a.A,{sx:{flexShrink:0},children:n})]}),(0,c.jsx)(a.A,{sx:{mt:2},children:r()(s)?(0,c.jsx)(i.A,{href:s,target:"_blank",rel:"noopener",variant:"body2",children:s}):null===s||void 0===s?void 0:s.map((e=>(0,c.jsx)(i.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},22704:(e,t,n)=>{n.d(t,{A:()=>i});var o=n(7951),r=n(19657),a=n(44414);const l=(0,o.Ay)("span")((e=>{let{theme:t,ownerState:n}=e;const o="light"===t.palette.mode,{color:a,variant:l}=n;return{height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold,..."default"!==a?{..."filled"===l&&{...(e=>({color:t.palette[e].contrastText,backgroundColor:t.palette[e].main}))(a)},..."outlined"===l&&{...(e=>({color:t.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(t.palette[e].main)}))(a)},..."ghost"===l&&{...(e=>({color:t.palette[e][o?"dark":"light"],backgroundColor:(0,r.X4)(t.palette[e].main,.16)}))(a)}}:{..."outlined"===l&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat(t.palette.grey[50032])},..."ghost"===l&&{color:o?t.palette.text.secondary:t.palette.common.white,backgroundColor:t.palette.grey[50016]}}}}));function i(e){let{color:t="default",variant:n="ghost",children:o,...r}=e;return(0,a.jsx)(l,{ownerState:{color:t,variant:n},...r,children:o})}},72870:(e,t,n)=>{n.d(t,{dO:()=>m,er:()=>A,ZE:()=>u,Sm:()=>i,r1:()=>w,Qv:()=>x});var o=n(9213),r=n(21671),a=n(19374),l=n(44414);function i(e){let{isNotFound:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)(o.A,{children:(0,l.jsx)(r.A,{colSpan:9,children:(0,l.jsx)(a.A,{title:"No Data",sx:{"& span.MuiBox-root":{height:160}}})})}):(0,l.jsx)(o.A,{children:(0,l.jsx)(r.A,{colSpan:9,sx:{p:0}})})})}var s=n(25333),d=n(66075),c=n(70458);function u(e){let{actions:t,open:n,onClose:o,onOpen:r}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{onClick:r,children:(0,l.jsx)(d.A,{icon:"eva:more-vertical-fill",width:20,height:20})}),(0,l.jsx)(c.A,{open:Boolean(n),anchorEl:n,onClose:o,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:160,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75,"& svg":{mr:2,width:20,height:20}}},children:t})]})}var p=n(12257),h=n(82917);function x(e){let{...t}=e;return(0,l.jsx)(o.A,{...t,children:(0,l.jsx)(r.A,{colSpan:9,children:(0,l.jsxs)(p.A,{spacing:3,direction:"row",alignItems:"center",children:[(0,l.jsx)(h.A,{variant:"rectangular",width:40,height:40,sx:{borderRadius:1}}),(0,l.jsx)(h.A,{variant:"text",width:240,height:20}),(0,l.jsx)(h.A,{variant:"text",width:160,height:20}),(0,l.jsx)(h.A,{variant:"text",width:160,height:20}),(0,l.jsx)(h.A,{variant:"text",width:160,height:20}),(0,l.jsx)(h.A,{variant:"text",width:160,height:20})]})})})}function m(e){let{emptyRows:t,height:n}=e;return t?(0,l.jsx)(o.A,{sx:{...n&&{height:n*t}},children:(0,l.jsx)(r.A,{colSpan:9})}):null}var g=n(69780),f=n(93038),b=n(7251),v=n(6368);const j={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function A(e){let{order:t,orderBy:n,rowCount:a=0,headLabel:i,numSelected:s=0,onSort:d,onSelectAllRows:c,sx:u}=e;return(0,l.jsx)(g.A,{sx:u,children:(0,l.jsxs)(o.A,{children:[c&&(0,l.jsx)(r.A,{padding:"checkbox",sx:{backgroundColor:"white",border:"1px solid #e9eff4",fontSize:"14px",fontWeight:"400"},children:(0,l.jsx)(f.A,{indeterminate:s>0&&s<a,checked:a>0&&s===a,onChange:e=>c(e.target.checked)})}),i.map((e=>(0,l.jsx)(r.A,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth,color:"#878790",fontSize:"14px",fontWeight:"400",backgroundColor:"white",border:"1px solid #e9eff4"},children:d?(0,l.jsxs)(b.A,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>d(e.id),sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,l.jsx)(v.A,{sx:{...j},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)))]})})}var y=n(82053);function w(e){let{dense:t,actions:n,rowCount:o,numSelected:r,onSelectAllRows:a}=e;return(0,l.jsxs)(p.A,{direction:"row",alignItems:"center",sx:{px:2,top:0,right:8,zIndex:9,height:58,borderRadius:1,position:"absolute",width:"calc(100% - 16px)",bgcolor:"primary.lighter",...t&&{pl:1,height:38}},children:[(0,l.jsx)(f.A,{indeterminate:r>0&&r<o,checked:o>0&&r===o,onChange:e=>a(e.target.checked)}),(0,l.jsxs)(y.A,{variant:"subtitle1",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[r," selected"]}),n&&n]})}},38861:(e,t,n)=>{n.d(t,{Ay:()=>r,hz:()=>l,xl:()=>i});var o=n(9950);function r(e){const[t,n]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultDense)||!1),[r,a]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrderBy)||"name"),[l,i]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultOrder)||"asc"),[s,d]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultCurrentPage)||0),[c,u]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultRowsPerPage)||10),[p,h]=(0,o.useState)((null===e||void 0===e?void 0:e.defaultSelected)||[]);return{dense:t,order:l,page:s,setPage:d,orderBy:r,rowsPerPage:c,setRowsPerPage:u,selected:p,setSelected:h,onSelectRow:e=>{const t=p.indexOf(e);let n=[];-1===t?n=n.concat(p,e):0===t?n=n.concat(p.slice(1)):t===p.length-1?n=n.concat(p.slice(0,-1)):t>0&&(n=n.concat(p.slice(0,t),p.slice(t+1))),h(n)},onSelectAllRows:(e,t)=>{h(e?t:[])},onSort:e=>{if(console.log("Sorting Clicked for:",e,"Current Order:",l),r===e&&"desc"===l)return console.log("Resetting Sorting to Default"),a("default"),void i("asc");i(r===e&&"asc"===l?"desc":"asc"),a(e)},onChangePage:(e,t)=>{d(t)},onChangeDense:e=>{n(e.target.checked)},onChangeRowsPerPage:e=>{u(parseInt(e.target.value,10)),d(0)}}}function a(e,t,n,o){var r,a,l,i,s,d,c,u;let p,h;switch(n){case"status":case"updated_at":case"order_no":default:p=e[n]||"",h=t[n]||"";break;case"requests":const x=e.requests&&"object"===typeof e.requests?e.requests:{},m=t.requests&&"object"===typeof t.requests?t.requests:{},g=Object.entries(x).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),f=Object.entries(m).filter((e=>{let[t]=e;return"null"!==t})).map((e=>{let[t,n]=e;return n})),b=g.reduce(((e,t)=>e+t),0),v=f.reduce(((e,t)=>e+t),0);return"asc"===o?b-v:v-b;case"property_type":p=(null===(r=e.order_title)||void 0===r?void 0:r.property_type)||"",h=(null===(a=t.order_title)||void 0===a?void 0:a.property_type)||"";break;case"purchase_type":p=(null===(l=e.order_title)||void 0===l?void 0:l.transaction_type)||"",h=(null===(i=t.order_title)||void 0===i?void 0:i.transaction_type)||"";break;case"user":p=(null===(s=e.user)||void 0===s?void 0:s.first_name)+" "+((null===(d=e.user)||void 0===d?void 0:d.last_name)||""),h=(null===(c=t.user)||void 0===c?void 0:c.first_name)+" "+((null===(u=t.user)||void 0===u?void 0:u.last_name)||"")}return"asc"===o?p.localeCompare?p.localeCompare(h):p-h:h.localeCompare?h.localeCompare(p):h-p}function l(e,t){return"default"===t?()=>0:"desc"===e?(n,o)=>a(n,o,t,e):(n,o)=>-a(n,o,t,e)}function i(e,t,n){return e>0?Math.max(0,(1+e)*t-n):0}},46765:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(9950);function r(e){const[t,n]=(0,o.useState)(e||"");return{currentTab:t,onChangeTab:(e,t)=>{n(t)},setCurrentTab:n}}},93076:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(53984),r=n(73447),a=n(57191),l=n(6368),i=n(82053),s=n(60899),d=n(12257),c=n(8145),u=n(74745),p=n(75165),h=n(60666),x=n(9950),m=n(9449),g=n(68654),f=n(29031),b=n(28095),v=n(14650),j=n(66075),A=n(32741),y=n(52401),w=n(44414);const S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},C=e=>{var t;let{setShareOpen:n,open:C,FileId:k}=e;const{enqueueSnackbar:_}=(0,f.dh)(),[R,T]=(0,x.useState)(),[P,D]=(0,x.useState)([]),[O,q]=(0,x.useState)(!1),[I,z]=(0,x.useState)([]),[B,M]=(0,x.useState)(!1);(0,x.useEffect)((()=>{(async()=>{try{var e;const n=await A.A.get("user/added/contacts");var t;console.log(n,"all your user api"),null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status?D(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.currentUser):console.log("Status False in API")}catch(n){console.log(n,"all your user api error")}})()}),[]);const W=(0,x.useRef)(null);console.log(I,"filterUser");const L=async e=>{M(!0);try{await A.A.post("user/share/order/".concat(e,"/").concat(k)).then((e=>{if(M(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"share file"),_(t.message),n(!1),z()}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>_(t.errors[e][0],{variant:"error"})))}}finally{M(!1)}},F=h.Ik().shape({fname:h.Yj().required("First Name is required"),lname:h.Yj().required("Last Name is required"),email:h.Yj().required("Email is required")}),N=(0,x.useMemo)((()=>({fname:"",lname:"",email:"",phone:"",address:"",company:"",job:""})),[]),E=(0,m.mN)({resolver:(0,g.t)(F),defaultValues:N}),{reset:G,watch:H,setValue:U,handleSubmit:V,formState:{isSubmitting:Y,errors:X}}=E,Q=(H(),async(e,t,n)=>{try{var o;const l=new FormData;l.append("name","".concat(t," ").concat(n));const i=await A.A.post("user/contact/add/".concat(e),l);var r,a;if(console.log(i,"add user in list api"),null!==i&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.status)_("User Add In Your List",{variant:"success"}),L(null===i||void 0===i||null===(r=i.data)||void 0===r||null===(a=r.contact)||void 0===a?void 0:a.id);else console.log("Status False in API")}catch(l){console.log(l,"add user in list api error")}});return(0,w.jsx)(o.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:C,onClose:()=>n(!1),closeAfterTransition:!0,slots:{backdrop:r.A},slotProps:{backdrop:{timeout:500}},children:(0,w.jsx)(a.A,{in:C,children:(0,w.jsxs)(l.A,{sx:S,children:[(0,w.jsx)(i.A,{variant:"h5",sx:{mb:2},onClick:()=>q(!1),children:O&&(0,w.jsx)(v.In,{icon:"material-symbols:arrow-left-alt",width:"1.2em",height:"1.2em"})}),(0,w.jsxs)(s.Ay,{item:!0,xs:12,md:12,children:[(0,w.jsx)(i.A,{variant:"h5",sx:{mb:2},children:O?"Add Contact":"Select User Into Your List"}),O?(0,w.jsxs)(y.Op,{methods:E,onSubmit:V((async e=>{console.log(e.request,"request"),M(!0);try{const t=new FormData;t.append("first_name",e.fname),t.append("last_name",e.lname),t.append("email",e.email),t.append("phone",e.phone),t.append("address",e.address),t.append("company_name",e.company),t.append("job_title",e.job),t.append("is_file_shared",!0),await A.A.post("user/contact/user/add",t).then((e=>{if(M(!1),200===e.status||201===e.status){var t,o,r;const a=e.data;console.log(a,"add user new"),_("successfully add new user"),n(!1),G(),Q(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.id,null===a||void 0===a||null===(o=a.user)||void 0===o?void 0:o.first_name,null===a||void 0===a||null===(r=a.user)||void 0===r?void 0:r.last_name)}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>_(t.errors[e][0],{variant:"error"})))}}finally{M(!1)}})),children:[(0,w.jsxs)(l.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,w.jsx)(y.o3,{name:"fname",label:"First Name"}),(0,w.jsx)(y.o3,{name:"lname",label:"Last Name"}),(0,w.jsx)(y.o3,{name:"email",label:"Email"}),(0,w.jsx)(y.o3,{name:"phone",label:"Phone Nunber"}),(0,w.jsx)(y.o3,{name:"address",label:"Address"}),(0,w.jsx)(y.o3,{name:"company",label:"Company Name"}),(0,w.jsx)(y.o3,{name:"job",label:"Job title"})]}),(0,w.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,w.jsx)(b.A,{type:"submit",variant:"contained",loading:B,children:"Add Contact"})})]}):(0,w.jsxs)(l.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:[(0,w.jsx)(d.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,w.jsx)(c.A,{sx:{my:1,width:1},ref:W,label:"Search by first Name, Last Name & Email",value:(null===W||void 0===W||null===(t=W.current)||void 0===t?void 0:t.value)||"",onChange:e=>{const t=e.target.value.toLowerCase();if(W.current.value=t,console.log(W.current.value,"filterValue"),""===W.current.value)z([]);else{const e=P.filter((e=>{var n,o,r;return(null===e||void 0===e||null===(n=e.Contact)||void 0===n?void 0:n.first_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name.toLowerCase().includes(t))||(null===e||void 0===e||null===(r=e.Contact)||void 0===r?void 0:r.email.toLowerCase().includes(t))}));console.log(e,"filteredData"),z(e)}},size:"small"})}),(0,w.jsx)(u.A,{}),(null===I||void 0===I?void 0:I.length)>0?I.map(((e,t)=>{var n,o;return(0,w.jsxs)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,w.jsxs)(i.A,{variant:"subtitle1",sx:{my:1,color:"black"},children:[(0,w.jsx)(j.A,{icon:"material-symbols:user-attributes-rounded",color:"green"})," ","".concat(null===(n=e.Contact)||void 0===n?void 0:n.first_name," ").concat(null===e||void 0===e||null===(o=e.Contact)||void 0===o?void 0:o.last_name)]}),(0,w.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,w.jsx)(b.A,{type:"submit",variant:"contained",loading:B,onClick:()=>{var t;return L(null===e||void 0===e||null===(t=e.Contact)||void 0===t?void 0:t.id)},children:"Share"})})]},t)})):(0,w.jsx)(d.A,{flexDirection:"row",alignItems:"center",justifyContent:"center",sx:{p:5},children:(0,w.jsx)(p.A,{variant:"contained",onClick:()=>q(!0),startIcon:(0,w.jsx)(j.A,{icon:"material-symbols:contact-page-rounded"}),sx:{bgcolor:"#00ab55",color:"#fff",textAlign:"start",boxShadow:"none",borderRadius:"0px",padding:"12px 24px","&:hover":{bgcolor:"#0aaa57"}},children:"Add Contact"})})]})]})]})})})}},98523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var o=n(9950),r=n(60666),a=n(79537),l=n(48089),i=n(68367),s=n(84142),d=n(12257),c=n(6368),u=n(75165),p=n(97591),h=n(23266),x=n(1320),m=n(15769),g=n(34075),f=n(91434),b=n(16497),v=n(37324),j=n(53984),A=n(73447),y=n(57191),w=n(60899),S=n(82053),C=n(29031),k=n(73878),_=n(13564),R=n(9449),T=n(68654),P=n(55858),D=n(28095),O=n(90260),q=n(46765),I=n(86608),z=n(38861),B=(n(22704),n(66075),n(8279)),M=n(44185),W=n(63358),L=n(72870),F=n(32741),N=n(95074),E=(n(42686),n(52401)),G=n(93076),H=n(14857),U=n(9213),V=n(21671),Y=n(93038),X=n(8145),Q=n(34437),J=(n(33949),n(10608)),Z=n(44414);function K(e){let{row:t,selected:n,onSelectRow:r,onAssign:a,onViewRow:l,onStartOrderRow:i,onStartContinRow:s,onDocumentUpload:d,onContainDocumentUpload:c,onDownloadDocument:u,onEditRow:p,onAdditionsRow:x,onShareRow:m,onDeleteRow:g,onOrderContin:f,onStatusChange:b}=e;(0,H.A)();const{pathname:v}=(0,_.zy)();v.includes("admin"),v.includes("employee");console.log(t,"row");const{employee:j,updated_at:A,status:y,file_no:w,id:S,order_no:C,user:k,type:R,Shared:T,subject_premise:P}=t,[D,O]=(0,o.useState)(y),[q,I]=(0,o.useState)(null);return(0,Z.jsxs)(U.A,{hover:!0,selected:n,children:[(r||n)&&(0,Z.jsx)(V.A,{padding:"checkbox",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:(0,Z.jsx)(Y.A,{checked:n,onClick:r})}),(0,Z.jsx)(V.A,{align:"left",onClick:()=>l(),sx:{textTransform:"capitalize",border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:"on_hold"===y?"On Hold":y}),(0,Z.jsx)(V.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:()=>l(),children:A&&(0,Q.ts)(A)}),(0,Z.jsx)(V.A,{align:"left",sx:{border:"1px solid #e9eff4",color:"#dd9419",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:()=>l(),children:C||"N/A"}),(0,Z.jsx)(V.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:()=>l(),children:null===P||void 0===P?void 0:P.property_location}),(0,Z.jsx)(V.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},onClick:()=>l(),children:null===T||void 0===T?void 0:T.map((e=>{var t;return null===e||void 0===e||null===(t=e.Share)||void 0===t?void 0:t.first_name})).join(",")}),b&&(0,Z.jsx)(V.A,{align:"left",sx:{border:"1px solid #e9eff4",paddingTop:"3px",paddingBottom:"3px",fontSize:"12px",fontWeight:"400"},children:(0,Z.jsx)(X.A,{fullWidth:!0,select:!0,value:D,onChange:e=>{O(e.target.value),b(e.target.value)},SelectProps:{MenuProps:{sx:{"& .MuiPaper-root":{maxHeight:260}}}},sx:{maxWidth:{md:150},textTransform:"capitalize","& .MuiOutlinedInput-root":{border:"none","&.Mui-focused":{border:"none"},"& .MuiOutlinedInput-notchedOutline":{border:"none"}},"& .MuiInputBase-root":{boxShadow:"none",outline:"none"}},children:null!==contin_completed&&null!==file_completed?J.XQ.map((e=>(0,Z.jsx)(h.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e))):null!==file_completed?J.TR.map((e=>(0,Z.jsx)(h.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e))):null!==contin_completed?J.J2.map((e=>(0,Z.jsx)(h.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e))):J.XQ.map((e=>(0,Z.jsx)(h.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)))})})]})}const $={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadious:"10px",boxShadow:24,p:4},ee=[{id:"status",label:"Order Status",align:"left",width:500},{id:"updated_at",label:"Date",align:"left",width:600},{id:"file_no",label:"File No",align:"left",width:800},{id:"property_type",label:"Property Type",align:"left",width:800},{id:"transaction_type",label:"Transaction Type",align:"left",width:500},{id:"purchase_price",label:"Purchase Price",align:"left",width:800},{id:"",label:(0,Z.jsx)(P.A,{color:"#e9eff4"}),align:"center",width:50}],te=[{api:"all",label:"All"},{api:"titleInsurance",label:"Title Insurance"},{api:"corpLienSearch",label:"Coop Lien Searches"},{api:"eaglepolicy",label:"Eagle 9 Policy"},{api:"offeringPlan",label:"Coop/Condo offering plans"},{api:"uccform",label:"UCC"},{api:"exchanger",label:"1031 Exchanges"},{api:"acricetax",label:"Acris E-Tax forms"},{api:"othersearch",label:"Other Search / Request"},{api:"",label:"Sightline\xae"}];function ne(){const[e,t]=(0,o.useState)(!1),[n,P]=(0,o.useState)(),[H,U]=(0,o.useState)(!1),[V,Y]=(0,o.useState)(),[X,Q]=(0,o.useState)(!1),{themeStretch:J}=(0,I.A)(),ne=((0,k.wA)(),(0,_.Zp)()),{enqueueSnackbar:oe}=(0,C.dh)(),{dense:re,page:ae,order:le,orderBy:ie,rowsPerPage:se,setPage:de,selected:ce,setSelected:ue,onSort:pe,onChangeDense:he,onChangePage:xe,onChangeRowsPerPage:me}=(0,z.Ay)({defaultOrderBy:"createDate"}),[ge,fe]=(0,o.useState)([]),[be,ve]=(0,o.useState)(""),[je,Ae]=(0,o.useState)("new"),[ye,we]=(0,o.useState)(null),[Se,Ce]=(0,o.useState)(null),{currentTab:ke,onChangeTab:_e}=(0,q.A)("all"),[Re,Te]=(0,o.useState)("Title Insurance"),[Pe,De]=(0,o.useState)(!1),[Oe,qe]=(0,o.useState)(""),[Ie,ze]=(0,o.useState)(null),{id:Be}=(0,_.g)(),Me=Boolean(Ie),We=()=>{ze(null)};(0,o.useEffect)((()=>{"Sightline\xae"!==Re&&Le(te.find((e=>e.label===Re)).api)}),[Re]);const Le=e=>{De(!0);try{F.A.get("user/all_shared/".concat(e)).then((e=>{De(!1);const t=e.data;console.log(t,"Data"),200===e.status?(qe(t.filePath),fe(t.orders)):oe(t.message)}))}catch(t){if(De(!1),t.errors){Object.keys(t.errors).map((e=>oe(t.errors[e][0],{variant:"error"})))}}},Fe=function(e){let{tableData:t,comparator:n,filterName:o,filterStatus:r,filterService:a,filterStartDate:l,filterEndDate:i}=e;const s=t.map(((e,t)=>[e,t]));s.sort(((e,t)=>{const o=n(e[0],t[0]);return 0!==o?o:e[1]-t[1]})),t=s.map((e=>e[0])),o&&(t=t.filter((e=>-1!==e.order_title.transaction_type.toLowerCase().indexOf(o.toLowerCase())||-1!==e.order_title.property_type.toLowerCase().indexOf(o.toLowerCase()))));"all"!==r&&(t=t.filter((e=>e.status===r)));"new"!==a&&(t=t.filter((e=>e.status===a)));l&&i&&(t=t.filter((e=>e.updated_at.getTime()>=l.getTime()&&e.updated_at.getTime()<=i.getTime())));return t}({tableData:ge,comparator:(0,z.hz)(le,ie),filterName:be,filterService:je,filterStatus:ke,filterStartDate:ye,filterEndDate:Se}),Ne=re?56:76,Ee=!Fe.length&&!!be||!Fe.length&&!!ke||!Fe.length&&!!je||!Fe.length&&!!Se||!Fe.length&&!!ye,Ge=e=>ge.filter((t=>t.status===e)).length,He=(ge.length,Ge("active"),Ge("new"),Ge("placed"),Ge("completed"),Ge("on hold"),Ge("draft"),Ge("cancelled"),r.Ik().shape({request:r.Yj().required("Request Description is required")})),Ue=(0,o.useMemo)((()=>({request:""})),[]),Ve=(0,R.mN)({resolver:(0,T.t)(He),defaultValues:Ue}),{reset:Ye,watch:Xe,setValue:Qe,handleSubmit:Je,formState:{isSubmitting:Ze,errors:Ke}}=Ve;Xe();return(0,Z.jsxs)(B.A,{title:"Order: Shared Orders",children:[Pe&&(0,Z.jsx)(N.A,{}),(0,Z.jsxs)(a.A,{maxWidth:!J&&"xl",children:[(0,Z.jsx)(l.A,{sx:{borderRadius:"0px"},children:(0,Z.jsx)(i.A,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:Re,onChange:(e,t)=>Te(t),sx:{bgcolor:"#2e3c56",paddingLeft:"20px",paddingRight:"20px"},children:te.map((e=>(0,Z.jsx)(s.A,{disableRipple:!0,value:e.label,label:(0,Z.jsx)(d.A,{spacing:1,direction:"row",alignItems:"center",children:(0,Z.jsx)("div",{children:e.label})}),sx:{color:"#fff","&.Mui-selected":{color:"#fff",borderBottom:"4px solid #4CAF50"}}},e.label)))})}),(0,Z.jsxs)(l.A,{children:[(0,Z.jsxs)(d.A,{direction:"row",justifyContent:"flex-start",alignItems:"center",sx:{paddingTop:"10px",paddingX:"20px"},children:[(0,Z.jsx)(W.A,{links:[{name:"Orders",href:""}]}),(0,Z.jsxs)(c.A,{sx:{borderShadow:"none",marginTop:"-17px"},children:[(0,Z.jsx)(u.A,{color:"inherit",onClick:e=>{ze(e.currentTarget)},sx:{textTransform:"none",fontSize:"14px",fontWeight:"normal",marginTop:"-30px"},children:"Shared By Orders \u25be"}),(0,Z.jsxs)(p.A,{open:Me,onClose:We,anchorEl:Ie,children:[(0,Z.jsx)(h.A,{onClick:()=>{ne("/dashboard/sharedwith"),We()},sx:{backgroundColor:"#008000",color:"white"},children:"Shared With Orders"}),(0,Z.jsx)(h.A,{onClick:()=>{ne("/dashboard/allorders"),We()},children:"All Orders"})]})]})]}),(0,Z.jsx)(M.A,{children:(0,Z.jsx)(x.A,{sx:{minWidth:800,position:"relative"},children:(0,Z.jsxs)(m.A,{size:re?"small":"medium",children:[(0,Z.jsx)(L.er,{order:le,orderBy:ie,headLabel:ee,rowCount:ge.length,numSelected:ce.length,onSort:pe}),(0,Z.jsxs)(g.A,{children:[Fe.slice(ae*se,ae*se+se).map((e=>(0,Z.jsx)(K,{row:e},e.id))),(0,Z.jsx)(L.dO,{height:Ne,emptyRows:(0,z.xl)(ae,se,ge.length)}),(0,Z.jsx)(L.Sm,{isNotFound:Ee})]})]})})}),(0,Z.jsxs)(c.A,{sx:{position:"relative"},children:[(0,Z.jsx)(f.A,{rowsPerPageOptions:[5,10,25],component:"div",count:Fe.length,rowsPerPage:se,page:ae,onPageChange:xe,onRowsPerPageChange:me}),(0,Z.jsx)(b.A,{control:(0,Z.jsx)(v.A,{checked:re,onChange:he}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]}),(0,Z.jsx)(j.A,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e,onClose:()=>t(!1),closeAfterTransition:!0,slots:{backdrop:A.A},slotProps:{backdrop:{timeout:500}},children:(0,Z.jsx)(y.A,{in:e,children:(0,Z.jsx)(c.A,{sx:$,children:(0,Z.jsx)(E.Op,{methods:Ve,onSubmit:Je((async e=>{console.log(e.request,"request"),U(!0);try{const t=new FormData;t.append("descriptions",e.request),await F.A.post("user/requests/create/".concat(n),t).then((e=>{if(U(!1),200===e.status||201===e.status){const t=e.data;console.log(t,"sent request"),oe(t.message),ne(O.nB.root)}}))}catch(t){if(console.error(t),t.errors){Object.keys(t.errors).map((e=>oe(t.errors[e][0],{variant:"error"})))}}finally{U(!1)}})),children:(0,Z.jsxs)(w.Ay,{item:!0,xs:12,md:12,children:[(0,Z.jsx)(S.A,{variant:"h5",sx:{mb:2},children:"Sent Request for edit your order"}),(0,Z.jsx)(c.A,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(1, 1fr)"}},children:(0,Z.jsx)(E.o3,{name:"request",label:"Please enter Desciption",multiline:!0,rows:3})}),(0,Z.jsx)(d.A,{justifyContent:"flex-end",flexDirection:"row",gap:1,sx:{mt:3},children:(0,Z.jsx)(D.A,{type:"submit",variant:"contained",loading:H,children:"Send Request"})})]})})})})}),(0,Z.jsx)(G.A,{setShareOpen:Q,open:X,FileId:V})]})]})}},34437:(e,t,n)=>{n.d(t,{j5:()=>i,kH:()=>s,ts:()=>a,uK:()=>l});var o=n(43974),r=n(1369);function a(e){return(0,o.A)(new Date(e),"dd MMMM yyyy")}function l(e){return(0,o.A)(new Date(e),"dd MMM yyyy HH:mm")}function i(e){return(0,o.A)(new Date(e),"dd/MM/yyyy hh:mm p")}function s(e){return(0,r.A)(new Date(e),{addSuffix:!0})}}}]);