"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[4194],{63358:(e,t,n)=>{n.d(t,{A:()=>u});var s=n(56801),r=n.n(s),i=n(6368),o=n(82053),a=n(22707),l=n(26689),c=n(52432),d=n(44414);function x(e){let{links:t,activeLast:n=!1,...s}=e;const r=t[t.length-1].name,a=t.map((e=>(0,d.jsx)(m,{link:e},e.name))),l=t.map((e=>(0,d.jsx)("div",{children:e.name!==r?(0,d.jsx)(m,{link:e}):(0,d.jsx)(o.A,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:r})},e.name)));return(0,d.jsx)(c.A,{separator:(0,d.jsx)(i.A,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}}),...s,children:n?a:l})}function m(e){let{link:t}=e;const{href:n,name:s,icon:r}=t;return(0,d.jsxs)(a.A,{variant:"body2",component:l.N_,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,d.jsx)(i.A,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),s]},s)}function u(e){let{links:t,action:n,heading:s,moreLink:l=[],sx:c,...m}=e;return(0,d.jsxs)(i.A,{sx:{mb:5,...c},children:[(0,d.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(i.A,{sx:{flexGrow:1},children:[(0,d.jsx)(o.A,{variant:"h4",gutterBottom:!0,children:s}),(0,d.jsx)(x,{links:t,...m})]}),n&&(0,d.jsx)(i.A,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(i.A,{sx:{mt:2},children:r()(l)?(0,d.jsx)(a.A,{href:l,target:"_blank",rel:"noopener",variant:"body2",children:l}):l.map((e=>(0,d.jsx)(a.A,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)))})]})}},98697:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(9950);function r(e){const[t,n]=(0,s.useState)(e||!1);return{toggle:t,onToggle:()=>n(!t),onOpen:()=>n(!0),onClose:()=>n(!1),setToggle:n}}},51571:(e,t,n)=>{n.d(t,{A:()=>O});var s=n(60666),r=n(9950),i=n(13564),o=n(9449),a=n(68654),l=n(28095),c=n(48089),d=n(12257),x=n(90260),m=n(56105),u=n(73561),p=n(6368),h=n(82053),v=n(74745),g=n(23266),j=n(2046),A=n(75165),f=n(63477),b=n(66075),y=n(44414);const C=["full stack development","backend development","ui design","ui/ux design","front end development"];function w(){const{control:e,setValue:t,watch:n}=(0,o.xW)(),{fields:s,append:r,remove:i}=(0,o.jz)({control:e,name:"items"}),a=n();return(0,y.jsxs)(p.A,{sx:{p:3},children:[(0,y.jsx)(h.A,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,y.jsx)(d.A,{divider:(0,y.jsx)(v.A,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:s.map(((e,n)=>(0,y.jsxs)(d.A,{alignItems:"flex-end",spacing:1.5,children:[(0,y.jsxs)(d.A,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,y.jsx)(u.o3,{size:"small",name:"items[".concat(n,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,y.jsx)(u.o3,{size:"small",name:"items[".concat(n,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,y.jsxs)(u.tX,{name:"items[".concat(n,"].service"),label:"Service type",size:"small",InputLabelProps:{shrink:!0},SelectProps:{native:!1,sx:{textTransform:"capitalize"}},sx:{maxWidth:{md:160}},children:[(0,y.jsx)(g.A,{value:"",sx:{mx:1,borderRadius:.75,typography:"body2",fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,y.jsx)(v.A,{}),C.map((e=>(0,y.jsx)(g.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)))]}),(0,y.jsx)(u.o3,{size:"small",type:"number",name:"items[".concat(n,"].quantity"),label:"Quantity",onChange:e=>t("items[".concat(n,"].quantity"),Number(e.target.value)),sx:{maxWidth:{md:96}}}),(0,y.jsx)(u.o3,{size:"small",type:"number",name:"items[".concat(n,"].price"),label:"Price",onChange:e=>t("items[".concat(n,"].price"),Number(e.target.value)),InputProps:{startAdornment:(0,y.jsx)(j.A,{position:"start",children:"$"})},sx:{maxWidth:{md:96}}}),(0,y.jsx)(u.o3,{disabled:!0,size:"small",name:"items[".concat(n,"].total"),label:"Total",value:(0,f.kB)(a.items[n].quantity*a.items[n].price),InputProps:{startAdornment:(0,y.jsx)(j.A,{position:"start",children:"$"})},sx:{maxWidth:{md:96}}})]}),(0,y.jsx)(A.A,{size:"small",color:"error",startIcon:(0,y.jsx)(b.A,{icon:"eva:trash-2-outline"}),onClick:()=>(e=>{i(e)})(n),children:"Remove"})]},e.id)))}),(0,y.jsx)(v.A,{sx:{my:3,borderStyle:"dashed"}}),(0,y.jsxs)(d.A,{spacing:2,direction:{xs:"column-reverse",md:"row"},alignItems:{xs:"flex-start",md:"center"},children:[(0,y.jsx)(A.A,{size:"small",startIcon:(0,y.jsx)(b.A,{icon:"eva:plus-fill"}),onClick:()=>{r({title:"",description:"",service:"",quantity:"",price:"",total:""})},sx:{flexShrink:0},children:"Add new detail"}),(0,y.jsxs)(d.A,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,y.jsx)(u.o3,{size:"small",label:"Discount",name:"discount",onChange:e=>t("discount",Number(e.target.value)),sx:{maxWidth:{md:200}}}),(0,y.jsx)(u.o3,{size:"small",label:"Taxes",name:"taxes",onChange:e=>t("taxes",Number(e.target.value)),sx:{maxWidth:{md:200}}})]})]})]})}var S=n(98091),k=n(98697),I=n(96583),z=n(57357),T=n(44185);function W(e){let{open:t,selected:n,onClose:s,onSelect:r,addressOptions:i}=e;return(0,y.jsxs)(I.A,{fullWidth:!0,maxWidth:"xs",open:t,onClose:s,children:[(0,y.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2.5,px:3},children:[(0,y.jsx)(h.A,{variant:"h6",children:" Select address "}),(0,y.jsx)(A.A,{size:"small",variant:"outlined",startIcon:(0,y.jsx)(b.A,{icon:"eva:plus-fill"}),sx:{alignSelf:"flex-end"},children:"Add New"})]}),(0,y.jsx)(T.A,{sx:{p:1.5,pt:0,maxHeight:640},children:i.map((e=>(0,y.jsxs)(z.A,{selected:n(e.id),onClick:()=>(e=>{r(e),s()})(e),sx:{p:1.5,borderRadius:1,flexDirection:"column",alignItems:"flex-start"},children:[(0,y.jsx)(h.A,{variant:"subtitle2",children:e.name}),(0,y.jsx)(h.A,{variant:"caption",sx:{color:"primary.main",my:.5,fontWeight:"fontWeightMedium"},children:e.company}),(0,y.jsx)(h.A,{variant:"body2",sx:{color:"text.secondary"},children:e.address})]},e.id)))})]})}function D(){const{watch:e,setValue:t,formState:{errors:n}}=(0,o.xW)(),s=(0,S.A)("up","md"),r=e(),{toggle:i,onOpen:a,onClose:l}=(0,k.A)(),{toggle:c,onOpen:x,onClose:u}=(0,k.A)(),{invoiceFrom:p,invoiceTo:g}=r;return(0,y.jsxs)(d.A,{spacing:{xs:2,md:5},direction:{xs:"column",md:"row"},divider:(0,y.jsx)(v.A,{flexItem:!0,orientation:s?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,y.jsxs)(d.A,{sx:{width:1},children:[(0,y.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[(0,y.jsx)(h.A,{variant:"h6",sx:{color:"text.disabled"},children:"From:"}),(0,y.jsx)(A.A,{size:"small",startIcon:(0,y.jsx)(b.A,{icon:"eva:edit-fill"}),onClick:a,children:"Change"}),(0,y.jsx)(W,{open:i,onClose:l,selected:e=>(null===p||void 0===p?void 0:p.id)===e,onSelect:e=>t("invoiceFrom",e),addressOptions:m.XA})]}),(0,y.jsx)(N,{name:p.name,address:p.address,phone:p.phone})]}),(0,y.jsxs)(d.A,{sx:{width:1},children:[(0,y.jsxs)(d.A,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:1},children:[(0,y.jsx)(h.A,{variant:"h6",sx:{color:"text.disabled"},children:"To:"}),(0,y.jsx)(A.A,{size:"small",startIcon:(0,y.jsx)(b.A,{icon:g?"eva:edit-fill":"eva:plus-fill"}),onClick:x,children:g?"Change":"Add"}),(0,y.jsx)(W,{open:c,onClose:u,selected:e=>(null===g||void 0===g?void 0:g.id)===e,onSelect:e=>t("invoiceTo",e),addressOptions:m._H})]}),g?(0,y.jsx)(N,{name:g.name,address:g.address,phone:g.phone}):(0,y.jsx)(h.A,{typography:"caption",sx:{color:"error.main"},children:n.invoiceTo?n.invoiceTo.message:null})]})]})}function N(e){let{name:t,address:n,phone:s}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.A,{variant:"subtitle2",children:t}),(0,y.jsx)(h.A,{variant:"body2",sx:{mt:1,mb:.5},children:n}),(0,y.jsxs)(h.A,{variant:"body2",children:["Phone: ",s]})]})}var R=n(63845),q=n(63916);const B=["paid","unpaid","overdue","draft"];function P(){const{control:e}=(0,o.xW)();return(0,y.jsxs)(d.A,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,y.jsx)(u.tX,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},SelectProps:{native:!1,sx:{textTransform:"capitalize"}},children:B.map((e=>(0,y.jsx)(g.A,{value:e,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize"},children:e},e)))}),(0,y.jsx)(o.xI,{name:"createDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,y.jsx)(R.A,{label:"Date create",value:t.value,onChange:e=>{t.onChange(e)},renderInput:e=>(0,y.jsx)(q.A,{...e,fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message})})}}),(0,y.jsx)(o.xI,{name:"dueDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,y.jsx)(R.A,{label:"Due date",value:t.value,onChange:e=>{t.onChange(e)},renderInput:e=>(0,y.jsx)(q.A,{...e,fullWidth:!0,error:!!n,helperText:null===n||void 0===n?void 0:n.message})})}})]})}function O(e){let{isEdit:t,currentInvoice:n}=e;const p=(0,i.Zp)(),[h,v]=(0,r.useState)(!1),[g,j]=(0,r.useState)(!1),A=s.Ik().shape({createDate:s.Yj().nullable().required("Create date is required"),dueDate:s.Yj().nullable().required("Due date is required"),invoiceTo:s.gl().nullable().required("Invoice to is required")}),f=(0,r.useMemo)((()=>({createDate:(null===n||void 0===n?void 0:n.createDate)||null,dueDate:(null===n||void 0===n?void 0:n.dueDate)||null,taxes:(null===n||void 0===n?void 0:n.taxes)||"",status:(null===n||void 0===n?void 0:n.status)||"draft",discount:(null===n||void 0===n?void 0:n.discount)||"",invoiceFrom:(null===n||void 0===n?void 0:n.invoiceFrom)||m.XA[0],invoiceTo:(null===n||void 0===n?void 0:n.invoiceTo)||null,items:(null===n||void 0===n?void 0:n.items)||[{title:"",description:"",service:"",quantity:0,price:0,total:0}]})),[n]),b=(0,o.mN)({resolver:(0,a.t)(A),defaultValues:f}),{reset:C,watch:S,handleSubmit:k,formState:{isSubmitting:I}}=b,z=S();(0,r.useEffect)((()=>{t&&n&&C(f),t||C(f)}),[t,n]);const T={...z,items:z.items.map((e=>({...e,total:e.quantity*e.price})))};return(0,y.jsxs)(u.Op,{methods:b,children:[(0,y.jsxs)(c.A,{children:[(0,y.jsx)(D,{}),(0,y.jsx)(P,{}),(0,y.jsx)(w,{})]}),(0,y.jsxs)(d.A,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,y.jsx)(l.A,{color:"inherit",size:"large",variant:"contained",loading:h&&I,onClick:k((async()=>{v(!0);try{await new Promise((e=>setTimeout(e,500))),C(),v(!0),p(x.nB.invoice.list),console.log(JSON.stringify(T,null,2))}catch(e){console.error(e)}})),children:"Save as Draft"}),(0,y.jsxs)(l.A,{size:"large",variant:"contained",loading:g&&I,onClick:k((async()=>{j(!0);try{await new Promise((e=>setTimeout(e,500))),C(),j(!1),p(x.nB.invoice.list),console.log(JSON.stringify(T,null,2))}catch(e){console.error(e)}})),children:[t?"Update":"Create"," & Send"]})]})]})}},52432:(e,t,n)=>{n.d(t,{A:()=>I});var s=n(58168),r=n(98587),i=n(9950),o=(n(26429),n(2803)),a=n(5747),l=n(7951),c=n(79859),d=n(82053),x=n(19657),m=n(65471),u=n(44414);const p=(0,m.A)((0,u.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var h=n(24184);const v=(0,l.Ay)(h.A)((e=>{let{theme:t}=e;return(0,s.A)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,s.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,s.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,x.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,x.tL)(t.palette.grey[600],.12)})})})),g=(0,l.Ay)(p)({width:24,height:16});const j=function(e){const t=e;return(0,u.jsx)("li",{children:(0,u.jsx)(v,(0,s.A)({focusRipple:!0},e,{ownerState:t,children:(0,u.jsx)(g,{ownerState:t})}))})};var A=n(37665);function f(e){return(0,A.A)("MuiBreadcrumbs",e)}const b=(0,n(44245).A)("MuiBreadcrumbs",["root","ol","li","separator"]),y=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,l.Ay)(d.A,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{["& .".concat(b.li)]:t.li},t.root]})({}),w=(0,l.Ay)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),S=(0,l.Ay)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function k(e,t,n,s){return e.reduce(((r,i,o)=>(o<e.length-1?r=r.concat(i,(0,u.jsx)(S,{"aria-hidden":!0,className:t,ownerState:s,children:n},"separator-".concat(o))):r.push(i),r)),[])}const I=i.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiBreadcrumbs"}),{children:l,className:d,component:x="nav",expandText:m="Show path",itemsAfterCollapse:p=1,itemsBeforeCollapse:h=1,maxItems:v=8,separator:g="/"}=n,A=(0,r.A)(n,y),[b,S]=i.useState(!1),I=(0,s.A)({},n,{component:x,expanded:b,expandText:m,itemsAfterCollapse:p,itemsBeforeCollapse:h,maxItems:v,separator:g}),z=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},f,t)})(I),T=i.useRef(null),W=i.Children.toArray(l).filter((e=>i.isValidElement(e))).map(((e,t)=>(0,u.jsx)("li",{className:z.li,children:e},"child-".concat(t))));return(0,u.jsx)(C,(0,s.A)({ref:t,component:x,color:"text.secondary",className:(0,o.A)(z.root,d),ownerState:I},A,{children:(0,u.jsx)(w,{className:z.ol,ref:T,ownerState:I,children:k(b||v&&W.length<=v?W:(e=>h+p>=e.length?e:[...e.slice(0,h),(0,u.jsx)(j,{"aria-label":m,onClick:()=>{S(!0);const e=T.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-p,e.length)])(W),z.separator,g,I)})}))}))}}]);