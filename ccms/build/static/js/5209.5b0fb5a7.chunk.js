"use strict";(self.webpackChunkccms=self.webpackChunkccms||[]).push([[5209],{45209:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var o=n(9950),l=n(79537),i=n(6368),a=n(82053),d=n(12257),r=n(29031),u=n(13564),c=n(54987),s=n(8279),v=n(30818),m=n(30744),y=n(86608),p=n(32741),x=n(48089),D=n(74745),b=n(73878),g=n(87307),h=n.n(g),_=n(28095),f=n(44414);const j=e=>{var t,n,l,a,r,u,c,s,m,y,g,j,A,w,S,C,k,N,R,L,B,E,F,T,I,P,H,z,M,O,W,U,Z,Y,q,G,J,Q,K,V,X,$,ee,te,ne,oe,le,ie,ae,de,re,ue,ce,se,ve,me,ye,pe,xe,De,be,ge,he,_e,fe,je,Ae,we,Se,Ce,ke,Ne,Re,Le,Be,Ee,Fe,Te,Ie,Pe,He,ze,Me,Oe,We,Ue,Ze,Ye,qe,Ge,Je,Qe,Ke,Ve,Xe,$e,et,tt,nt,ot;let{docID:lt,FileId:it,data:at}=e;const dt=(0,b.wA)(),{file:rt}=(0,b.d4)((e=>e.File)),ut=null===rt||void 0===rt?void 0:rt.find((e=>(null===e||void 0===e?void 0:e.id)===Number(it)));console.log(at,"file details"),(0,o.useEffect)((()=>{dt((0,v.oc)())}),[]);const ct=(0,o.useRef)(null),[st,vt]=(0,o.useState)(!1),[mt,yt]=(0,o.useState)(""),pt=[{id:1,content:"".concat(null===ut||void 0===ut||null===(t=ut.DummyData)||void 0===t||null===(n=t.subject_premise)||void 0===n?void 0:n.property_location),value:"address"},{id:2,content:"".concat(null===ut||void 0===ut||null===(l=ut.DummyData)||void 0===l||null===(a=l.subject_premise)||void 0===a?void 0:a.block),value:"Block"},{id:3,content:"".concat(null===ut||void 0===ut||null===(r=ut.DummyData)||void 0===r||null===(u=r.subject_premise)||void 0===u?void 0:u.city_village),value:"City"},{id:4,content:"".concat(null===ut||void 0===ut||null===(c=ut.DummyData)||void 0===c||null===(s=c.subject_premise)||void 0===s?void 0:s.county),value:"County"},{id:5,content:"".concat(null===ut||void 0===ut||null===(m=ut.DummyData)||void 0===m||null===(y=m.subject_premise)||void 0===y?void 0:y.district),value:"District"},{id:6,content:"".concat(null===ut||void 0===ut||null===(g=ut.DummyData)||void 0===g||null===(j=g.subject_premise)||void 0===j?void 0:j.lot),value:"Lot"},{id:7,content:"".concat(null===ut||void 0===ut||null===(A=ut.DummyData)||void 0===A||null===(w=A.subject_premise)||void 0===w?void 0:w.section),value:"Section"},{id:8,content:"".concat(null===ut||void 0===ut||null===(S=ut.DummyData)||void 0===S||null===(C=S.subject_premise)||void 0===C?void 0:C.zipcode),value:"Zipcode"}],xt=[{id:1,content:"".concat(null===ut||void 0===ut||null===(k=ut.DummyData)||void 0===k?void 0:k.order_title.property_type),value:"Property Type"},{id:2,content:"".concat(null===ut||void 0===ut||null===(N=ut.DummyData)||void 0===N?void 0:N.order_title.transaction_type),value:"Transaction Type"},{id:3,content:"".concat(null===ut||void 0===ut||null===(R=ut.DummyData)||void 0===R?void 0:R.order_title.purchase_price),value:"Purchase Price"},{id:4,content:"".concat(null===ut||void 0===ut||null===(L=ut.DummyData)||void 0===L?void 0:L.loan_amount[0].amount),value:"Loan Amount"}],Dt=[{id:1,content:"".concat(null===ut||void 0===ut||null===(B=ut.DummyData)||void 0===B||null===(E=B.buyers[0])||void 0===E?void 0:E.type),value:"Buyer Type"},{id:2,content:"".concat(null===ut||void 0===ut||null===(F=ut.DummyData)||void 0===F||null===(T=F.buyers[0])||void 0===T?void 0:T.first_name),value:"Buyer First Name"},{id:3,content:"".concat(null===ut||void 0===ut||null===(I=ut.DummyData)||void 0===I||null===(P=I.buyers[0])||void 0===P?void 0:P.middle_name),value:"Buyer Middle Name"},{id:3,content:"".concat(null===ut||void 0===ut||null===(H=ut.DummyData)||void 0===H||null===(z=H.buyers[0])||void 0===z?void 0:z.last_name),value:"Buyer Last Name"},{id:4,content:"".concat(null===ut||void 0===ut||null===(M=ut.DummyData)||void 0===M||null===(O=M.buyer_attorney)||void 0===O?void 0:O.city),value:"Buyer Attorney City"},{id:5,content:"".concat(null===ut||void 0===ut||null===(W=ut.DummyData)||void 0===W||null===(U=W.buyer_attorney)||void 0===U?void 0:U.address),value:"Buyer Attorney Address"},{id:6,content:"".concat(null===ut||void 0===ut||null===(Z=ut.DummyData)||void 0===Z||null===(Y=Z.buyer_attorney)||void 0===Y?void 0:Y.attorney_name),value:"Buyer Attorney Name"},{id:7,content:"".concat(null===ut||void 0===ut||null===(q=ut.DummyData)||void 0===q||null===(G=q.buyer_attorney)||void 0===G?void 0:G.email),value:"Buyer Attorney Email"},{id:8,content:"".concat(null===ut||void 0===ut||null===(J=ut.DummyData)||void 0===J||null===(Q=J.buyer_attorney)||void 0===Q?void 0:Q.firm_name),value:"Buyer Attorney Firm Name"},{id:9,content:"".concat(null===ut||void 0===ut||null===(K=ut.DummyData)||void 0===K||null===(V=K.buyer_attorney)||void 0===V?void 0:V.phone_number),value:"Buyer Attorney Number"},{id:10,content:"".concat(null===ut||void 0===ut||null===(X=ut.DummyData)||void 0===X||null===($=X.buyer_attorney)||void 0===$?void 0:$.state),value:"Buyer Attorney State"},{id:11,content:"".concat(null===ut||void 0===ut||null===(ee=ut.DummyData)||void 0===ee||null===(te=ee.buyer_attorney)||void 0===te?void 0:te.zipcode),value:"Buyer Attorney Zipcode"},{id:12,content:"".concat(null===ut||void 0===ut||null===(ne=ut.DummyData)||void 0===ne||null===(oe=ne.sellers[0])||void 0===oe?void 0:oe.type),value:"Seller Type"},{id:13,content:"".concat(null===ut||void 0===ut||null===(le=ut.DummyData)||void 0===le||null===(ie=le.sellers[0])||void 0===ie?void 0:ie.first_name),value:"Seller First Name"},{id:14,content:"".concat(null===ut||void 0===ut||null===(ae=ut.DummyData)||void 0===ae||null===(de=ae.sellers[0])||void 0===de?void 0:de.middle_name),value:"Seller Middle Name"},{id:15,content:"".concat(null===ut||void 0===ut||null===(re=ut.DummyData)||void 0===re||null===(ue=re.sellers[0])||void 0===ue?void 0:ue.last_name),value:"Seller Last Name"},{id:16,content:"".concat(null===ut||void 0===ut||null===(ce=ut.DummyData)||void 0===ce||null===(se=ce.seller_attorney)||void 0===se?void 0:se.city),value:"Seller Attorney City"},{id:17,content:"".concat(null===ut||void 0===ut||null===(ve=ut.DummyData)||void 0===ve||null===(me=ve.seller_attorney)||void 0===me?void 0:me.address),value:"Seller Attorney Address"},{id:18,content:"".concat(null===ut||void 0===ut||null===(ye=ut.DummyData)||void 0===ye||null===(pe=ye.seller_attorney)||void 0===pe?void 0:pe.attorney_name),value:"Seller Attorney Name"},{id:19,content:"".concat(null===ut||void 0===ut||null===(xe=ut.DummyData)||void 0===xe||null===(De=xe.seller_attorney)||void 0===De?void 0:De.email),value:"Seller Attorney Email"},{id:20,content:"".concat(null===ut||void 0===ut||null===(be=ut.DummyData)||void 0===be||null===(ge=be.seller_attorney)||void 0===ge?void 0:ge.firm_name),value:"Seller Attorney Firm Name"},{id:21,content:"".concat(null===ut||void 0===ut||null===(he=ut.DummyData)||void 0===he||null===(_e=he.seller_attorney)||void 0===_e?void 0:_e.phone_number),value:"Seller Attorney Number"},{id:22,content:"".concat(null===ut||void 0===ut||null===(fe=ut.DummyData)||void 0===fe||null===(je=fe.seller_attorney)||void 0===je?void 0:je.state),value:"Seller Attorney State"},{id:23,content:"".concat(null===ut||void 0===ut||null===(Ae=ut.DummyData)||void 0===Ae||null===(we=Ae.seller_attorney)||void 0===we?void 0:we.zipcode),value:"Seller Attorney Zipcode"},{id:24,content:"".concat(null===ut||void 0===ut||null===(Se=ut.DummyData)||void 0===Se||null===(Ce=Se.lender)||void 0===Ce?void 0:Ce.address),value:"Lender Address"},{id:25,content:"".concat(null===ut||void 0===ut||null===(ke=ut.DummyData)||void 0===ke||null===(Ne=ke.lender)||void 0===Ne?void 0:Ne.city),value:"Lender City"},{id:26,content:"".concat(null===ut||void 0===ut||null===(Re=ut.DummyData)||void 0===Re||null===(Le=Re.lender)||void 0===Le?void 0:Le.organization),value:"Lender Organization"},{id:27,content:"".concat(null===ut||void 0===ut||null===(Be=ut.DummyData)||void 0===Be||null===(Ee=Be.lender)||void 0===Ee?void 0:Ee.state),value:"Lender State"},{id:28,content:"".concat(null===ut||void 0===ut||null===(Fe=ut.DummyData)||void 0===Fe||null===(Te=Fe.lender_attorney)||void 0===Te?void 0:Te.city),value:"Lender Attorney City"},{id:29,content:"".concat(null===ut||void 0===ut||null===(Ie=ut.DummyData)||void 0===Ie||null===(Pe=Ie.lender_attorney)||void 0===Pe?void 0:Pe.address),value:"Lender Attorney Address"},{id:30,content:"".concat(null===ut||void 0===ut||null===(He=ut.DummyData)||void 0===He||null===(ze=He.lender_attorney)||void 0===ze?void 0:ze.attorney_name),value:"Lender Attorney Name"},{id:31,content:"".concat(null===ut||void 0===ut||null===(Me=ut.DummyData)||void 0===Me||null===(Oe=Me.lender_attorney)||void 0===Oe?void 0:Oe.email),value:"Lender Attorney Email"},{id:32,content:"".concat(null===ut||void 0===ut||null===(We=ut.DummyData)||void 0===We||null===(Ue=We.lender_attorney)||void 0===Ue?void 0:Ue.firm_name),value:"Lender Attorney Firm Name"},{id:33,content:"".concat(null===ut||void 0===ut||null===(Ze=ut.DummyData)||void 0===Ze||null===(Ye=Ze.lender_attorney)||void 0===Ye?void 0:Ye.phone_number),value:"Lender Attorney Number"},{id:34,content:"".concat(null===ut||void 0===ut||null===(qe=ut.DummyData)||void 0===qe||null===(Ge=qe.lender_attorney)||void 0===Ge?void 0:Ge.state),value:"Lender Attorney State"},{id:35,content:"".concat(null===ut||void 0===ut||null===(Je=ut.DummyData)||void 0===Je||null===(Qe=Je.lender_attorney)||void 0===Qe?void 0:Qe.zipcode),value:"Lender Attorney Zipcode"},{id:36,content:"".concat(null===ut||void 0===ut||null===(Ke=ut.DummyData)||void 0===Ke||null===(Ve=Ke.real_estate_agents)||void 0===Ve?void 0:Ve.rea_first_name),value:"Real Estate Agents First Name"},{id:37,content:"".concat(null===ut||void 0===ut||null===(Xe=ut.DummyData)||void 0===Xe||null===($e=Xe.real_estate_agents)||void 0===$e?void 0:$e.rea_last_name),value:"Real Estate Agents Last Name"},{id:38,content:"".concat(null===ut||void 0===ut||null===(et=ut.DummyData)||void 0===et||null===(tt=et.mortgage_brokers)||void 0===tt?void 0:tt.mb_first_name),value:"Mortgage Brokers First Name"},{id:39,content:"".concat(null===ut||void 0===ut||null===(nt=ut.DummyData)||void 0===nt||null===(ot=nt.mortgage_brokers)||void 0===ot?void 0:ot.mb_last_name),value:"Mortgage Brokers Last Name"}];(0,o.useEffect)((()=>{(async()=>{try{var e;const n=await p.A.get("user/download/text_user_pdf/".concat(lt));if(null!==n&&void 0!==n&&null!==(e=n.data)&&void 0!==e&&e.status){var t;const e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.pdf_text.replace(/\n/g,"<br/>");console.log(e,"content api"),yt(e)}}catch(n){console.log(n)}})()}),[]);const bt=(e,t)=>{e.dataTransfer.setData("text",t)},gt=e=>{document.execCommand(e,!1,null)},ht=e=>{document.execCommand("formatBlock",!1,"<h".concat(e,">"))};return(0,f.jsx)(x.A,{sx:{mb:5,p:2,height:"100vh"},children:(0,f.jsx)(i.A,{sx:{px:2},children:(0,f.jsxs)(d.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",children:[(0,f.jsxs)(d.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",overflowY:"auto",width:"40%"},children:[(0,f.jsx)("h4",{children:"Subject Premises"}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:pt.map((e=>(0,f.jsx)("div",{draggable:!0,onDragStart:t=>bt(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 2px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,f.jsx)("h4",{children:"Property"}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",marginBottom:"20px"},children:xt.map((e=>(0,f.jsx)("div",{draggable:!0,onDragStart:t=>bt(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"100%",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))}),(0,f.jsx)("h4",{children:"Names"}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:"10px",marginBottom:"20px"},children:Dt.map((e=>(0,f.jsx)("div",{draggable:!0,onDragStart:t=>bt(t,e.content,e.value),style:{border:"1px solid #03a84e",color:"white",borderRadius:"10px",padding:"2px 5px",cursor:"grab",width:"auto",height:"auto",textAlign:"center",backgroundColor:"#03a84e",whiteSpace:"nowrap"},children:e.value},e.id)))})]}),(0,f.jsxs)(d.A,{gap:1,direction:"column",alignItems:"start",justifyContent:"space-between",sx:{height:"auto",maxHeight:"90vh",width:"100%",overflow:"auto"},children:[(0,f.jsxs)("div",{style:{border:"3px solid #03a84e",borderRadius:"10px",padding:"10px",minHeight:"90vh",width:"100%",fontSize:"14px",overflowY:"auto",outline:"none",boxShadow:"none",outlineStyle:"none",outlineColor:"transparent",MozOutlineStyle:"none",WebkitBoxShadow:"none",outlineWidth:0},children:[(0,f.jsxs)(d.A,{gap:1,direction:"row",alignItems:"start",justifyContent:"space-between",flexWrap:"wrap",sx:{mb:2},children:[(0,f.jsx)("button",{onClick:()=>gt("bold"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bold"}),(0,f.jsx)("button",{onClick:()=>gt("italic"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Italic"}),(0,f.jsx)("button",{onClick:()=>gt("underline"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Underline"}),(0,f.jsx)("button",{onClick:()=>gt("justifyLeft"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Left Align"}),(0,f.jsx)("button",{onClick:()=>gt("justifyCenter"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Center Align"}),(0,f.jsx)("button",{onClick:()=>gt("justifyRight"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Right Align"}),(0,f.jsx)("button",{onClick:()=>gt("insertblockquote"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Quote"}),(0,f.jsx)("button",{onClick:()=>gt("insertOrderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Numbered List"}),(0,f.jsx)("button",{onClick:()=>gt("insertUnorderedList"),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"Bullet List"}),(0,f.jsx)("button",{onClick:()=>ht(1),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H1"}),(0,f.jsx)("button",{onClick:()=>ht(2),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H2"}),(0,f.jsx)("button",{onClick:()=>ht(3),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H3"}),(0,f.jsx)("button",{onClick:()=>ht(4),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H4"}),(0,f.jsx)("button",{onClick:()=>ht(5),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H5"}),(0,f.jsx)("button",{onClick:()=>ht(6),style:{border:"1px solid #03a84e",borderRadius:"10px",padding:"5px"},children:"H6"})]}),(0,f.jsx)(D.A,{}),(0,f.jsx)("div",{ref:ct,contentEditable:!0,onDrop:e=>{e.preventDefault();const t=e.dataTransfer.getData("text"),n=document.createElement("span");n.contentEditable="false",n.style.display="inline-block",n.style.color="#000",n.style.margin="0 0px",n.style.width="auto",n.style.height="auto",n.innerText=t;const o=ct.current,l=window.getSelection();if(!l.rangeCount)return;const i=l.getRangeAt(0);let a=i.startContainer;for(;a;){if(a.nodeType===Node.ELEMENT_NODE&&"SPAN"===a.tagName)return;a=a.parentNode}i.insertNode(n),i.setStartAfter(n),l.removeAllRanges(),l.addRange(i),o.focus()},onDragOver:e=>{e.preventDefault()},dangerouslySetInnerHTML:mt?{__html:mt}:void 0})]}),(0,f.jsx)(_.A,{loading:st,variant:"contained",onClick:()=>{vt(!0);const e=ct.current;h()().set({margin:1,filename:null===at||void 0===at?void 0:at.name,html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(e).save().then((()=>{vt(!1)})).catch((()=>{vt(!1)}))},sx:{mt:"20px"},children:"Generate PDF"})]})]})})})},A=()=>{const{enqueueSnackbar:e}=(0,r.dh)(),{themeStretch:t}=(0,y.A)(),n=(0,u.zy)(),{state:x}=n,{id:D}=(0,u.g)(),{file:b}=(0,m.d4)((e=>e.File));console.log(b,"file details");const[g,h]=(0,o.useState)([]),[_,A]=(0,o.useState)(),[w,S]=(0,o.useState)(null),[C,k]=(0,o.useState)(!1),[N,R]=(0,o.useState)([]);(0,o.useRef)("");(0,o.useEffect)((()=>{(0,m.JD)((0,v.oc)())}),[]);(0,o.useEffect)((()=>{(async()=>{try{const e=await p.A.get("/user/download/user_pdf/".concat(D),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data],{type:"application/pdf"}));await L(t),console.log(t,"preview")}catch(e){console.log(e,"autofill")}finally{k(!1),S(null)}})()}),[]);const L=async e=>{const t=c.YE(e);try{const e=await t.promise;let n="";for(let t=1;t<=e.numPages;t++){const o=await e.getPage(t),l=await o.getTextContent();n+=l.items.map((e=>e.str)).join(" ")+"\n"}return console.log(n,"extractedText"),n}catch(n){return console.error("Error extracting text from PDF:",n),""}};return(0,f.jsx)(s.A,{title:"Personal Documents",children:(0,f.jsxs)(l.A,{maxWidth:!t&&"lg",children:[(0,f.jsx)(i.A,{sx:{display:"flex",alignItems:"center"},children:(0,f.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"Edit Documents"})}),(0,f.jsx)(d.A,{gap:1,direction:"row",alignItems:"center",justifyContent:"center",sx:{my:3,width:"25%"},children:(0,f.jsxs)("select",{className:"form-select",name:"file",onChange:e=>{const t=e.target.value;A(t),R([])},children:[(0,f.jsx)("option",{value:"",children:"Select File"}),null===b||void 0===b?void 0:b.map(((e,t)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.file_name},t)))]})}),_&&(0,f.jsx)(j,{docID:D,FileId:_,data:x})]})})}}}]);